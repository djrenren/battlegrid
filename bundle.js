const t=()=>{document.documentElement.style.setProperty("--app-height",`${window.innerHeight}px`)};function e(t,e,s,i){var n,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var h=t.length-1;h>=0;h--)(n=t[h])&&(o=(r<3?n(o):r>3?n(e,s,o):n(e,s))||o);return r>3&&o&&Object.defineProperty(e,s,o),o}function s(t,e,s,i){if("a"===s&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?i:"a"===s?i.call(t):i?i.value:e.get(t)}function i(t,e,s,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,s):n?n.value=s:e.set(t,s),s
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */}window.addEventListener("resize",t),t();const n=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,r=Symbol(),o=new WeakMap;class h{constructor(t,e,s){if(this._$cssResult$=!0,s!==r)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(n&&void 0===t){const s=void 0!==e&&1===e.length;s&&(t=o.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),s&&o.set(e,t))}return t}toString(){return this.cssText}}const l=t=>new h("string"==typeof t?t:t+"",void 0,r),c=(t,...e)=>{const s=1===t.length?t[0]:e.reduce(((e,s,i)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[i+1]),t[0]);return new h(s,t,r)},a=n?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const s of t.cssRules)e+=s.cssText;return l(e)})(t):t
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;var u;const d=window.trustedTypes,f=d?d.emptyScript:"",w=window.reactiveElementPolyfillSupport,p={toAttribute(t,e){switch(e){case Boolean:t=t?f:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let s=t;switch(e){case Boolean:s=null!==t;break;case Number:s=null===t?null:Number(t);break;case Object:case Array:try{s=JSON.parse(t)}catch(t){s=null}}return s}},g=(t,e)=>e!==t&&(e==e||t==t),v={attribute:!0,type:String,converter:p,reflect:!1,hasChanged:g};class y extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(t){var e;null!==(e=this.h)&&void 0!==e||(this.h=[]),this.h.push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((e,s)=>{const i=this._$Ep(s,e);void 0!==i&&(this._$Ev.set(i,s),t.push(i))})),t}static createProperty(t,e=v){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const s="symbol"==typeof t?Symbol():"__"+t,i=this.getPropertyDescriptor(t,s,e);void 0!==i&&Object.defineProperty(this.prototype,t,i)}}static getPropertyDescriptor(t,e,s){return{get(){return this[e]},set(i){const n=this[t];this[e]=i,this.requestUpdate(t,n,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||v}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const t=this.properties,e=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const s of e)this.createProperty(s,t[s])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const s=new Set(t.flat(1/0).reverse());for(const t of s)e.unshift(a(t))}else void 0!==t&&e.push(a(t));return e}static _$Ep(t,e){const s=e.attribute;return!1===s?void 0:"string"==typeof s?s:"string"==typeof t?t.toLowerCase():void 0}u(){var t;this._$E_=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||t.forEach((t=>t(this)))}addController(t){var e,s;(null!==(e=this._$ES)&&void 0!==e?e:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(s=t.hostConnected)||void 0===s||s.call(t))}removeController(t){var e;null===(e=this._$ES)||void 0===e||e.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((t,e)=>{this.hasOwnProperty(e)&&(this._$Ei.set(e,this[e]),delete this[e])}))}createRenderRoot(){var t;const e=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return((t,e)=>{n?t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):e.forEach((e=>{const s=document.createElement("style"),i=window.litNonce;void 0!==i&&s.setAttribute("nonce",i),s.textContent=e.cssText,t.appendChild(s)}))})(e,this.constructor.elementStyles),e}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}attributeChangedCallback(t,e,s){this._$AK(t,s)}_$EO(t,e,s=v){var i,n;const r=this.constructor._$Ep(t,s);if(void 0!==r&&!0===s.reflect){const o=(null!==(n=null===(i=s.converter)||void 0===i?void 0:i.toAttribute)&&void 0!==n?n:p.toAttribute)(e,s.type);this._$El=t,null==o?this.removeAttribute(r):this.setAttribute(r,o),this._$El=null}}_$AK(t,e){var s,i;const n=this.constructor,r=n._$Ev.get(t);if(void 0!==r&&this._$El!==r){const t=n.getPropertyOptions(r),o=t.converter,h=null!==(i=null!==(s=null==o?void 0:o.fromAttribute)&&void 0!==s?s:"function"==typeof o?o:null)&&void 0!==i?i:p.fromAttribute;this._$El=r,this[r]=h(e,t.type),this._$El=null}}requestUpdate(t,e,s){let i=!0;void 0!==t&&(((s=s||this.constructor.getPropertyOptions(t)).hasChanged||g)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===s.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,s))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((t,e)=>this[e]=t)),this._$Ei=void 0);let e=!1;const s=this._$AL;try{e=this.shouldUpdate(s),e?(this.willUpdate(s),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(s)):this._$Ek()}catch(t){throw e=!1,this._$Ek(),t}e&&this._$AE(s)}willUpdate(t){}_$AE(t){var e;null===(e=this._$ES)||void 0===e||e.forEach((t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach(((t,e)=>this._$EO(e,this[e],t))),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var b;y.finalized=!0,y.elementProperties=new Map,y.elementStyles=[],y.shadowRootOptions={mode:"open"},null==w||w({ReactiveElement:y}),(null!==(u=globalThis.reactiveElementVersions)&&void 0!==u?u:globalThis.reactiveElementVersions=[]).push("1.3.3");const m=globalThis.trustedTypes,k=m?m.createPolicy("lit-html",{createHTML:t=>t}):void 0,$=`lit$${(Math.random()+"").slice(9)}$`,x="?"+$,S=`<${x}>`,M=document,A=(t="")=>M.createComment(t),C=t=>null===t||"object"!=typeof t&&"function"!=typeof t,_=Array.isArray,W=t=>{var e;return _(t)||"function"==typeof(null===(e=t)||void 0===e?void 0:e[Symbol.iterator])},O=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,U=/-->/g,E=/>/g,T=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,R=/'/g,N=/"/g,D=/^(?:script|style|textarea|title)$/i,I=t=>(e,...s)=>({_$litType$:t,strings:e,values:s}),z=I(1),j=I(2),L=Symbol.for("lit-noChange"),P=Symbol.for("lit-nothing"),J=new WeakMap,B=M.createTreeWalker(M,129,null,!1),H=(t,e)=>{const s=t.length-1,i=[];let n,r=2===e?"<svg>":"",o=O;for(let e=0;e<s;e++){const s=t[e];let h,l,c=-1,a=0;for(;a<s.length&&(o.lastIndex=a,l=o.exec(s),null!==l);)a=o.lastIndex,o===O?"!--"===l[1]?o=U:void 0!==l[1]?o=E:void 0!==l[2]?(D.test(l[2])&&(n=RegExp("</"+l[2],"g")),o=T):void 0!==l[3]&&(o=T):o===T?">"===l[0]?(o=null!=n?n:O,c=-1):void 0===l[1]?c=-2:(c=o.lastIndex-l[2].length,h=l[1],o=void 0===l[3]?T:'"'===l[3]?N:R):o===N||o===R?o=T:o===U||o===E?o=O:(o=T,n=void 0);const u=o===T&&t[e+1].startsWith("/>")?" ":"";r+=o===O?s+S:c>=0?(i.push(h),s.slice(0,c)+"$lit$"+s.slice(c)+$+u):s+$+(-2===c?(i.push(void 0),e):u)}const h=r+(t[s]||"<?>")+(2===e?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==k?k.createHTML(h):h,i]};class V{constructor({strings:t,_$litType$:e},s){let i;this.parts=[];let n=0,r=0;const o=t.length-1,h=this.parts,[l,c]=H(t,e);if(this.el=V.createElement(l,s),B.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(i=B.nextNode())&&h.length<o;){if(1===i.nodeType){if(i.hasAttributes()){const t=[];for(const e of i.getAttributeNames())if(e.endsWith("$lit$")||e.startsWith($)){const s=c[r++];if(t.push(e),void 0!==s){const t=i.getAttribute(s.toLowerCase()+"$lit$").split($),e=/([.?@])?(.*)/.exec(s);h.push({type:1,index:n,name:e[2],strings:t,ctor:"."===e[1]?Z:"?"===e[1]?X:"@"===e[1]?Q:F})}else h.push({type:6,index:n})}for(const e of t)i.removeAttribute(e)}if(D.test(i.tagName)){const t=i.textContent.split($),e=t.length-1;if(e>0){i.textContent=m?m.emptyScript:"";for(let s=0;s<e;s++)i.append(t[s],A()),B.nextNode(),h.push({type:2,index:++n});i.append(t[e],A())}}}else if(8===i.nodeType)if(i.data===x)h.push({type:2,index:n});else{let t=-1;for(;-1!==(t=i.data.indexOf($,t+1));)h.push({type:7,index:n}),t+=$.length-1}n++}}static createElement(t,e){const s=M.createElement("template");return s.innerHTML=t,s}}function G(t,e,s=t,i){var n,r,o,h;if(e===L)return e;let l=void 0!==i?null===(n=s._$Cl)||void 0===n?void 0:n[i]:s._$Cu;const c=C(e)?void 0:e._$litDirective$;return(null==l?void 0:l.constructor)!==c&&(null===(r=null==l?void 0:l._$AO)||void 0===r||r.call(l,!1),void 0===c?l=void 0:(l=new c(t),l._$AT(t,s,i)),void 0!==i?(null!==(o=(h=s)._$Cl)&&void 0!==o?o:h._$Cl=[])[i]=l:s._$Cu=l),void 0!==l&&(e=G(t,l._$AS(t,e.values),l,i)),e}class K{constructor(t,e){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var e;const{el:{content:s},parts:i}=this._$AD,n=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:M).importNode(s,!0);B.currentNode=n;let r=B.nextNode(),o=0,h=0,l=i[0];for(;void 0!==l;){if(o===l.index){let e;2===l.type?e=new q(r,r.nextSibling,this,t):1===l.type?e=new l.ctor(r,l.name,l.strings,this,t):6===l.type&&(e=new tt(r,this,t)),this.v.push(e),l=i[++h]}o!==(null==l?void 0:l.index)&&(r=B.nextNode(),o++)}return n}m(t){let e=0;for(const s of this.v)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,e),e+=s.strings.length-2):s._$AI(t[e])),e++}}class q{constructor(t,e,s,i){var n;this.type=2,this._$AH=P,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=s,this.options=i,this._$Cg=null===(n=null==i?void 0:i.isConnected)||void 0===n||n}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cg}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=G(this,t,e),C(t)?t===P||null==t||""===t?(this._$AH!==P&&this._$AR(),this._$AH=P):t!==this._$AH&&t!==L&&this.$(t):void 0!==t._$litType$?this.T(t):void 0!==t.nodeType?this.k(t):W(t)?this.S(t):this.$(t)}M(t,e=this._$AB){return this._$AA.parentNode.insertBefore(t,e)}k(t){this._$AH!==t&&(this._$AR(),this._$AH=this.M(t))}$(t){this._$AH!==P&&C(this._$AH)?this._$AA.nextSibling.data=t:this.k(M.createTextNode(t)),this._$AH=t}T(t){var e;const{values:s,_$litType$:i}=t,n="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=V.createElement(i.h,this.options)),i);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===n)this._$AH.m(s);else{const t=new K(n,this),e=t.p(this.options);t.m(s),this.k(e),this._$AH=t}}_$AC(t){let e=J.get(t.strings);return void 0===e&&J.set(t.strings,e=new V(t)),e}S(t){_(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let s,i=0;for(const n of t)i===e.length?e.push(s=new q(this.M(A()),this.M(A()),this,this.options)):s=e[i],s._$AI(n),i++;i<e.length&&(this._$AR(s&&s._$AB.nextSibling,i),e.length=i)}_$AR(t=this._$AA.nextSibling,e){var s;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cg=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class F{constructor(t,e,s,i,n){this.type=1,this._$AH=P,this._$AN=void 0,this.element=t,this.name=e,this._$AM=i,this.options=n,s.length>2||""!==s[0]||""!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=P}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,s,i){const n=this.strings;let r=!1;if(void 0===n)t=G(this,t,e,0),r=!C(t)||t!==this._$AH&&t!==L,r&&(this._$AH=t);else{const i=t;let o,h;for(t=n[0],o=0;o<n.length-1;o++)h=G(this,i[s+o],e,o),h===L&&(h=this._$AH[o]),r||(r=!C(h)||h!==this._$AH[o]),h===P?t=P:t!==P&&(t+=(null!=h?h:"")+n[o+1]),this._$AH[o]=h}r&&!i&&this.C(t)}C(t){t===P?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class Z extends F{constructor(){super(...arguments),this.type=3}C(t){this.element[this.name]=t===P?void 0:t}}const Y=m?m.emptyScript:"";class X extends F{constructor(){super(...arguments),this.type=4}C(t){t&&t!==P?this.element.setAttribute(this.name,Y):this.element.removeAttribute(this.name)}}class Q extends F{constructor(t,e,s,i,n){super(t,e,s,i,n),this.type=5}_$AI(t,e=this){var s;if((t=null!==(s=G(this,t,e,0))&&void 0!==s?s:P)===L)return;const i=this._$AH,n=t===P&&i!==P||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,r=t!==P&&(i===P||n);n&&this.element.removeEventListener(this.name,this,i),r&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,s;"function"==typeof this._$AH?this._$AH.call(null!==(s=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t)}}class tt{constructor(t,e,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){G(this,t)}}const et={L:"$lit$",P:$,V:x,I:1,N:H,R:K,j:W,D:G,H:q,F,O:X,W:Q,B:Z,Z:tt},st=window.litHtmlPolyfillSupport;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var it,nt;null==st||st(V,q),(null!==(b=globalThis.litHtmlVersions)&&void 0!==b?b:globalThis.litHtmlVersions=[]).push("2.2.6");class rt extends y{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,e;const s=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=s.firstChild),s}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=((t,e,s)=>{var i,n;const r=null!==(i=null==s?void 0:s.renderBefore)&&void 0!==i?i:e;let o=r._$litPart$;if(void 0===o){const t=null!==(n=null==s?void 0:s.renderBefore)&&void 0!==n?n:null;r._$litPart$=o=new q(e.insertBefore(A(),t),t,void 0,null!=s?s:{})}return o._$AI(t),o})(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!1)}render(){return L}}rt.finalized=!0,rt._$litElement$=!0,null===(it=globalThis.litElementHydrateSupport)||void 0===it||it.call(globalThis,{LitElement:rt});const ot=globalThis.litElementPolyfillSupport;null==ot||ot({LitElement:rt}),(null!==(nt=globalThis.litElementVersions)&&void 0!==nt?nt:globalThis.litElementVersions=[]).push("3.2.1");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const ht=t=>e=>"function"==typeof e?((t,e)=>(window.customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:s,elements:i}=e;return{kind:s,elements:i,finisher(e){window.customElements.define(t,e)}}})(t,e)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,lt=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(s){s.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(s){s.createProperty(e.key,t)}};function ct(t){return(e,s)=>void 0!==s?((t,e,s)=>{e.constructor.createProperty(s,t)})(t,e,s):lt(t,e)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */}function at(t){return ct({...t,state:!0})}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ut=({finisher:t,descriptor:e})=>(s,i)=>{var n;if(void 0===i){const i=null!==(n=s.originalKey)&&void 0!==n?n:s.key,r=null!=e?{kind:"method",placement:"prototype",key:i,descriptor:e(s.key)}:{...s,key:i};return null!=t&&(r.finisher=function(e){t(e,i)}),r}{const n=s.constructor;void 0!==e&&Object.defineProperty(s,i,e(i)),null==t||t(n,i)}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;function dt(t){return ut({finisher:(e,s)=>{Object.assign(e.prototype[s],t)}})}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function ft(t,e){return ut({descriptor:s=>{const i={get(){var e,s;return null!==(s=null===(e=this.renderRoot)||void 0===e?void 0:e.querySelector(t))&&void 0!==s?s:null},enumerable:!0,configurable:!0};if(e){const e="symbol"==typeof s?Symbol():"__"+s;i.get=function(){var s,i;return void 0===this[e]&&(this[e]=null!==(i=null===(s=this.renderRoot)||void 0===s?void 0:s.querySelector(t))&&void 0!==i?i:null),this[e]}}return i}})}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var wt;null===(wt=window.HTMLSlotElement)||void 0===wt||wt.prototype.assignedElements;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const pt=1,gt=2,vt=t=>(...e)=>({_$litDirective$:t,values:e});class yt{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,s){this._$Ct=t,this._$AM=e,this._$Ci=s}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{H:bt}=et,mt=()=>document.createComment(""),kt=(t,e,s)=>{var i;const n=t._$AA.parentNode,r=void 0===e?t._$AB:e._$AA;if(void 0===s){const e=n.insertBefore(mt(),r),i=n.insertBefore(mt(),r);s=new bt(e,i,t,t.options)}else{const e=s._$AB.nextSibling,o=s._$AM,h=o!==t;if(h){let e;null===(i=s._$AQ)||void 0===i||i.call(s,t),s._$AM=t,void 0!==s._$AP&&(e=t._$AU)!==o._$AU&&s._$AP(e)}if(e!==r||h){let t=s._$AA;for(;t!==e;){const e=t.nextSibling;n.insertBefore(t,r),t=e}}}return s},$t=(t,e,s=t)=>(t._$AI(e,s),t),xt={},St=t=>{var e;null===(e=t._$AP)||void 0===e||e.call(t,!1,!0);let s=t._$AA;const i=t._$AB.nextSibling;for(;s!==i;){const t=s.nextSibling;s.remove(),s=t}},Mt=(t,e,s)=>{const i=new Map;for(let n=e;n<=s;n++)i.set(t[n],n);return i},At=vt(class extends yt{constructor(t){if(super(t),t.type!==gt)throw Error("repeat() can only be used in text expressions")}dt(t,e,s){let i;void 0===s?s=e:void 0!==e&&(i=e);const n=[],r=[];let o=0;for(const e of t)n[o]=i?i(e,o):o,r[o]=s(e,o),o++;return{values:r,keys:n}}render(t,e,s){return this.dt(t,e,s).values}update(t,[e,s,i]){var n;const r=(t=>t._$AH)(t),{values:o,keys:h}=this.dt(e,s,i);if(!Array.isArray(r))return this.ut=h,o;const l=null!==(n=this.ut)&&void 0!==n?n:this.ut=[],c=[];let a,u,d=0,f=r.length-1,w=0,p=o.length-1;for(;d<=f&&w<=p;)if(null===r[d])d++;else if(null===r[f])f--;else if(l[d]===h[w])c[w]=$t(r[d],o[w]),d++,w++;else if(l[f]===h[p])c[p]=$t(r[f],o[p]),f--,p--;else if(l[d]===h[p])c[p]=$t(r[d],o[p]),kt(t,c[p+1],r[d]),d++,p--;else if(l[f]===h[w])c[w]=$t(r[f],o[w]),kt(t,r[d],r[f]),f--,w++;else if(void 0===a&&(a=Mt(h,w,p),u=Mt(l,d,f)),a.has(l[d]))if(a.has(l[f])){const e=u.get(h[w]),s=void 0!==e?r[e]:null;if(null===s){const e=kt(t,r[d]);$t(e,o[w]),c[w]=e}else c[w]=$t(s,o[w]),kt(t,r[d],s),r[e]=null;w++}else St(r[f]),f--;else St(r[d]),d++;for(;w<=p;){const e=kt(t,c[p+1]);$t(e,o[w]),c[w++]=e}for(;d<=f;){const t=r[d++];null!==t&&St(t)}return this.ut=h,((t,e=xt)=>{t._$AH=e})(t,c),L}}),Ct=(t,e)=>[t[0]+e[0],t[1]+e[1]],_t=(t,e)=>Ct(t,[e,e]),Wt=(t,e)=>[t[0]-e[0],t[1]-e[1]],Ot=(t,e)=>[t[0]*e,t[1]*e],Ut=(t,e)=>[t[0]/e,t[1]/e],Et=(t,e)=>[Math.max(t[0],e[0]),Math.max(t[1],e[1])],Tt=(t,e)=>[Math.min(t[0],e[0]),Math.min(t[1],e[1])],Rt=(t,e,s)=>Et(t,Tt(e,s)),Nt=(t,e)=>t[0]===e[0]&&t[1]===e[1],Dt=t=>t.isPrimary&&("touch"===t.pointerType||t.pressure>0),It=t=>"mouse"===t.pointerType&&1===t.buttons&&t.pressure>0,zt=t=>{t.preventDefault(),t.stopPropagation()},jt=(t,e)=>new CustomEvent(t,{detail:e,cancelable:!0,bubbles:!0,composed:!0});
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Lt=async t=>{if(!t.dataTransfer)throw"No compatible drop type found";let e=t.dataTransfer?.items??[];return new Promise((async(t,s)=>{console.log("DataItems",e.length);for(let s=0;s<e.length;s++){if(console.log(e[s].type),e[s].type.startsWith("image/"))return t(e[s].getAsFile());if("text/html"===e[s].type)return void e[s].getAsString((e=>t(Pt(e))));if("application/x-moz-file-promise-url"===e[s].type)return void e[s].getAsString((t=>{}));if("string"===e[s].kind){let t=e[s].type;e[s].getAsString((e=>console.log(t,e)))}}return s("No compatible drop type found")}))};function Pt(t){const e=(new DOMParser).parseFromString(t,"text/html").querySelector("img")?.src;return e??null}const Jt=t=>new CustomEvent("game-event",{detail:t}),Bt=t=>t[Symbol.iterator]().next().value;function*Ht(t,e){for(let s of t)yield e(s)}
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Vt=vt(class extends yt{constructor(t){var e;if(super(t),t.type!==pt||"style"!==t.name||(null===(e=t.strings)||void 0===e?void 0:e.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce(((e,s)=>{const i=t[s];return null==i?e:e+`${s=s.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${i};`}),"")}update(t,[e]){const{style:s}=t.element;if(void 0===this.ct){this.ct=new Set;for(const t in e)this.ct.add(t);return this.render(e)}this.ct.forEach((t=>{null==e[t]&&(this.ct.delete(t),t.includes("-")?s.removeProperty(t):s[t]="")}));for(const t in e){const i=e[t];null!=i&&(this.ct.add(t),t.includes("-")?s.setProperty(t,i):s[t]=i)}return L}});var Gt,Kt,qt,Ft,Zt,Yt,Xt,Qt,te,ee,se,ie,ne,re,oe,he,le,ce,ae,ue,de,fe;let we=class extends rt{constructor(){super(),Gt.add(this),this.width=30,this.height=40,this.selection=new Set,this.callouts=new Set,Kt.set(this,void 0),qt.set(this,void 0),Zt.set(this,0),Yt.set(this,(t=>{var e;zt(t),i(this,Zt,(e=s(this,Zt,"f"),++e),"f")})),Xt.set(this,(t=>{zt(t);const e=s(this,de,"f").call(this,t).map(ge),i=Ot(_t([this.width,this.height],-1),24);this._drop_hint=Rt([0,0],i,e),this.hovering="canvas"})),Qt.set(this,(t=>{var e;i(this,Zt,(e=s(this,Zt,"f"),--e),"f")<=0&&(this._drop_hint=void 0,this.hovering=void 0)})),te.set(this,(t=>{zt(t),this._drop_hint=void 0,this.hovering="bg"})),ee.set(this,(async t=>{zt(t);try{const e=await Lt(t);this.dispatchEvent(jt("bg-drop",e))}catch(t){}i(this,Zt,0,"f"),this.hovering=void 0})),se.set(this,(async t=>{zt(t);try{const e=await Lt(t);console.log("Emitting drop"),this.dispatchEvent(jt("token-drop",{loc:this._drop_hint,dim:[24,24],img:e}))}catch(t){}this._drop_hint=void 0,this.hovering=void 0})),ie.set(this,(t=>{It(t)&&s(this,re,"f").call(this,t)})),ne.set(this,(t=>{(t=>t.isPrimary&&"touch"===t.pointerType)(t)&&s(this,re,"f").call(this,t)})),re.set(this,(t=>{t.preventDefault(),t.stopPropagation();const e=t.target.id;t.shiftKey||t.ctrlKey?this.dispatchEvent(jt("token-select",[e,...this.selection].filter((t=>t!==e||!this.selection.has(e))))):this.dispatchEvent(jt("token-select",[t.target.id]))})),ae.set(this,void 0),ue.set(this,{move:[0,0],resize:[0,0],r:0}),de.set(this,(t=>Wt(this.viewport.coordToLocal([t.clientX,t.clientY]),[20,20]))),fe.set(this,(t=>{if(!this.selection)return;if(8===t.keyCode)return this.dispatchEvent(Jt({type:"token-removed",ids:Array.from(this.selection)})),void zt(t);"z"===t.key&&s(this,qt,"f")&&this.dispatchEvent(Jt({type:"callout",loc:s(this,de,"f").call(this,s(this,qt,"f"))})),this.board.get("tokens").get(this.selection.values().next().value);let e={ArrowUp:[0,-24],ArrowDown:[0,24],ArrowLeft:[-24,0],ArrowRight:[24,0]}[t.key];e&&(this.dispatchEvent(Jt({type:"token-manipulated",tokens:Array.from(this.selection,(t=>{const i=this.board.get("tokens").get(t),n=Rt([0,0],Wt(s(this,Gt,"a",Ft),i.get("dim")),Ct(i.get("loc"),e));return{id:i.get("id"),loc:n,dim:i.get("dim"),r:i.get("r")}}))})),zt(t))}))}connectedCallback(){super.connectedCallback(),document.addEventListener("keydown",s(this,fe,"f"))}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("keydown",s(this,fe,"f"))}render(){if(console.log("canvas render"),!this.board)return z``;let[t,e]=s(this,Gt,"a",Ft),n=s(this,Gt,"m",ce).call(this),r=1===this.selection.size?this.board.get("tokens").get(this.selection.values().next().value):void 0;return z`
      <p-p-z
        @pointerdown=${s(this,Gt,"m",oe)}
        @pointermove=${s(this,Gt,"m",he)}
        @pointerup=${s(this,Gt,"m",le)}
        @pointerleave=${()=>i(this,qt,void 0,"f")}
        @dragstart=${zt}
        @dragenter=${s(this,Yt,"f")}
        @dragleave=${s(this,Qt,"f")}
        @dragstop=${s(this,Qt,"f")}
        @dragover=${s(this,Xt,"f")}
        @drop=${s(this,se,"f")}
      >
        <svg
          id="root"
          width=${t+40}
          height=${e+40}
          style=${Vt({width:`${t+40}px`,height:`${e+40}px`})}
        >
          <defs>
            <clipPath id="canvasClip">
              <rect width=${t} height=${e} rx=${5}></rect>
            </clipPath>
            <pattern id="horiz" x=${-.25} y=${-.25} width="100%" height=${24} patternUnits="userSpaceOnUse">
              <rect class="gridline" width="100%" height=${.5} fill="#d3d3d3" shape-rendering="geometricPrecision"></rect>
            </pattern>
            <pattern id="vert" x=${-.25} y=${-.25} width=${24} height="100%" patternUnits="userSpaceOnUse">
              <rect class="gridline" width=${.5} height="100%" fill="#d3d3d3" shape-rendering="geometric precision"></rect>
            </pattern>
            <pattern id="loading" patternUnits="userSpaceOnUse" width="1" height="1">
              <rect width="1" height="1" fill="white"></rect>
              <image href="assets/loading.svg" width="1" height="1" />
            </pattern>
          </defs>
          <svg x=${20} y=${20} width=${t} height=${e} id="surface">
            <rect class="shadow" width="100%" height="100%" fill="white" rx=${5}></rect>
            <svg clip-path="url(#canvasClip)">
              ${this.bg?j`<image href=${this.bg} width="100%" height="100%" preserveAspectRatio="none" style="will-change: transform"></image>`:null}
              <rect width="100%" height="100%" fill="url(#horiz)" opacity="0.75" pointer-events="none"></rect>
              <rect width="100%" height="100%" fill="url(#vert)" opacity="0.75" pointer-events="none"></rect>
              <svg id="tokens">
                ${At(this.board.get("order")??[],(t=>t),((t,e)=>{const i=this.board.get("tokens").get(t),[r,o]=_t(i.get("dim"),-.5),[h,l]=_t(i.get("loc"),.25);return z`
                      <svg
                        viewBox="0 0 1 1"
                        x=${h}
                        y=${l}
                        width=${r}
                        height=${o}
                        fill="transparent"
                        preserveAspectRatio="none"
                        @pointerdown=${s(this,ie,"f")}
                        @pointerup=${s(this,ne,"f")}
                      >
                        <image
                          id=${t}
                          class="token"
                          width="1"
                          height="1"
                          href=${i.get("url")}
                          style=${`transform: rotate(${i.get("r")}deg)`}
                          preserveAspectRatio="none"
                          @load=${ve}
                        ></image>
                        <rect width="1" height="1" class="loading"></rect>
                      </svg>

                      ${n?.index===e?j`<rect
                            class="selection-drag-target"
                            x=${n.bbox.start[0]}
                            y=${n.bbox.start[1]}
                            width=${n.bbox.end[0]-n.bbox.start[0]}
                            height=${n.bbox.end[1]-n.bbox.start[1]}
                            fill="transparent"
                            @touchmove=${this.prevent_safari_scroll}
                            @pointerdown=${this.selection_drag_start}
                            @pointermove=${this.selection_drag}
                            @pointerup=${this.selection_drag_end}
                        ></rect>`:null}
                    `}))}
              </svg>
              ${this._drop_hint?j`
            <rect
                class="drop_hint"
                x=${this._drop_hint[0]}
                y=${this._drop_hint[1]}
                width=${24}
                height=${24}
                ></rect>
          `:null}
            </svg>
            ${s(this,Kt,"f")?j`
              <rect id="sbox"
                x=${Math.min(s(this,Kt,"f").pin[0],s(this,Kt,"f").mouse[0])}
                y=${Math.min(s(this,Kt,"f").pin[1],s(this,Kt,"f").mouse[1])}
                width=${Math.abs(s(this,Kt,"f").pin[0]-s(this,Kt,"f").mouse[0])}
                height=${Math.abs(s(this,Kt,"f").pin[1]-s(this,Kt,"f").mouse[1])}
                ></rect>
              `:null}
            ${At(this.callouts,(t=>t),(t=>{const[e,s]=Wt(t,[12,12]);return j`
                  <image href="assets/callout.svg" x=${e} y=${s} width=${24} height=${24}></image>
                `}))}
            ${n?j`
            <svg
              id="selection"
              x=${n.bbox.start[0]}
              y=${n.bbox.start[1]}
              width=${n.bbox.end[0]-n.bbox.start[0]}
              height=${n.bbox.end[1]-n.bbox.start[1]}
              @touchmove=${this.prevent_safari_scroll}
              @pointerdown=${this.selection_drag_start}
              @pointermove=${this.selection_drag}
              @pointerup=${this.selection_drag_end}>
              <rect class="selection-box" width="100%" height="100%"  ></rect>
            ${r?j`
            <g style=${`transform-origin: center; transform: rotate(${r.get("r")}deg) translateY(${Math.sign((r.get("r")-180)%180)*(r.get("dim")[0]-r.get("dim")[1])/2}px)`}>
              <line class="ro" x1="50%" x2="50%" y2=${-10}></line>
              <circle class="ro handle" cx="50%" cy=${-10} r=${2}></circle>
            </g>
            <line class="rn" x2="100%"></line>
            <line class="rw" y2="100%"></line>
            <line class="re" x1="100%" x2="100%" y2="100%"></line>
            <line class="rs" y1="100%" x2="100%" y2="100%"></line>
            <rect class="handle rn rw"></rect>
            <rect class="handle rn re" x="100%"></rect>
            <rect class="handle rs rw" y="100%"></rect>
            <rect class="handle rs re" x="100%" y="100%"></rect>
            </g>
            </svg>`:null}`:null}
          </svg>
        </svg>
      </p-p-z>
      <div
        id="bg-drop"
        class=${this.hovering??""}
        @dragenter=${s(this,Yt,"f")}
        @dragover=${s(this,te,"f")}
        @dragleave=${s(this,Qt,"f")}
        @drop=${s(this,ee,"f")}
      >
        <div id="bg-drop-label" @drop=${s(this,ee,"f")}>Set Background</div>
      </div>
    `}createRenderRoot(){return super.createRenderRoot()}prevent_safari_scroll(t){zt(t)}selection_drag_start(t){if(!Dt(t))return;const e=s(this,de,"f").call(this,t);zt(t),t.target.setPointerCapture(t.pointerId),i(this,ae,e,"f")}selection_drag(t){if(!Dt(t))return;s(this,ae,"f")||this.selection_drag_start(t),zt(t);const e=Rt([0,0],s(this,Gt,"a",Ft),s(this,de,"f").call(this,t)),n=this.board.get("tokens").get(this.selection.values().next().value),r=n.get("dim"),o=n.get("loc"),h=t.target.classList;let l=[0,0],c=[0,0],a=0;if(h.contains("rn")&&(c[1]=o[1]-pe(e[1]),l[1]=pe(e[1])-o[1]),h.contains("rw")&&(c[0]=o[0]-pe(e[0]),l[0]=pe(e[0])-o[0]),h.contains("rs")&&(c[1]=pe(e[1])-r[1]-o[1]),h.contains("re")&&(c[0]=pe(e[0])-r[0]-o[0]),h.contains("ro")){const t=Ct(o,Ut(r,2)),s=Wt(e,t),i=180*Math.atan2(s[0],-s[1])/Math.PI;a=90*Math.round(i/90)-n.get("r")%360}h.contains("selection-drag-target")?l=Wt(e,s(this,ae,"f")).map(pe):(l=Tt(_t(r,-24),l),c=Et(_t(Ot(r,-1),24),c)),a===s(this,ue,"f").r&&Nt(l,s(this,ue,"f").move)&&Nt(c,s(this,ue,"f").resize)||(i(this,ae,Ct(s(this,ae,"f"),l),"f"),i(this,ue,{move:[0,0],resize:[0,0],r:0},"f"),this.dispatchEvent(Jt({type:"token-manipulated",tokens:Array.from(this.selection,(t=>{let e=this.board.get("tokens").get(t);return{id:e.get("id"),loc:Ct(e.get("loc"),l),dim:Ct(e.get("dim"),c),r:e.get("r")+a}}))})))}selection_drag_end(t){zt(t),i(this,ae,void 0,"f")}};Kt=new WeakMap,qt=new WeakMap,Zt=new WeakMap,Yt=new WeakMap,Xt=new WeakMap,Qt=new WeakMap,te=new WeakMap,ee=new WeakMap,se=new WeakMap,ie=new WeakMap,ne=new WeakMap,re=new WeakMap,ae=new WeakMap,ue=new WeakMap,de=new WeakMap,fe=new WeakMap,Gt=new WeakSet,Ft=function(){return Ot([this.width,this.height],24)},oe=function(t){if(!It(t))return;t.target.setPointerCapture(t.pointerId);const e=s(this,de,"f").call(this,t);i(this,Kt,{pin:e,mouse:e},"f")},he=function(t){i(this,qt,{clientX:t.clientX,clientY:t.clientY},"f"),s(this,Kt,"f")&&(s(this,Kt,"f").mouse=s(this,de,"f").call(this,t),this.requestUpdate())},le=function(t){if(!s(this,Kt,"f"))return this.dispatchEvent(jt("token-select",[]));t.target.setPointerCapture(t.pointerId);const e=Tt(s(this,Kt,"f").pin,s(this,Kt,"f").mouse),n=(t=>[Math.abs(t[0]),Math.abs(t[1])])(Wt(s(this,Kt,"f").pin,s(this,Kt,"f").mouse)),r={start:e,end:Ct(e,n)},o=Ht(function*(t,e){for(let s of t)e(s)&&(yield s)}(this.board.get("tokens").values(),(t=>((t,e)=>!(e.start[0]>t.end[0]||e.end[0]<t.start[0]||e.start[1]>t.end[1]||e.end[1]<t.start[1]))(r,{start:t.get("loc"),end:Ct(t.get("loc"),t.get("dim"))}))),(t=>t.get("id")));i(this,Kt,void 0,"f"),this.dispatchEvent(jt("token-select",[...o])),this.requestUpdate()},ce=function(){if(0===this.selection.size)return;const t=Array.from(this.selection,(t=>this.board.get("tokens").get(t))).filter((t=>t)),e=Math.max(...Ht(this.selection.values(),(t=>this.board.get("order").toJSON().indexOf(t))));let s=t[0].get("loc"),i=Ct(t[0].get("loc"),t[0].get("dim"));return t.forEach((t=>{s=Tt(s,t.get("loc")),i=Et(i,Ct(t.get("loc"),t.get("dim")))})),{index:e,bbox:{start:s,end:i}}},we.styles=c`
    :host {
      position: relative;
      display: block;
      --selection-color: cornflowerblue;
      overflow: hidden;
    }

    p-p-z {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
    }
    #root {
      backface-visibility: hidden;
    }

    #sbox {
      stroke: var(--selection-color);
      stroke-width: 1px;
      fill: var(--selection-color);
      fill-opacity: 0.2;
    }

    #bg-drop {
      position: absolute;
      right: 5px;
      bottom: -60px;
      display: inline-block;
      height: 50px;
      transition: bottom 250ms;
      background: var(--ui-bg);
      border-radius: 5px 5px 0 0;
      display: grid;
      padding: 5px;
      grid: 1fr 1fr;
      text-align: center;
      display: none;
    }

    #bg-drop.canvas,
    #bg-drop.bg {
      bottom: 0;
      box-shadow: 2px 4px 8px rgba(0, 0, 0, 0.3);
      display: block;
    }

    #bg-drop-label {
      --color: gray;
      padding: 0 1em;
      border: 2px solid var(--color);
      color: var(--color);
      border-radius: 5px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }

    .bg > #bg-drop-label {
      --color: blue;
    }

    svg {
      overflow: visible;
    }

    #surface {
      clip-path: rect(100%);
    }

    .shadow {
      stroke-width: ${.5};
      stroke: rgba(0, 0, 0, 0.2);
      filter: drop-shadow(2px 4px 6px rgba(0, 0, 0, 0.3));
    }

    .drop_hint {
      transition: none;
      pointer-events: none;
      fill: gray;
    }

    .selection-box,
    line.ro {
      stroke: var(--selection-color);
      stroke-width: 1px;
      filter: drop-shadow(0px 0px 2px var(--selection-color));
      fill: transparent;
    }

    .selection-box {
      pointer-events: none !important;
    }

    .rn,
    .rs,
    .re,
    .rw {
      stroke-width: ${8};
      vector-effect: non-scaling-stroke;
      stroke: transparent;
    }

    .handle {
      stroke-width: 1px;
      fill: var(--selection-color);
      stroke: white;
    }

    .selection-drag-target {
      pointer-events: fill;
      cursor: move;
    }

    rect.handle {
      width: ${8}px;
      height: ${8}px;
      transform: translate(${-4}px, ${-4}px);
    }

    .ro.handle {
      cursor: crosshair;
    }

    .rn.re,
    .rs.rw {
      cursor: nesw-resize;
    }

    .rn.rw,
    .rs.re {
      cursor: nwse-resize;
    }

    .rn,
    .rs {
      cursor: row-resize;
    }

    .re,
    .rw {
      cursor: col-resize;
    }

    p-p-z {
      background-color: #ededf0;
    }

    .token {
      transform-box: fill-box;
      transform-origin: center;
      fill: transparent;
    }

    .token + .loading {
      fill: url(#loading);
      pointer-events: none;
    }

    .token.loaded + .loading {
      fill: transparent;
    }

    #selection {
      pointer-events: none;
    }

    #selection * {
      pointer-events: auto;
    }
  `,e([ct({type:Number})],we.prototype,"width",void 0),e([ct({type:Number})],we.prototype,"height",void 0),e([ct()],we.prototype,"bg",void 0),e([ct({attribute:!1})],we.prototype,"board",void 0),e([ct({attribute:!1})],we.prototype,"selection",void 0),e([ct({attribute:!1})],we.prototype,"callouts",void 0),e([ct({attribute:!1})],we.prototype,"sel_bbox",void 0),e([ft("root",!0)],we.prototype,"root",void 0),e([ft("p-p-z",!0)],we.prototype,"viewport",void 0),e([at()],we.prototype,"_drop_hint",void 0),e([at()],we.prototype,"hovering",void 0),e([dt({capture:!0,passive:!1})],we.prototype,"prevent_safari_scroll",null),e([dt({capture:!0,passive:!1})],we.prototype,"selection_drag_start",null),e([dt({capture:!0,passive:!1})],we.prototype,"selection_drag",null),e([dt({capture:!0,passive:!1})],we.prototype,"selection_drag_end",null),we=e([ht("bg-canvas")],we);const pe=t=>24*Math.round(t/24),ge=t=>t-t%24,ve=t=>t.target.classList.add("loaded");var ye,be;let me=class extends rt{constructor(){super(...arguments),this._state=!1,this._loaded=!1,this._buy=t=>{console.log("CLICK"),zt(t),this._state=!0,document.addEventListener("click",s(this,ye,"f"),{capture:!0})},ye.set(this,(t=>{zt(t),this._state=!1,document.removeEventListener("click",s(this,ye,"f"),{capture:!0})})),be.set(this,(t=>{this._loaded=!0}))}render(){return z`<button @click="${this._buy}">Buy Me A Coffee</button> ${this._state?z`<div id="container"><iframe class="${this._loaded?"loaded":""}" allow="payment" src="https://ko-fi.com/djrenren/?hidefeed=true&widget=true&embed=true&preview=true" title="djrenren" @load="${s(this,be,"f")}"></iframe></div>`:null}`}};ye=new WeakMap,be=new WeakMap,me.styles=c`:host{display:block;position:relative}iframe{border:none;display:block;opacity:0;width:100%;height:100%;transition:opacity .5s linear}#container{border-radius:5px;box-shadow:0 0 6px rgba(0,0,0,.7);position:absolute;width:350px;height:525px;bottom:-535px;right:0;animation-name:fade;animation-duration:.5s;animation-direction:backwards;background:url(assets/loading.svg) center/100px no-repeat,#ededf0;overflow:hidden}iframe.loaded{opacity:1}@keyframes fade{0%{opacity:0}100%{opacity:1}}`,e([at()],me.prototype,"_state",void 0),e([at()],me.prototype,"_loaded",void 0),me=e([ht("buy-me-a-coffee")],me);const ke=()=>new Map,$e=t=>{const e=ke();return t.forEach(((t,s)=>{e.set(s,t)})),e},xe=(t,e,s)=>{let i=t.get(e);return void 0===i&&t.set(e,i=s()),i},Se=()=>new Set,Me=t=>t[t.length-1],Ae=(t,e)=>{for(let s=0;s<e.length;s++)t.push(e[s])},Ce=Array.from;class _e{constructor(){this._observers=ke()}on(t,e){xe(this._observers,t,Se).add(e)}once(t,e){const s=(...i)=>{this.off(t,s),e(...i)};this.on(t,s)}off(t,e){const s=this._observers.get(t);void 0!==s&&(s.delete(e),0===s.size&&this._observers.delete(t))}emit(t,e){return Ce((this._observers.get(t)||ke()).values()).forEach((t=>t(...e)))}destroy(){this._observers=ke()}}const We=Math.floor,Oe=Math.abs,Ue=Math.log10,Ee=(t,e)=>t<e?t:e,Te=(t,e)=>t>e?t:e,Re=t=>0!==t?t<0:1/t<0,Ne=/^\s*/g,De=/([A-Z])/g,Ie=(t,e)=>(t=>t.replace(Ne,""))(t.replace(De,(t=>`${e}${(t=>t.toLowerCase())(t)}`)));"undefined"!=typeof TextEncoder&&new TextEncoder;let ze="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});ze&&1===ze.decode(new Uint8Array).length&&(ze=null);const je=t=>void 0===t?null:t;let Le=new class{constructor(){this.map=new Map}setItem(t,e){this.map.set(t,e)}getItem(t){return this.map.get(t)}},Pe=!0;try{"undefined"!=typeof localStorage&&(Le=localStorage,Pe=!1)}catch(mt){}const Je=Le,Be="undefined"!=typeof process&&process.release&&/node|io\.js/.test(process.release.name);let He;"undefined"!=typeof navigator&&/Mac/.test(navigator.platform);const Ve=t=>(()=>{if(void 0===He)if(Be){He=ke();const t=process.argv;let e=null;for(let s=0;s<t.length;s++){const i=t[s];"-"===i[0]?(null!==e&&He.set(e,""),e=i):null!==e&&(He.set(e,i),e=null)}null!==e&&He.set(e,"")}else"object"==typeof location?(He=ke(),(location.search||"?").slice(1).split("&").forEach((t=>{if(0!==t.length){const[e,s]=t.split("=");He.set(`--${Ie(e,"-")}`,s),He.set(`-${Ie(e,"-")}`,s)}}))):He=ke();return He})().has(t);var Ge;Ve("--"+(Ge="production"))||(t=>{je(Be?process.env[t.toUpperCase()]:Je.getItem(t))})(Ge);class Ke{constructor(t){this.arr=t,this.pos=0}}const qe=t=>new Ke(t),Fe=t=>((t,e)=>{const s=hs(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,s})(t,Ye(t)),Ze=t=>t.arr[t.pos++],Ye=t=>{let e=0,s=0;for(;;){const i=t.arr[t.pos++];if(e|=(127&i)<<s,s+=7,i<128)return e>>>0;if(s>53)throw new Error("Integer out of range!")}},Xe=t=>{let e=t.arr[t.pos++],s=63&e,i=6;const n=(64&e)>0?-1:1;if(0==(128&e))return n*s;for(;;){if(e=t.arr[t.pos++],s|=(127&e)<<i,i+=7,e<128)return n*(s>>>0);if(i>53)throw new Error("Integer out of range!")}},Qe=t=>{let e=Ye(t);if(0===e)return"";{let s=String.fromCodePoint(Ze(t));if(--e<100)for(;e--;)s+=String.fromCodePoint(Ze(t));else for(;e>0;){const i=e<1e4?e:1e4,n=t.arr.subarray(t.pos,t.pos+i);t.pos+=i,s+=String.fromCodePoint.apply(null,n),e-=i}return decodeURIComponent(escape(s))}},ts=(t,e)=>{const s=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,s},es=[t=>{},t=>null,Xe,t=>ts(t,4).getFloat32(0,!1),t=>ts(t,8).getFloat64(0,!1),t=>ts(t,8).getBigInt64(0,!1),t=>!1,t=>!0,Qe,t=>{const e=Ye(t),s={};for(let i=0;i<e;i++){s[Qe(t)]=ss(t)}return s},t=>{const e=Ye(t),s=[];for(let i=0;i<e;i++)s.push(ss(t));return s},Fe],ss=t=>es[127-Ze(t)](t);class is extends Ke{constructor(t,e){super(t),this.reader=e,this.s=null,this.count=0}read(){var t;return 0===this.count&&(this.s=this.reader(this),(t=this).pos!==t.arr.length?this.count=Ye(this)+1:this.count=-1),this.count--,this.s}}class ns extends Ke{constructor(t){super(t),this.s=0,this.count=0}read(){if(0===this.count){this.s=Xe(this);const t=Re(this.s);this.count=1,t&&(this.s=-this.s,this.count=Ye(this)+2)}return this.count--,this.s}}class rs extends Ke{constructor(t){super(t),this.s=0,this.count=0,this.diff=0}read(){if(0===this.count){const t=Xe(this),e=1&t;this.diff=t>>1,this.count=1,e&&(this.count=Ye(this)+2)}return this.s+=this.diff,this.count--,this.s}}class os{constructor(t){this.decoder=new ns(t),this.str=Qe(this.decoder),this.spos=0}read(){const t=this.spos+this.decoder.read(),e=this.str.slice(this.spos,t);return this.spos=t,e}}const hs=(t,e,s)=>new Uint8Array(t,e,s),ls=t=>{const e=(s=t.byteLength,new Uint8Array(s));var s;return e.set(t),e},cs=Number.isInteger||(t=>"number"==typeof t&&isFinite(t)&&We(t)===t);class as{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const us=()=>new as,ds=t=>{const e=new Uint8Array((t=>{let e=t.cpos;for(let s=0;s<t.bufs.length;s++)e+=t.bufs[s].length;return e})(t));let s=0;for(let i=0;i<t.bufs.length;i++){const n=t.bufs[i];e.set(n,s),s+=n.length}return e.set(hs(t.cbuf.buffer,0,t.cpos),s),e},fs=(t,e)=>{const s=t.cbuf.length;t.cpos===s&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(2*s),t.cpos=0),t.cbuf[t.cpos++]=e},ws=fs,ps=(t,e)=>{for(;e>127;)fs(t,128|127&e),e>>>=7;fs(t,127&e)},gs=(t,e)=>{const s=Re(e);for(s&&(e=-e),fs(t,(e>63?128:0)|(s?64:0)|63&e),e>>>=6;e>0;)fs(t,(e>127?128:0)|127&e),e>>>=7},vs=(t,e)=>{const s=unescape(encodeURIComponent(e)),i=s.length;ps(t,i);for(let e=0;e<i;e++)fs(t,s.codePointAt(e))},ys=(t,e)=>{const s=t.cbuf.length,i=t.cpos,n=Ee(s-i,e.length),r=e.length-n;t.cbuf.set(e.subarray(0,n),i),t.cpos+=n,r>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(Te(2*s,r)),t.cbuf.set(e.subarray(n)),t.cpos=r)},bs=(t,e)=>{ps(t,e.byteLength),ys(t,e)},ms=(t,e)=>{((t,e)=>{const s=t.cbuf.length;s-t.cpos<e&&(t.bufs.push(hs(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(2*Te(s,e)),t.cpos=0)})(t,e);const s=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,s},ks=new DataView(new ArrayBuffer(4)),$s=(t,e)=>{switch(typeof e){case"string":fs(t,119),vs(t,e);break;case"number":cs(e)&&Oe(e)<=2147483647?(fs(t,125),gs(t,e)):(s=e,ks.setFloat32(0,s),ks.getFloat32(0)===s?(fs(t,124),((t,e)=>{ms(t,4).setFloat32(0,e,!1)})(t,e)):(fs(t,123),((t,e)=>{ms(t,8).setFloat64(0,e,!1)})(t,e)));break;case"bigint":fs(t,122),((t,e)=>{ms(t,8).setBigInt64(0,e,!1)})(t,e);break;case"object":if(null===e)fs(t,126);else if(e instanceof Array){fs(t,117),ps(t,e.length);for(let s=0;s<e.length;s++)$s(t,e[s])}else if(e instanceof Uint8Array)fs(t,116),bs(t,e);else{fs(t,118);const s=Object.keys(e);ps(t,s.length);for(let i=0;i<s.length;i++){const n=s[i];vs(t,n),$s(t,e[n])}}break;case"boolean":fs(t,e?120:121);break;default:fs(t,127)}var s};class xs extends as{constructor(t){super(),this.w=t,this.s=null,this.count=0}write(t){this.s===t?this.count++:(this.count>0&&ps(this,this.count-1),this.count=1,this.w(this,t),this.s=t)}}const Ss=t=>{t.count>0&&(gs(t.encoder,1===t.count?t.s:-t.s),t.count>1&&ps(t.encoder,t.count-2))};class Ms{constructor(){this.encoder=new as,this.s=0,this.count=0}write(t){this.s===t?this.count++:(Ss(this),this.count=1,this.s=t)}toUint8Array(){return Ss(this),ds(this.encoder)}}const As=t=>{if(t.count>0){const e=t.diff<<1|(1===t.count?0:1);gs(t.encoder,e),t.count>1&&ps(t.encoder,t.count-2)}};class Cs{constructor(){this.encoder=new as,this.s=0,this.count=0,this.diff=0}write(t){this.diff===t-this.s?(this.s=t,this.count++):(As(this),this.count=1,this.diff=t-this.s,this.s=t)}toUint8Array(){return As(this),ds(this.encoder)}}class _s{constructor(){this.sarr=[],this.s="",this.lensE=new Ms}write(t){this.s+=t,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(t.length)}toUint8Array(){const t=new as;return this.sarr.push(this.s),this.s="",vs(t,this.sarr.join("")),ys(t,this.lensE.toUint8Array()),ds(t)}}const Ws="undefined"==typeof crypto?null:crypto,Os=null!==Ws?t=>{const e=new ArrayBuffer(t),s=new Uint8Array(e);return Ws.getRandomValues(s),e}:t=>{const e=new ArrayBuffer(t),s=new Uint8Array(e);for(let e=0;e<t;e++)s[e]=Math.ceil(4294967295*Math.random()>>>0);return e},Us=()=>new Uint32Array(Os(4))[0],Es=[1e7]+-1e3+-4e3+-8e3+-1e11,Ts=()=>Es.replace(/[018]/g,(t=>(t^Us()&15>>t/4).toString(16))),Rs=Date.now,Ns=t=>new Error(t),Ds=()=>{throw Ns("Method unimplemented")},Is=()=>{throw Ns("Unexpected case")},zs=Object.keys,js=t=>zs(t).length,Ls=(t,e)=>t===e||js(t)===js(e)&&((t,e)=>{for(const s in t)if(!e(t[s],s))return!1;return!0})(t,((t,s)=>(void 0!==t||((t,e)=>Object.prototype.hasOwnProperty.call(t,e))(e,s))&&e[s]===t)),Ps=(t,e,s=0)=>{try{for(;s<t.length;s++)t[s](...e)}finally{s<t.length&&Ps(t,e,s+1)}},Js=Symbol;class Bs{constructor(t,e){this.left=t,this.right=e}}const Hs=(t,e)=>new Bs(t,e),Vs="undefined"!=typeof document?document:{};"undefined"!=typeof DOMParser&&new DOMParser;const Gs=t=>((t,e)=>{const s=[];for(const[i,n]of t)s.push(e(n,i));return s})(t,((t,e)=>`${e}:${t};`)).join("");Vs.ELEMENT_NODE,Vs.TEXT_NODE,Vs.CDATA_SECTION_NODE,Vs.COMMENT_NODE,Vs.DOCUMENT_NODE,Vs.DOCUMENT_TYPE_NODE,Vs.DOCUMENT_FRAGMENT_NODE;const Ks=Js(),qs=Js(),Fs=Js(),Zs=Js(),Ys=Js(),Xs=Js(),Qs=Js(),ti=Js(),ei=Js(),si={[Ks]:Hs("font-weight","bold"),[qs]:Hs("font-weight","normal"),[Fs]:Hs("color","blue"),[Ys]:Hs("color","green"),[Zs]:Hs("color","grey"),[Xs]:Hs("color","red"),[Qs]:Hs("color","purple"),[ti]:Hs("color","orange"),[ei]:Hs("color","black")},ii={[Ks]:"[1m",[qs]:"[2m",[Fs]:"[34m",[Ys]:"[32m",[Zs]:"[37m",[Xs]:"[31m",[Qs]:"[35m",[ti]:"[38;5;208m",[ei]:"[0m"},ni=Be?t=>{const e=[],s=[];let i=0;for(;i<t.length;i++){const s=t[i],n=ii[s];if(void 0!==n)e.push(n);else{if(s.constructor!==String&&s.constructor!==Number)break;e.push(s)}}for(i>0&&(e.push("[0m"),s.push(e.join("")));i<t.length;i++){const e=t[i];e instanceof Symbol||s.push(e)}return s}:t=>{const e=[],s=[],i=ke();let n=[],r=0;for(;r<t.length;r++){const n=t[r],o=si[n];if(void 0!==o)i.set(o.left,o.right);else{if(n.constructor!==String&&n.constructor!==Number)break;{const t=Gs(i);r>0||t.length>0?(e.push("%c"+n),s.push(t)):e.push(n)}}}for(r>0&&(n=s,n.unshift(e.join("")));r<t.length;r++){const e=t[r];e instanceof Symbol||n.push(e)}return n},ri=new Set,oi=t=>({[Symbol.iterator](){return this},next:t}),hi=(t,e)=>oi((()=>{const{done:s,value:i}=t.next();return{done:s,value:s?void 0:e(i)}}));class li{constructor(t,e){this.clock=t,this.len=e}}class ci{constructor(){this.clients=new Map}}const ai=(t,e,s)=>e.clients.forEach(((e,i)=>{const n=t.doc.store.clients.get(i);for(let i=0;i<e.length;i++){const r=e[i];tn(t,n,r.clock,r.len,s)}})),ui=(t,e)=>{const s=t.clients.get(e.client);return void 0!==s&&null!==((t,e)=>{let s=0,i=t.length-1;for(;s<=i;){const n=We((s+i)/2),r=t[n],o=r.clock;if(o<=e){if(e<o+r.len)return n;s=n+1}else i=n-1}return null})(s,e.clock)},di=t=>{t.clients.forEach((t=>{let e,s;for(t.sort(((t,e)=>t.clock-e.clock)),e=1,s=1;e<t.length;e++){const i=t[s-1],n=t[e];i.clock+i.len>=n.clock?i.len=Te(i.len,n.clock+n.len-i.clock):(s<e&&(t[s]=n),s++)}t.length=s}))},fi=(t,e,s,i)=>{xe(t.clients,e,(()=>[])).push(new li(s,i))},wi=()=>new ci,pi=(t,e)=>{ps(t.restEncoder,e.clients.size),e.clients.forEach(((e,s)=>{t.resetDsCurVal(),ps(t.restEncoder,s);const i=e.length;ps(t.restEncoder,i);for(let s=0;s<i;s++){const i=e[s];t.writeDsClock(i.clock),t.writeDsLen(i.len)}}))},gi=t=>{const e=new ci,s=Ye(t.restDecoder);for(let i=0;i<s;i++){t.resetDsCurVal();const s=Ye(t.restDecoder),i=Ye(t.restDecoder);if(i>0){const n=xe(e.clients,s,(()=>[]));for(let e=0;e<i;e++)n.push(new li(t.readDsClock(),t.readDsLen()))}}return e},vi=(t,e,s)=>{const i=new ci,n=Ye(t.restDecoder);for(let r=0;r<n;r++){t.resetDsCurVal();const n=Ye(t.restDecoder),r=Ye(t.restDecoder),o=s.clients.get(n)||[],h=Ki(s,n);for(let s=0;s<r;s++){const s=t.readDsClock(),r=s+t.readDsLen();if(s<h){h<r&&fi(i,n,h,r-h);let t=Fi(o,s),l=o[t];for(!l.deleted&&l.id.clock<s&&(o.splice(t+1,0,Tr(e,l,s-l.id.clock)),t++);t<o.length&&(l=o[t++],l.id.clock<r);)l.deleted||(r<l.id.clock+l.length&&o.splice(t,0,Tr(e,l,r-l.id.clock)),l.delete(e))}else fi(i,n,s,r-s)}}if(i.clients.size>0){const t=new Si;return ps(t.restEncoder,0),pi(t,i),t.toUint8Array()}return null},yi=Us;class bi extends _e{constructor({guid:t=Ts(),collectionid:e=null,gc:s=!0,gcFilter:i=(()=>!0),meta:n=null,autoLoad:r=!1,shouldLoad:o=!0}={}){super(),this.gc=s,this.gcFilter=i,this.clientID=yi(),this.guid=t,this.collectionid=e,this.share=new Map,this.store=new Vi,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=o,this.autoLoad=r,this.meta=n,this.isLoaded=!1,this.whenLoaded=(t=>new Promise(t))((t=>{this.on("load",(()=>{this.isLoaded=!0,t(this)}))}))}load(){const t=this._item;null===t||this.shouldLoad||hn(t.parent.doc,(t=>{t.subdocsLoaded.add(this)}),null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Array.from(this.subdocs).map((t=>t.guid)))}transact(t,e=null){hn(this,t,e)}get(t,e=An){const s=xe(this.share,t,(()=>{const t=new e;return t._integrate(this,null),t})),i=s.constructor;if(e!==An&&i!==e){if(i===An){const i=new e;i._map=s._map,s._map.forEach((t=>{for(;null!==t;t=t.left)t.parent=i})),i._start=s._start;for(let t=i._start;null!==t;t=t.right)t.parent=i;return i._length=s._length,this.share.set(t,i),i._integrate(this,null),i}throw new Error(`Type with the name ${t} has already been defined with a different constructor`)}return s}getArray(t=""){return this.get(t,Hn)}getText(t=""){return this.get(t,or)}getMap(t=""){return this.get(t,Gn)}getXmlFragment(t=""){return this.get(t,lr)}toJSON(){const t={};return this.share.forEach(((e,s)=>{t[s]=e.toJSON()})),t}destroy(){Ce(this.subdocs).forEach((t=>t.destroy()));const t=this._item;if(null!==t){this._item=null;const e=t.content;e.doc=new bi({guid:this.guid,...e.opts,shouldLoad:!1}),e.doc._item=t,hn(t.parent.doc,(s=>{const i=e.doc;t.deleted||s.subdocsAdded.add(i),s.subdocsRemoved.add(this)}),null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(t,e){super.on(t,e)}off(t,e){super.off(t,e)}}class mi{constructor(t){this.restDecoder=t}resetDsCurVal(){}readDsClock(){return Ye(this.restDecoder)}readDsLen(){return Ye(this.restDecoder)}}class ki extends mi{readLeftID(){return ji(Ye(this.restDecoder),Ye(this.restDecoder))}readRightID(){return ji(Ye(this.restDecoder),Ye(this.restDecoder))}readClient(){return Ye(this.restDecoder)}readInfo(){return Ze(this.restDecoder)}readString(){return Qe(this.restDecoder)}readParentInfo(){return 1===Ye(this.restDecoder)}readTypeRef(){return Ye(this.restDecoder)}readLen(){return Ye(this.restDecoder)}readAny(){return ss(this.restDecoder)}readBuf(){return ls(Fe(this.restDecoder))}readJSON(){return JSON.parse(Qe(this.restDecoder))}readKey(){return Qe(this.restDecoder)}}class $i extends class{constructor(t){this.dsCurrVal=0,this.restDecoder=t}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=Ye(this.restDecoder),this.dsCurrVal}readDsLen(){const t=Ye(this.restDecoder)+1;return this.dsCurrVal+=t,t}}{constructor(t){super(t),this.keys=[],Ye(t),this.keyClockDecoder=new rs(Fe(t)),this.clientDecoder=new ns(Fe(t)),this.leftClockDecoder=new rs(Fe(t)),this.rightClockDecoder=new rs(Fe(t)),this.infoDecoder=new is(Fe(t),Ze),this.stringDecoder=new os(Fe(t)),this.parentInfoDecoder=new is(Fe(t),Ze),this.typeRefDecoder=new ns(Fe(t)),this.lenDecoder=new ns(Fe(t))}readLeftID(){return new Ii(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new Ii(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return 1===this.parentInfoDecoder.read()}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return ss(this.restDecoder)}readBuf(){return Fe(this.restDecoder)}readJSON(){return ss(this.restDecoder)}readKey(){const t=this.keyClockDecoder.read();if(t<this.keys.length)return this.keys[t];{const t=this.stringDecoder.read();return this.keys.push(t),t}}}class xi extends class{constructor(){this.restEncoder=us()}toUint8Array(){return ds(this.restEncoder)}resetDsCurVal(){}writeDsClock(t){ps(this.restEncoder,t)}writeDsLen(t){ps(this.restEncoder,t)}}{writeLeftID(t){ps(this.restEncoder,t.client),ps(this.restEncoder,t.clock)}writeRightID(t){ps(this.restEncoder,t.client),ps(this.restEncoder,t.clock)}writeClient(t){ps(this.restEncoder,t)}writeInfo(t){ws(this.restEncoder,t)}writeString(t){vs(this.restEncoder,t)}writeParentInfo(t){ps(this.restEncoder,t?1:0)}writeTypeRef(t){ps(this.restEncoder,t)}writeLen(t){ps(this.restEncoder,t)}writeAny(t){$s(this.restEncoder,t)}writeBuf(t){bs(this.restEncoder,t)}writeJSON(t){vs(this.restEncoder,JSON.stringify(t))}writeKey(t){vs(this.restEncoder,t)}}class Si extends class{constructor(){this.restEncoder=us(),this.dsCurrVal=0}toUint8Array(){return ds(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(t){const e=t-this.dsCurrVal;this.dsCurrVal=t,ps(this.restEncoder,e)}writeDsLen(t){0===t&&Is(),ps(this.restEncoder,t-1),this.dsCurrVal+=t}}{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Cs,this.clientEncoder=new Ms,this.leftClockEncoder=new Cs,this.rightClockEncoder=new Cs,this.infoEncoder=new xs(ws),this.stringEncoder=new _s,this.parentInfoEncoder=new xs(ws),this.typeRefEncoder=new Ms,this.lenEncoder=new Ms}toUint8Array(){const t=us();return ps(t,0),bs(t,this.keyClockEncoder.toUint8Array()),bs(t,this.clientEncoder.toUint8Array()),bs(t,this.leftClockEncoder.toUint8Array()),bs(t,this.rightClockEncoder.toUint8Array()),bs(t,ds(this.infoEncoder)),bs(t,this.stringEncoder.toUint8Array()),bs(t,ds(this.parentInfoEncoder)),bs(t,this.typeRefEncoder.toUint8Array()),bs(t,this.lenEncoder.toUint8Array()),ys(t,ds(this.restEncoder)),ds(t)}writeLeftID(t){this.clientEncoder.write(t.client),this.leftClockEncoder.write(t.clock)}writeRightID(t){this.clientEncoder.write(t.client),this.rightClockEncoder.write(t.clock)}writeClient(t){this.clientEncoder.write(t)}writeInfo(t){this.infoEncoder.write(t)}writeString(t){this.stringEncoder.write(t)}writeParentInfo(t){this.parentInfoEncoder.write(t?1:0)}writeTypeRef(t){this.typeRefEncoder.write(t)}writeLen(t){this.lenEncoder.write(t)}writeAny(t){$s(this.restEncoder,t)}writeBuf(t){bs(this.restEncoder,t)}writeJSON(t){$s(this.restEncoder,t)}writeKey(t){const e=this.keyMap.get(t);void 0===e?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(t)):this.keyClockEncoder.write(e)}}const Mi=(t,e,s)=>{const i=new Map;s.forEach(((t,s)=>{Ki(e,s)>t&&i.set(s,t)})),Gi(e).forEach(((t,e)=>{s.has(e)||i.set(e,0)})),ps(t.restEncoder,i.size),Array.from(i.entries()).sort(((t,e)=>e[0]-t[0])).forEach((([s,i])=>{((t,e,s,i)=>{i=Te(i,e[0].id.clock);const n=Fi(e,i);ps(t.restEncoder,e.length-n),t.writeClient(s),ps(t.restEncoder,i);const r=e[n];r.write(t,i-r.id.clock);for(let s=n+1;s<e.length;s++)e[s].write(t,0)})(t,e.clients.get(s),s,i)}))},Ai=(t,e,s,i=new $i(t))=>hn(e,(t=>{t.local=!1;let e=!1;const s=t.doc,n=s.store,r=((t,e)=>{const s=ke(),i=Ye(t.restDecoder);for(let n=0;n<i;n++){const i=Ye(t.restDecoder),n=new Array(i),r=t.readClient();let o=Ye(t.restDecoder);s.set(r,{i:0,refs:n});for(let s=0;s<i;s++){const i=t.readInfo();switch(31&i){case 0:{const e=t.readLen();n[s]=new wr(ji(r,o),e),o+=e;break}case 10:{const e=Ye(t.restDecoder);n[s]=new Ir(ji(r,o),e),o+=e;break}default:{const h=0==(192&i),l=new Rr(ji(r,o),null,128==(128&i)?t.readLeftID():null,null,64==(64&i)?t.readRightID():null,h?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,h&&32==(32&i)?t.readString():null,Nr(t,i));n[s]=l,o+=l.length}}}}return s})(i,s),o=((t,e,s)=>{const i=[];let n=Array.from(s.keys()).sort(((t,e)=>t-e));if(0===n.length)return null;const r=()=>{if(0===n.length)return null;let t=s.get(n[n.length-1]);for(;t.refs.length===t.i;){if(n.pop(),!(n.length>0))return null;t=s.get(n[n.length-1])}return t};let o=r();if(null===o&&0===i.length)return null;const h=new Vi,l=new Map,c=(t,e)=>{const s=l.get(t);(null==s||s>e)&&l.set(t,e)};let a=o.refs[o.i++];const u=new Map,d=()=>{for(const t of i){const e=t.id.client,i=s.get(e);i?(i.i--,h.clients.set(e,i.refs.slice(i.i)),s.delete(e),i.i=0,i.refs=[]):h.clients.set(e,[t]),n=n.filter((t=>t!==e))}i.length=0};for(;;){if(a.constructor!==Ir){const n=xe(u,a.id.client,(()=>Ki(e,a.id.client)))-a.id.clock;if(n<0)i.push(a),c(a.id.client,a.id.clock-1),d();else{const r=a.getMissing(t,e);if(null!==r){i.push(a);const t=s.get(r)||{refs:[],i:0};if(t.refs.length!==t.i){a=t.refs[t.i++];continue}c(r,Ki(e,r)),d()}else(0===n||n<a.length)&&(a.integrate(t,n),u.set(a.id.client,a.id.clock+a.length))}}if(i.length>0)a=i.pop();else if(null!==o&&o.i<o.refs.length)a=o.refs[o.i++];else{if(o=r(),null===o)break;a=o.refs[o.i++]}}if(h.clients.size>0){const t=new Si;return Mi(t,h,new Map),ps(t.restEncoder,0),{missing:l,update:t.toUint8Array()}}return null})(t,n,r),h=n.pendingStructs;if(h){for(const[t,s]of h.missing)if(s<Ki(n,t)){e=!0;break}if(o){for(const[t,e]of o.missing){const s=h.missing.get(t);(null==s||s>e)&&h.missing.set(t,e)}h.update=dn([h.update,o.update])}}else n.pendingStructs=o;const l=vi(i,t,n);if(n.pendingDs){const e=new $i(qe(n.pendingDs));Ye(e.restDecoder);const s=vi(e,t,n);n.pendingDs=l&&s?dn([l,s]):l||s}else n.pendingDs=l;if(e){const e=n.pendingStructs.update;n.pendingStructs=null,Ci(t.doc,e)}}),s,!1),Ci=(t,e,s,i=$i)=>{const n=qe(e);Ai(n,t,s,new i(n))},_i=(t,e,s)=>Ci(t,e,s,ki),Wi=(t,e,s=new Map)=>{Mi(t,e.store,s),pi(t,(t=>{const e=wi();return t.clients.forEach(((t,s)=>{const i=[];for(let e=0;e<t.length;e++){const s=t[e];if(s.deleted){const n=s.id.clock;let r=s.length;if(e+1<t.length)for(let s=t[e+1];e+1<t.length&&s.deleted;s=t[1+ ++e])r+=s.length;i.push(new li(n,r))}}i.length>0&&e.clients.set(s,i)})),e})(e.store))},Oi=(t,e)=>((t,e=new Uint8Array([0]),s=new Si)=>{const i=Ui(e);Wi(s,t,i);const n=[s.toUint8Array()];if(t.store.pendingDs&&n.push(t.store.pendingDs),t.store.pendingStructs&&n.push(fn(t.store.pendingStructs.update,e)),n.length>1){if(s.constructor===xi)return an(n.map(((t,e)=>0===e?t:vn(t))));if(s.constructor===Si)return dn(n)}return n[0]})(t,e,new xi),Ui=t=>(t=>{const e=new Map,s=Ye(t.restDecoder);for(let i=0;i<s;i++){const s=Ye(t.restDecoder),i=Ye(t.restDecoder);e.set(s,i)}return e})(new mi(qe(t)));class Ei{constructor(){this.l=[]}}const Ti=()=>new Ei,Ri=(t,e)=>t.l.push(e),Ni=(t,e)=>{const s=t.l,i=s.length;t.l=s.filter((t=>e!==t)),i===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},Di=(t,e,s)=>Ps(t.l,[e,s]);class Ii{constructor(t,e){this.client=t,this.clock=e}}const zi=(t,e)=>t===e||null!==t&&null!==e&&t.client===e.client&&t.clock===e.clock,ji=(t,e)=>new Ii(t,e);class Li{constructor(t,e){this.ds=t,this.sv=e}}var Pi,Ji;Pi=wi(),Ji=new Map,new Li(Pi,Ji);const Bi=(t,e)=>void 0===e?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!ui(e.ds,t.id),Hi=(t,e)=>{const s=xe(t.meta,Hi,Se),i=t.doc.store;s.has(e)||(e.sv.forEach(((e,s)=>{e<Ki(i,s)&&Xi(t,ji(s,e))})),ai(t,e.ds,(t=>{})),s.add(e))};class Vi{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const Gi=t=>{const e=new Map;return t.clients.forEach(((t,s)=>{const i=t[t.length-1];e.set(s,i.id.clock+i.length)})),e},Ki=(t,e)=>{const s=t.clients.get(e);if(void 0===s)return 0;const i=s[s.length-1];return i.id.clock+i.length},qi=(t,e)=>{let s=t.clients.get(e.id.client);if(void 0===s)s=[],t.clients.set(e.id.client,s);else{const t=s[s.length-1];if(t.id.clock+t.length!==e.id.clock)throw Is()}s.push(e)},Fi=(t,e)=>{let s=0,i=t.length-1,n=t[i],r=n.id.clock;if(r===e)return i;let o=We(e/(r+n.length-1)*i);for(;s<=i;){if(n=t[o],r=n.id.clock,r<=e){if(e<r+n.length)return o;s=o+1}else i=o-1;o=We((s+i)/2)}throw Is()},Zi=(t,e)=>{const s=t.clients.get(e.client);return s[Fi(s,e.clock)]},Yi=(t,e,s)=>{const i=Fi(e,s),n=e[i];return n.id.clock<s&&n instanceof Rr?(e.splice(i+1,0,Tr(t,n,s-n.id.clock)),i+1):i},Xi=(t,e)=>{const s=t.doc.store.clients.get(e.client);return s[Yi(t,s,e.clock)]},Qi=(t,e,s)=>{const i=e.clients.get(s.client),n=Fi(i,s.clock),r=i[n];return s.clock!==r.id.clock+r.length-1&&r.constructor!==wr&&i.splice(n+1,0,Tr(t,r,s.clock-r.id.clock+1)),r},tn=(t,e,s,i,n)=>{if(0===i)return;const r=s+i;let o,h=Yi(t,e,s);do{o=e[h++],r<o.id.clock+o.length&&Yi(t,e,r),n(o)}while(h<e.length&&e[h].id.clock<r)};class en{constructor(t,e,s){this.doc=t,this.deleteSet=new ci,this.beforeState=Gi(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=e,this.meta=new Map,this.local=s,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set}}const sn=(t,e)=>!(0===e.deleteSet.clients.size&&!((t,e)=>{for(const[s,i]of t)if(e(i,s))return!0;return!1})(e.afterState,((t,s)=>e.beforeState.get(s)!==t)))&&(di(e.deleteSet),((t,e)=>{Mi(t,e.doc.store,e.beforeState)})(t,e),pi(t,e.deleteSet),!0),nn=(t,e,s)=>{const i=e._item;(null===i||i.id.clock<(t.beforeState.get(i.id.client)||0)&&!i.deleted)&&xe(t.changed,e,Se).add(s)},rn=(t,e)=>{const s=t[e-1],i=t[e];s.deleted===i.deleted&&s.constructor===i.constructor&&s.mergeWith(i)&&(t.splice(e,1),i instanceof Rr&&null!==i.parentSub&&i.parent._map.get(i.parentSub)===i&&i.parent._map.set(i.parentSub,s))},on=(t,e)=>{if(e<t.length){const s=t[e],i=s.doc,n=i.store,r=s.deleteSet,o=s._mergeStructs;try{di(r),s.afterState=Gi(s.doc.store),i._transaction=null,i.emit("beforeObserverCalls",[s,i]);const h=[];s.changed.forEach(((t,e)=>h.push((()=>{null!==e._item&&e._item.deleted||e._callObserver(s,t)})))),h.push((()=>{s.changedParentTypes.forEach(((t,e)=>h.push((()=>{null!==e._item&&e._item.deleted||((t=t.filter((t=>null===t.target._item||!t.target._item.deleted))).forEach((t=>{t.currentTarget=e})),t.sort(((t,e)=>t.path.length-e.path.length)),Di(e._dEH,t,s))})))),h.push((()=>i.emit("afterTransaction",[s,i])))})),Ps(h,[])}finally{i.gc&&((t,e,s)=>{for(const[i,n]of t.clients.entries()){const t=e.clients.get(i);for(let i=n.length-1;i>=0;i--){const r=n[i],o=r.clock+r.len;for(let i=Fi(t,r.clock),n=t[i];i<t.length&&n.id.clock<o;n=t[++i]){const n=t[i];if(r.clock+r.len<=n.id.clock)break;n instanceof Rr&&n.deleted&&!n.keep&&s(n)&&n.gc(e,!1)}}}})(r,n,i.gcFilter),((t,e)=>{t.clients.forEach(((t,s)=>{const i=e.clients.get(s);for(let e=t.length-1;e>=0;e--){const s=t[e];for(let t=Ee(i.length-1,1+Fi(i,s.clock+s.len-1)),e=i[t];t>0&&e.id.clock>=s.clock;e=i[--t])rn(i,t)}}))})(r,n),s.afterState.forEach(((t,e)=>{const i=s.beforeState.get(e)||0;if(i!==t){const t=n.clients.get(e),s=Te(Fi(t,i),1);for(let e=t.length-1;e>=s;e--)rn(t,e)}}));for(let t=0;t<o.length;t++){const{client:e,clock:s}=o[t].id,i=n.clients.get(e),r=Fi(i,s);r+1<i.length&&rn(i,r+1),r>0&&rn(i,r)}if(s.local||s.afterState.get(i.clientID)===s.beforeState.get(i.clientID)||(((...t)=>{console.log(...ni(t)),ri.forEach((e=>e.print(t)))})(ti,Ks,"[yjs] ",qs,Xs,"Changed the client-id because another client seems to be using it."),i.clientID=yi()),i.emit("afterTransactionCleanup",[s,i]),i._observers.has("update")){const t=new xi;sn(t,s)&&i.emit("update",[t.toUint8Array(),s.origin,i,s])}if(i._observers.has("updateV2")){const t=new Si;sn(t,s)&&i.emit("updateV2",[t.toUint8Array(),s.origin,i,s])}const{subdocsAdded:h,subdocsLoaded:l,subdocsRemoved:c}=s;(h.size>0||c.size>0||l.size>0)&&(h.forEach((t=>{t.clientID=i.clientID,null==t.collectionid&&(t.collectionid=i.collectionid),i.subdocs.add(t)})),c.forEach((t=>i.subdocs.delete(t))),i.emit("subdocs",[{loaded:l,added:h,removed:c},i,s]),c.forEach((t=>t.destroy()))),t.length<=e+1?(i._transactionCleanups=[],i.emit("afterAllTransactions",[i,t])):on(t,e+1)}}},hn=(t,e,s=null,i=!0)=>{const n=t._transactionCleanups;let r=!1;null===t._transaction&&(r=!0,t._transaction=new en(t,s,i),n.push(t._transaction),1===n.length&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{e(t._transaction)}finally{r&&n[0]===t._transaction&&on(n,0)}};class ln{constructor(t,e){this.gen=function*(t){const e=Ye(t.restDecoder);for(let s=0;s<e;s++){const e=Ye(t.restDecoder),s=t.readClient();let i=Ye(t.restDecoder);for(let n=0;n<e;n++){const e=t.readInfo();if(10===e){const e=Ye(t.restDecoder);yield new Ir(ji(s,i),e),i+=e}else if(0!=(31&e)){const n=0==(192&e),r=new Rr(ji(s,i),null,128==(128&e)?t.readLeftID():null,null,64==(64&e)?t.readRightID():null,n?t.readParentInfo()?t.readString():t.readLeftID():null,n&&32==(32&e)?t.readString():null,Nr(t,e));yield r,i+=r.length}else{const e=t.readLen();yield new wr(ji(s,i),e),i+=e}}}}(t),this.curr=null,this.done=!1,this.filterSkips=e,this.next()}next(){do{this.curr=this.gen.next().value||null}while(this.filterSkips&&null!==this.curr&&this.curr.constructor===Ir);return this.curr}}class cn{constructor(t){this.currClient=0,this.startClock=0,this.written=0,this.encoder=t,this.clientStructs=[]}}const an=t=>dn(t,ki,xi),un=(t,e)=>{if(t.constructor===wr){const{client:s,clock:i}=t.id;return new wr(ji(s,i+e),t.length-e)}if(t.constructor===Ir){const{client:s,clock:i}=t.id;return new Ir(ji(s,i+e),t.length-e)}{const s=t,{client:i,clock:n}=s.id;return new Rr(ji(i,n+e),null,ji(i,n+e-1),null,s.rightOrigin,s.parent,s.parentSub,s.content.splice(e))}},dn=(t,e=$i,s=Si)=>{if(1===t.length)return t[0];const i=t.map((t=>new e(qe(t))));let n=i.map((t=>new ln(t,!0))),r=null;const o=new s,h=new cn(o);for(;n=n.filter((t=>null!==t.curr)),n.sort(((t,e)=>{if(t.curr.id.client===e.curr.id.client){const s=t.curr.id.clock-e.curr.id.clock;return 0===s?t.curr.constructor===e.curr.constructor?0:t.curr.constructor===Ir?1:-1:s}return e.curr.id.client-t.curr.id.client})),0!==n.length;){const t=n[0],e=t.curr.id.client;if(null!==r){let s=t.curr,i=!1;for(;null!==s&&s.id.clock+s.length<=r.struct.id.clock+r.struct.length&&s.id.client>=r.struct.id.client;)s=t.next(),i=!0;if(null===s||s.id.client!==e||i&&s.id.clock>r.struct.id.clock+r.struct.length)continue;if(e!==r.struct.id.client)pn(h,r.struct,r.offset),r={struct:s,offset:0},t.next();else if(r.struct.id.clock+r.struct.length<s.id.clock)if(r.struct.constructor===Ir)r.struct.length=s.id.clock+s.length-r.struct.id.clock;else{pn(h,r.struct,r.offset);const t=s.id.clock-r.struct.id.clock-r.struct.length;r={struct:new Ir(ji(e,r.struct.id.clock+r.struct.length),t),offset:0}}else{const e=r.struct.id.clock+r.struct.length-s.id.clock;e>0&&(r.struct.constructor===Ir?r.struct.length-=e:s=un(s,e)),r.struct.mergeWith(s)||(pn(h,r.struct,r.offset),r={struct:s,offset:0},t.next())}}else r={struct:t.curr,offset:0},t.next();for(let s=t.curr;null!==s&&s.id.client===e&&s.id.clock===r.struct.id.clock+r.struct.length&&s.constructor!==Ir;s=t.next())pn(h,r.struct,r.offset),r={struct:s,offset:0}}null!==r&&(pn(h,r.struct,r.offset),r=null),gn(h);const l=(t=>{const e=new ci;for(let s=0;s<t.length;s++)t[s].clients.forEach(((i,n)=>{if(!e.clients.has(n)){const r=i.slice();for(let e=s+1;e<t.length;e++)Ae(r,t[e].clients.get(n)||[]);e.clients.set(n,r)}}));return di(e),e})(i.map((t=>gi(t))));return pi(o,l),o.toUint8Array()},fn=(t,e,s=$i,i=Si)=>{const n=Ui(e),r=new i,o=new cn(r),h=new s(qe(t)),l=new ln(h,!1);for(;l.curr;){const t=l.curr,e=t.id.client,s=n.get(e)||0;if(l.curr.constructor!==Ir)if(t.id.clock+t.length>s)for(pn(o,t,Te(s-t.id.clock,0)),l.next();l.curr&&l.curr.id.client===e;)pn(o,l.curr,0),l.next();else for(;l.curr&&l.curr.id.client===e&&l.curr.id.clock+l.curr.length<=s;)l.next();else l.next()}gn(o);const c=gi(h);return pi(r,c),r.toUint8Array()},wn=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:ds(t.encoder.restEncoder)}),t.encoder.restEncoder=us(),t.written=0)},pn=(t,e,s)=>{t.written>0&&t.currClient!==e.id.client&&wn(t),0===t.written&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),ps(t.encoder.restEncoder,e.id.clock+s)),e.write(t.encoder,s),t.written++},gn=t=>{wn(t);const e=t.encoder.restEncoder;ps(e,t.clientStructs.length);for(let s=0;s<t.clientStructs.length;s++){const i=t.clientStructs[s];ps(e,i.written),ys(e,i.restEncoder)}},vn=t=>((t,e,s)=>{const i=new e(qe(t)),n=new ln(i,!1),r=new s,o=new cn(r);for(let t=n.curr;null!==t;t=n.next())pn(o,t,0);gn(o);const h=gi(i);return pi(r,h),r.toUint8Array()})(t,$i,xi);class yn{constructor(t,e){this.target=t,this.currentTarget=t,this.transaction=e,this._changes=null,this._keys=null,this._delta=null}get path(){return bn(this.currentTarget,this.target)}deletes(t){return ui(this.transaction.deleteSet,t.id)}get keys(){if(null===this._keys){const t=new Map,e=this.target;this.transaction.changed.get(e).forEach((s=>{if(null!==s){const i=e._map.get(s);let n,r;if(this.adds(i)){let t=i.left;for(;null!==t&&this.adds(t);)t=t.left;if(this.deletes(i)){if(null===t||!this.deletes(t))return;n="delete",r=Me(t.content.getContent())}else null!==t&&this.deletes(t)?(n="update",r=Me(t.content.getContent())):(n="add",r=void 0)}else{if(!this.deletes(i))return;n="delete",r=Me(i.content.getContent())}t.set(s,{action:n,oldValue:r})}})),this._keys=t}return this._keys}get delta(){return this.changes.delta}adds(t){return t.id.clock>=(this.transaction.beforeState.get(t.id.client)||0)}get changes(){let t=this._changes;if(null===t){const e=this.target,s=Se(),i=Se(),n=[];t={added:s,deleted:i,delta:n,keys:this.keys};if(this.transaction.changed.get(e).has(null)){let t=null;const r=()=>{t&&n.push(t)};for(let n=e._start;null!==n;n=n.right)n.deleted?this.deletes(n)&&!this.adds(n)&&(null!==t&&void 0!==t.delete||(r(),t={delete:0}),t.delete+=n.length,i.add(n)):this.adds(n)?(null!==t&&void 0!==t.insert||(r(),t={insert:[]}),t.insert=t.insert.concat(n.content.getContent()),s.add(n)):(null!==t&&void 0!==t.retain||(r(),t={retain:0}),t.retain+=n.length);null!==t&&void 0===t.retain&&r()}this._changes=t}return t}}const bn=(t,e)=>{const s=[];for(;null!==e._item&&e!==t;){if(null!==e._item.parentSub)s.unshift(e._item.parentSub);else{let t=0,i=e._item.parent._start;for(;i!==e._item&&null!==i;)i.deleted||t++,i=i.right;s.unshift(t)}e=e._item.parent}return s};let mn=0;class kn{constructor(t,e){t.marker=!0,this.p=t,this.index=e,this.timestamp=mn++}}const $n=(t,e,s)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=s,t.timestamp=mn++},xn=(t,e)=>{if(null===t._start||0===e||null===t._searchMarker)return null;const s=0===t._searchMarker.length?null:t._searchMarker.reduce(((t,s)=>Oe(e-t.index)<Oe(e-s.index)?t:s));let i=t._start,n=0;for(null!==s&&(i=s.p,n=s.index,(t=>{t.timestamp=mn++})(s));null!==i.right&&n<e;){if(!i.deleted&&i.countable){if(e<n+i.length)break;n+=i.length}i=i.right}for(;null!==i.left&&n>e;)i=i.left,!i.deleted&&i.countable&&(n-=i.length);for(;null!==i.left&&i.left.id.client===i.id.client&&i.left.id.clock+i.left.length===i.id.clock;)i=i.left,!i.deleted&&i.countable&&(n-=i.length);return null!==s&&Oe(s.index-n)<i.parent.length/80?($n(s,i,n),s):((t,e,s)=>{if(t.length>=80){const i=t.reduce(((t,e)=>t.timestamp<e.timestamp?t:e));return $n(i,e,s),i}{const i=new kn(e,s);return t.push(i),i}})(t._searchMarker,i,n)},Sn=(t,e,s)=>{for(let i=t.length-1;i>=0;i--){const n=t[i];if(s>0){let e=n.p;for(e.marker=!1;e&&(e.deleted||!e.countable);)e=e.left,e&&!e.deleted&&e.countable&&(n.index-=e.length);if(null===e||!0===e.marker){t.splice(i,1);continue}n.p=e,e.marker=!0}(e<n.index||s>0&&e===n.index)&&(n.index=Te(e,n.index+s))}},Mn=(t,e,s)=>{const i=t,n=e.changedParentTypes;for(;xe(n,t,(()=>[])).push(s),null!==t._item;)t=t._item.parent;Di(i._eH,s,e)};class An{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=Ti(),this._dEH=Ti(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(t,e){this.doc=t,this._item=e}_copy(){throw Ds()}clone(){throw Ds()}_write(t){}get _first(){let t=this._start;for(;null!==t&&t.deleted;)t=t.right;return t}_callObserver(t,e){!t.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(t){Ri(this._eH,t)}observeDeep(t){Ri(this._dEH,t)}unobserve(t){Ni(this._eH,t)}unobserveDeep(t){Ni(this._dEH,t)}toJSON(){}}const Cn=(t,e,s)=>{e<0&&(e=t._length+e),s<0&&(s=t._length+s);let i=s-e;const n=[];let r=t._start;for(;null!==r&&i>0;){if(r.countable&&!r.deleted){const t=r.content.getContent();if(t.length<=e)e-=t.length;else{for(let s=e;s<t.length&&i>0;s++)n.push(t[s]),i--;e=0}}r=r.right}return n},_n=t=>{const e=[];let s=t._start;for(;null!==s;){if(s.countable&&!s.deleted){const t=s.content.getContent();for(let s=0;s<t.length;s++)e.push(t[s])}s=s.right}return e},Wn=(t,e)=>{let s=0,i=t._start;for(;null!==i;){if(i.countable&&!i.deleted){const n=i.content.getContent();for(let i=0;i<n.length;i++)e(n[i],s++,t)}i=i.right}},On=(t,e)=>{const s=[];return Wn(t,((i,n)=>{s.push(e(i,n,t))})),s},Un=t=>{let e=t._start,s=null,i=0;return{[Symbol.iterator](){return this},next:()=>{if(null===s){for(;null!==e&&e.deleted;)e=e.right;if(null===e)return{done:!0,value:void 0};s=e.content.getContent(),i=0,e=e.right}const t=s[i++];return s.length<=i&&(s=null),{done:!1,value:t}}}},En=(t,e)=>{const s=xn(t,e);let i=t._start;for(null!==s&&(i=s.p,e-=s.index);null!==i;i=i.right)if(!i.deleted&&i.countable){if(e<i.length)return i.content.getContent()[e];e-=i.length}},Tn=(t,e,s,i)=>{let n=s;const r=t.doc,o=r.clientID,h=r.store,l=null===s?e._start:s.right;let c=[];const a=()=>{c.length>0&&(n=new Rr(ji(o,Ki(h,o)),n,n&&n.lastId,l,l&&l.id,e,null,new $r(c)),n.integrate(t,0),c=[])};i.forEach((s=>{if(null===s)c.push(s);else switch(s.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(s);break;default:switch(a(),s.constructor){case Uint8Array:case ArrayBuffer:n=new Rr(ji(o,Ki(h,o)),n,n&&n.lastId,l,l&&l.id,e,null,new pr(new Uint8Array(s))),n.integrate(t,0);break;case bi:n=new Rr(ji(o,Ki(h,o)),n,n&&n.lastId,l,l&&l.id,e,null,new yr(s)),n.integrate(t,0);break;default:if(!(s instanceof An))throw new Error("Unexpected content type in insert operation");n=new Rr(ji(o,Ki(h,o)),n,n&&n.lastId,l,l&&l.id,e,null,new Er(s)),n.integrate(t,0)}}})),a()},Rn=Ns("Length exceeded!"),Nn=(t,e,s,i)=>{if(s>e._length)throw Rn;if(0===s)return e._searchMarker&&Sn(e._searchMarker,s,i.length),Tn(t,e,null,i);const n=s,r=xn(e,s);let o=e._start;for(null!==r&&(o=r.p,0===(s-=r.index)&&(o=o.prev,s+=o&&o.countable&&!o.deleted?o.length:0));null!==o;o=o.right)if(!o.deleted&&o.countable){if(s<=o.length){s<o.length&&Xi(t,ji(o.id.client,o.id.clock+s));break}s-=o.length}return e._searchMarker&&Sn(e._searchMarker,n,i.length),Tn(t,e,o,i)},Dn=(t,e,s,i)=>{if(0===i)return;const n=s,r=i,o=xn(e,s);let h=e._start;for(null!==o&&(h=o.p,s-=o.index);null!==h&&s>0;h=h.right)!h.deleted&&h.countable&&(s<h.length&&Xi(t,ji(h.id.client,h.id.clock+s)),s-=h.length);for(;i>0&&null!==h;)h.deleted||(i<h.length&&Xi(t,ji(h.id.client,h.id.clock+i)),h.delete(t),i-=h.length),h=h.right;if(i>0)throw Rn;e._searchMarker&&Sn(e._searchMarker,n,-r+i)},In=(t,e,s)=>{const i=e._map.get(s);void 0!==i&&i.delete(t)},zn=(t,e,s,i)=>{const n=e._map.get(s)||null,r=t.doc,o=r.clientID;let h;if(null==i)h=new $r([i]);else switch(i.constructor){case Number:case Object:case Boolean:case Array:case String:h=new $r([i]);break;case Uint8Array:h=new pr(i);break;case bi:h=new yr(i);break;default:if(!(i instanceof An))throw new Error("Unexpected content type");h=new Er(i)}new Rr(ji(o,Ki(r.store,o)),n,n&&n.lastId,null,null,e,s,h).integrate(t,0)},jn=(t,e)=>{const s=t._map.get(e);return void 0===s||s.deleted?void 0:s.content.getContent()[s.length-1]},Ln=t=>{const e={};return t._map.forEach(((t,s)=>{t.deleted||(e[s]=t.content.getContent()[t.length-1])})),e},Pn=(t,e)=>{const s=t._map.get(e);return void 0!==s&&!s.deleted},Jn=t=>((t,e)=>oi((()=>{let s;do{s=t.next()}while(!s.done&&!e(s.value));return s})))(t.entries(),(t=>!t[1].deleted));class Bn extends yn{constructor(t,e){super(t,e),this._transaction=e}}class Hn extends An{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(t){const e=new Hn;return e.push(t),e}_integrate(t,e){super._integrate(t,e),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Hn}clone(){const t=new Hn;return t.insert(0,this.toArray().map((t=>t instanceof An?t.clone():t))),t}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}_callObserver(t,e){super._callObserver(t,e),Mn(this,t,new Bn(this,t))}insert(t,e){null!==this.doc?hn(this.doc,(s=>{Nn(s,this,t,e)})):this._prelimContent.splice(t,0,...e)}push(t){null!==this.doc?hn(this.doc,(e=>{((t,e,s)=>{let i=(e._searchMarker||[]).reduce(((t,e)=>e.index>t.index?e:t),{index:0,p:e._start}).p;if(i)for(;i.right;)i=i.right;Tn(t,e,i,s)})(e,this,t)})):this._prelimContent.push(...t)}unshift(t){this.insert(0,t)}delete(t,e=1){null!==this.doc?hn(this.doc,(s=>{Dn(s,this,t,e)})):this._prelimContent.splice(t,e)}get(t){return En(this,t)}toArray(){return _n(this)}slice(t=0,e=this.length){return Cn(this,t,e)}toJSON(){return this.map((t=>t instanceof An?t.toJSON():t))}map(t){return On(this,t)}forEach(t){Wn(this,t)}[Symbol.iterator](){return Un(this)}_write(t){t.writeTypeRef(Mr)}}class Vn extends yn{constructor(t,e,s){super(t,e),this.keysChanged=s}}class Gn extends An{constructor(t){super(),this._prelimContent=null,this._prelimContent=void 0===t?new Map:new Map(t)}_integrate(t,e){super._integrate(t,e),this._prelimContent.forEach(((t,e)=>{this.set(e,t)})),this._prelimContent=null}_copy(){return new Gn}clone(){const t=new Gn;return this.forEach(((e,s)=>{t.set(s,e instanceof An?e.clone():e)})),t}_callObserver(t,e){Mn(this,t,new Vn(this,t,e))}toJSON(){const t={};return this._map.forEach(((e,s)=>{if(!e.deleted){const i=e.content.getContent()[e.length-1];t[s]=i instanceof An?i.toJSON():i}})),t}get size(){return[...Jn(this._map)].length}keys(){return hi(Jn(this._map),(t=>t[0]))}values(){return hi(Jn(this._map),(t=>t[1].content.getContent()[t[1].length-1]))}entries(){return hi(Jn(this._map),(t=>[t[0],t[1].content.getContent()[t[1].length-1]]))}forEach(t){return this._map.forEach(((e,s)=>{e.deleted||t(e.content.getContent()[e.length-1],s,this)})),{}}[Symbol.iterator](){return this.entries()}delete(t){null!==this.doc?hn(this.doc,(e=>{In(e,this,t)})):this._prelimContent.delete(t)}set(t,e){return null!==this.doc?hn(this.doc,(s=>{zn(s,this,t,e)})):this._prelimContent.set(t,e),e}get(t){return jn(this,t)}has(t){return Pn(this,t)}clear(){null!==this.doc?hn(this.doc,(t=>{this.forEach((function(e,s,i){In(t,i,s)}))})):this._prelimContent.clear()}_write(t){t.writeTypeRef(Ar)}}const Kn=(t,e)=>t===e||"object"==typeof t&&"object"==typeof e&&t&&e&&Ls(t,e);class qn{constructor(t,e,s,i){this.left=t,this.right=e,this.index=s,this.currentAttributes=i}forward(){if(null===this.right&&Is(),this.right.content.constructor===mr)this.right.deleted||Xn(this.currentAttributes,this.right.content);else this.right.deleted||(this.index+=this.right.length);this.left=this.right,this.right=this.right.right}}const Fn=(t,e,s)=>{for(;null!==e.right&&s>0;){if(e.right.content.constructor===mr)e.right.deleted||Xn(e.currentAttributes,e.right.content);else e.right.deleted||(s<e.right.length&&Xi(t,ji(e.right.id.client,e.right.id.clock+s)),e.index+=e.right.length,s-=e.right.length);e.left=e.right,e.right=e.right.right}return e},Zn=(t,e,s)=>{const i=new Map,n=xn(e,s);if(n){const e=new qn(n.p.left,n.p,n.index,i);return Fn(t,e,s-n.index)}{const n=new qn(null,e._start,0,i);return Fn(t,n,s)}},Yn=(t,e,s,i)=>{for(;null!==s.right&&(!0===s.right.deleted||s.right.content.constructor===mr&&Kn(i.get(s.right.content.key),s.right.content.value));)s.right.deleted||i.delete(s.right.content.key),s.forward();const n=t.doc,r=n.clientID;i.forEach(((i,o)=>{const h=s.left,l=s.right,c=new Rr(ji(r,Ki(n.store,r)),h,h&&h.lastId,l,l&&l.id,e,null,new mr(o,i));c.integrate(t,0),s.right=c,s.forward()}))},Xn=(t,e)=>{const{key:s,value:i}=e;null===i?t.delete(s):t.set(s,i)},Qn=(t,e)=>{for(;null!==t.right&&(t.right.deleted||t.right.content.constructor===mr&&Kn(e[t.right.content.key]||null,t.right.content.value));)t.forward()},tr=(t,e,s,i)=>{const n=t.doc,r=n.clientID,o=new Map;for(const h in i){const l=i[h],c=s.currentAttributes.get(h)||null;if(!Kn(c,l)){o.set(h,c);const{left:i,right:a}=s;s.right=new Rr(ji(r,Ki(n.store,r)),i,i&&i.lastId,a,a&&a.id,e,null,new mr(h,l)),s.right.integrate(t,0),s.forward()}}return o},er=(t,e,s,i,n)=>{s.currentAttributes.forEach(((t,e)=>{void 0===n[e]&&(n[e]=null)}));const r=t.doc,o=r.clientID;Qn(s,n);const h=tr(t,e,s,n),l=i.constructor===String?new xr(i):i instanceof An?new Er(i):new br(i);let{left:c,right:a,index:u}=s;e._searchMarker&&Sn(e._searchMarker,s.index,l.getLength()),a=new Rr(ji(o,Ki(r.store,o)),c,c&&c.lastId,a,a&&a.id,e,null,l),a.integrate(t,0),s.right=a,s.index=u,s.forward(),Yn(t,e,s,h)},sr=(t,e,s,i,n)=>{const r=t.doc,o=r.clientID;Qn(s,n);const h=tr(t,e,s,n);t:for(;null!==s.right&&(i>0||h.size>0&&(s.right.deleted||s.right.content.constructor===mr));){if(!s.right.deleted)switch(s.right.content.constructor){case mr:{const{key:e,value:r}=s.right.content,o=n[e];if(void 0!==o){if(Kn(o,r))h.delete(e);else{if(0===i)break t;h.set(e,r)}s.right.delete(t)}else s.currentAttributes.set(e,r);break}default:i<s.right.length&&Xi(t,ji(s.right.id.client,s.right.id.clock+i)),i-=s.right.length}s.forward()}if(i>0){let n="";for(;i>0;i--)n+="\n";s.right=new Rr(ji(o,Ki(r.store,o)),s.left,s.left&&s.left.lastId,s.right,s.right&&s.right.id,e,null,new xr(n)),s.right.integrate(t,0),s.forward()}Yn(t,e,s,h)},ir=(t,e,s,i,n)=>{let r=s;const o=$e(n);for(;r&&(!r.countable||r.deleted);)r.deleted||r.content.constructor!==mr||Xn(o,r.content),r=r.right;let h=0,l=!1;for(;e!==r;){if(s===e&&(l=!0),!e.deleted){const s=e.content;switch(s.constructor){case mr:{const{key:r,value:c}=s;(o.get(r)||null)===c&&(i.get(r)||null)!==c||(e.delete(t),h++,l||(n.get(r)||null)!==c||(i.get(r)||null)===c||n.delete(r));break}}}e=e.right}return h},nr=(t,e,s)=>{const i=s,n=$e(e.currentAttributes),r=e.right;for(;s>0&&null!==e.right;){if(!1===e.right.deleted)switch(e.right.content.constructor){case Er:case br:case xr:s<e.right.length&&Xi(t,ji(e.right.id.client,e.right.id.clock+s)),s-=e.right.length,e.right.delete(t)}e.forward()}r&&ir(t,r,e.right,n,e.currentAttributes);const o=(e.left||e.right).parent;return o._searchMarker&&Sn(o._searchMarker,e.index,-i+s),e};class rr extends yn{constructor(t,e,s){super(t,e),this.childListChanged=!1,this.keysChanged=new Set,s.forEach((t=>{null===t?this.childListChanged=!0:this.keysChanged.add(t)}))}get changes(){if(null===this._changes){const t={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=t}return this._changes}get delta(){if(null===this._delta){const t=this.target.doc,e=[];hn(t,(t=>{const s=new Map,i=new Map;let n=this.target._start,r=null;const o={};let h="",l=0,c=0;const a=()=>{if(null!==r){let t;switch(r){case"delete":t={delete:c},c=0;break;case"insert":t={insert:h},s.size>0&&(t.attributes={},s.forEach(((e,s)=>{null!==e&&(t.attributes[s]=e)}))),h="";break;case"retain":if(t={retain:l},Object.keys(o).length>0){t.attributes={};for(const e in o)t.attributes[e]=o[e]}l=0}e.push(t),r=null}};for(;null!==n;){switch(n.content.constructor){case Er:case br:this.adds(n)?this.deletes(n)||(a(),r="insert",h=n.content.getContent()[0],a()):this.deletes(n)?("delete"!==r&&(a(),r="delete"),c+=1):n.deleted||("retain"!==r&&(a(),r="retain"),l+=1);break;case xr:this.adds(n)?this.deletes(n)||("insert"!==r&&(a(),r="insert"),h+=n.content.str):this.deletes(n)?("delete"!==r&&(a(),r="delete"),c+=n.length):n.deleted||("retain"!==r&&(a(),r="retain"),l+=n.length);break;case mr:{const{key:e,value:h}=n.content;if(this.adds(n)){if(!this.deletes(n)){const l=s.get(e)||null;Kn(l,h)?null!==h&&n.delete(t):("retain"===r&&a(),Kn(h,i.get(e)||null)?delete o[e]:o[e]=h)}}else if(this.deletes(n)){i.set(e,h);const t=s.get(e)||null;Kn(t,h)||("retain"===r&&a(),o[e]=t)}else if(!n.deleted){i.set(e,h);const s=o[e];void 0!==s&&(Kn(s,h)?null!==s&&n.delete(t):("retain"===r&&a(),null===h?delete o[e]:o[e]=h))}n.deleted||("insert"===r&&a(),Xn(s,n.content));break}}n=n.right}for(a();e.length>0;){const t=e[e.length-1];if(void 0===t.retain||void 0!==t.attributes)break;e.pop()}})),this._delta=e}return this._delta}}class or extends An{constructor(t){super(),this._pending=void 0!==t?[()=>this.insert(0,t)]:[],this._searchMarker=[]}get length(){return this._length}_integrate(t,e){super._integrate(t,e);try{this._pending.forEach((t=>t()))}catch(t){console.error(t)}this._pending=null}_copy(){return new or}clone(){const t=new or;return t.applyDelta(this.toDelta()),t}_callObserver(t,e){super._callObserver(t,e);const s=new rr(this,t,e),i=t.doc;if(Mn(this,t,s),!t.local){let e=!1;for(const[s,n]of t.afterState.entries()){const r=t.beforeState.get(s)||0;if(n!==r&&(tn(t,i.store.clients.get(s),r,n,(t=>{t.deleted||t.content.constructor!==mr||(e=!0)})),e))break}e||ai(t,t.deleteSet,(t=>{t instanceof wr||e||t.parent===this&&t.content.constructor===mr&&(e=!0)})),hn(i,(t=>{e?(t=>{let e=0;hn(t.doc,(s=>{let i=t._start,n=t._start,r=ke();const o=$e(r);for(;n;)!1===n.deleted&&(n.content.constructor===mr?Xn(o,n.content):(e+=ir(s,i,n,r,o),r=$e(o),i=n)),n=n.right}))})(this):ai(t,t.deleteSet,(e=>{e instanceof wr||e.parent===this&&((t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const s=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===mr){const i=e.content.key;s.has(i)?e.delete(t):s.add(i)}e=e.left}})(t,e)}))}))}}toString(){let t="",e=this._start;for(;null!==e;)!e.deleted&&e.countable&&e.content.constructor===xr&&(t+=e.content.str),e=e.right;return t}toJSON(){return this.toString()}applyDelta(t,{sanitize:e=!0}={}){null!==this.doc?hn(this.doc,(s=>{const i=new qn(null,this._start,0,new Map);for(let n=0;n<t.length;n++){const r=t[n];if(void 0!==r.insert){const o=e||"string"!=typeof r.insert||n!==t.length-1||null!==i.right||"\n"!==r.insert.slice(-1)?r.insert:r.insert.slice(0,-1);("string"!=typeof o||o.length>0)&&er(s,this,i,o,r.attributes||{})}else void 0!==r.retain?sr(s,this,i,r.retain,r.attributes||{}):void 0!==r.delete&&nr(s,i,r.delete)}})):this._pending.push((()=>this.applyDelta(t)))}toDelta(t,e,s){const i=[],n=new Map,r=this.doc;let o="",h=this._start;function l(){if(o.length>0){const t={};let e=!1;n.forEach(((s,i)=>{e=!0,t[i]=s}));const s={insert:o};e&&(s.attributes=t),i.push(s),o=""}}return hn(r,(r=>{for(t&&Hi(r,t),e&&Hi(r,e);null!==h;){if(Bi(h,t)||void 0!==e&&Bi(h,e))switch(h.content.constructor){case xr:{const i=n.get("ychange");void 0===t||Bi(h,t)?void 0===e||Bi(h,e)?void 0!==i&&(l(),n.delete("ychange")):void 0!==i&&i.user===h.id.client&&"added"===i.state||(l(),n.set("ychange",s?s("added",h.id):{type:"added"})):void 0!==i&&i.user===h.id.client&&"removed"===i.state||(l(),n.set("ychange",s?s("removed",h.id):{type:"removed"})),o+=h.content.str;break}case Er:case br:{l();const t={insert:h.content.getContent()[0]};if(n.size>0){const e={};t.attributes=e,n.forEach(((t,s)=>{e[s]=t}))}i.push(t);break}case mr:Bi(h,t)&&(l(),Xn(n,h.content))}h=h.right}l()}),Hi),i}insert(t,e,s){if(e.length<=0)return;const i=this.doc;null!==i?hn(i,(i=>{const n=Zn(i,this,t);s||(s={},n.currentAttributes.forEach(((t,e)=>{s[e]=t}))),er(i,this,n,e,s)})):this._pending.push((()=>this.insert(t,e,s)))}insertEmbed(t,e,s={}){const i=this.doc;null!==i?hn(i,(i=>{const n=Zn(i,this,t);er(i,this,n,e,s)})):this._pending.push((()=>this.insertEmbed(t,e,s)))}delete(t,e){if(0===e)return;const s=this.doc;null!==s?hn(s,(s=>{nr(s,Zn(s,this,t),e)})):this._pending.push((()=>this.delete(t,e)))}format(t,e,s){if(0===e)return;const i=this.doc;null!==i?hn(i,(i=>{const n=Zn(i,this,t);null!==n.right&&sr(i,this,n,e,s)})):this._pending.push((()=>this.format(t,e,s)))}removeAttribute(t){null!==this.doc?hn(this.doc,(e=>{In(e,this,t)})):this._pending.push((()=>this.removeAttribute(t)))}setAttribute(t,e){null!==this.doc?hn(this.doc,(s=>{zn(s,this,t,e)})):this._pending.push((()=>this.setAttribute(t,e)))}getAttribute(t){return jn(this,t)}getAttributes(t){return Ln(this)}_write(t){t.writeTypeRef(Cr)}}class hr{constructor(t,e=(()=>!0)){this._filter=e,this._root=t,this._currentNode=t._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let t=this._currentNode,e=t&&t.content&&t.content.type;if(null!==t&&(!this._firstCall||t.deleted||!this._filter(e)))do{if(e=t.content.type,t.deleted||e.constructor!==cr&&e.constructor!==lr||null===e._start)for(;null!==t;){if(null!==t.right){t=t.right;break}t=t.parent===this._root?null:t.parent._item}else t=e._start}while(null!==t&&(t.deleted||!this._filter(t.content.type)));return this._firstCall=!1,null===t?{value:void 0,done:!0}:(this._currentNode=t,{value:t.content.type,done:!1})}}class lr extends An{constructor(){super(),this._prelimContent=[]}get firstChild(){const t=this._first;return t?t.content.getContent()[0]:null}_integrate(t,e){super._integrate(t,e),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new lr}clone(){const t=new lr;return t.insert(0,this.toArray().map((t=>t instanceof An?t.clone():t))),t}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}createTreeWalker(t){return new hr(this,t)}querySelector(t){t=t.toUpperCase();const e=new hr(this,(e=>e.nodeName&&e.nodeName.toUpperCase()===t)).next();return e.done?null:e.value}querySelectorAll(t){return t=t.toUpperCase(),Array.from(new hr(this,(e=>e.nodeName&&e.nodeName.toUpperCase()===t)))}_callObserver(t,e){Mn(this,t,new ar(this,e,t))}toString(){return On(this,(t=>t.toString())).join("")}toJSON(){return this.toString()}toDOM(t=document,e={},s){const i=t.createDocumentFragment();return void 0!==s&&s._createAssociation(i,this),Wn(this,(n=>{i.insertBefore(n.toDOM(t,e,s),null)})),i}insert(t,e){null!==this.doc?hn(this.doc,(s=>{Nn(s,this,t,e)})):this._prelimContent.splice(t,0,...e)}insertAfter(t,e){if(null!==this.doc)hn(this.doc,(s=>{const i=t&&t instanceof An?t._item:t;Tn(s,this,i,e)}));else{const s=this._prelimContent,i=null===t?0:s.findIndex((e=>e===t))+1;if(0===i&&null!==t)throw Ns("Reference item not found");s.splice(i,0,...e)}}delete(t,e=1){null!==this.doc?hn(this.doc,(s=>{Dn(s,this,t,e)})):this._prelimContent.splice(t,e)}toArray(){return _n(this)}push(t){this.insert(this.length,t)}unshift(t){this.insert(0,t)}get(t){return En(this,t)}slice(t=0,e=this.length){return Cn(this,t,e)}forEach(t){Wn(this,t)}_write(t){t.writeTypeRef(Wr)}}class cr extends lr{constructor(t="UNDEFINED"){super(),this.nodeName=t,this._prelimAttrs=new Map}get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_integrate(t,e){super._integrate(t,e),this._prelimAttrs.forEach(((t,e)=>{this.setAttribute(e,t)})),this._prelimAttrs=null}_copy(){return new cr(this.nodeName)}clone(){const t=new cr(this.nodeName),e=this.getAttributes();for(const s in e)t.setAttribute(s,e[s]);return t.insert(0,this.toArray().map((t=>t instanceof An?t.clone():t))),t}toString(){const t=this.getAttributes(),e=[],s=[];for(const e in t)s.push(e);s.sort();const i=s.length;for(let n=0;n<i;n++){const i=s[n];e.push(i+'="'+t[i]+'"')}const n=this.nodeName.toLocaleLowerCase();return`<${n}${e.length>0?" "+e.join(" "):""}>${super.toString()}</${n}>`}removeAttribute(t){null!==this.doc?hn(this.doc,(e=>{In(e,this,t)})):this._prelimAttrs.delete(t)}setAttribute(t,e){null!==this.doc?hn(this.doc,(s=>{zn(s,this,t,e)})):this._prelimAttrs.set(t,e)}getAttribute(t){return jn(this,t)}hasAttribute(t){return Pn(this,t)}getAttributes(t){return Ln(this)}toDOM(t=document,e={},s){const i=t.createElement(this.nodeName),n=this.getAttributes();for(const t in n)i.setAttribute(t,n[t]);return Wn(this,(n=>{i.appendChild(n.toDOM(t,e,s))})),void 0!==s&&s._createAssociation(i,this),i}_write(t){t.writeTypeRef(_r),t.writeKey(this.nodeName)}}class ar extends yn{constructor(t,e,s){super(t,s),this.childListChanged=!1,this.attributesChanged=new Set,e.forEach((t=>{null===t?this.childListChanged=!0:this.attributesChanged.add(t)}))}}class ur extends Gn{constructor(t){super(),this.hookName=t}_copy(){return new ur(this.hookName)}clone(){const t=new ur(this.hookName);return this.forEach(((e,s)=>{t.set(s,e)})),t}toDOM(t=document,e={},s){const i=e[this.hookName];let n;return n=void 0!==i?i.createDom(this):document.createElement(this.hookName),n.setAttribute("data-yjs-hook",this.hookName),void 0!==s&&s._createAssociation(n,this),n}_write(t){t.writeTypeRef(Or),t.writeKey(this.hookName)}}class dr extends or{get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_copy(){return new dr}clone(){const t=new dr;return t.applyDelta(this.toDelta()),t}toDOM(t=document,e,s){const i=t.createTextNode(this.toString());return void 0!==s&&s._createAssociation(i,this),i}toString(){return this.toDelta().map((t=>{const e=[];for(const s in t.attributes){const i=[];for(const e in t.attributes[s])i.push({key:e,value:t.attributes[s][e]});i.sort(((t,e)=>t.key<e.key?-1:1)),e.push({nodeName:s,attrs:i})}e.sort(((t,e)=>t.nodeName<e.nodeName?-1:1));let s="";for(let t=0;t<e.length;t++){const i=e[t];s+=`<${i.nodeName}`;for(let t=0;t<i.attrs.length;t++){const e=i.attrs[t];s+=` ${e.key}="${e.value}"`}s+=">"}s+=t.insert;for(let t=e.length-1;t>=0;t--)s+=`</${e[t].nodeName}>`;return s})).join("")}toJSON(){return this.toString()}_write(t){t.writeTypeRef(Ur)}}class fr{constructor(t,e){this.id=t,this.length=e}get deleted(){throw Ds()}mergeWith(t){return!1}write(t,e,s){throw Ds()}integrate(t,e){throw Ds()}}class wr extends fr{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor===t.constructor&&(this.length+=t.length,!0)}integrate(t,e){e>0&&(this.id.clock+=e,this.length-=e),qi(t.doc.store,this)}write(t,e){t.writeInfo(0),t.writeLen(this.length-e)}getMissing(t,e){return null}}class pr{constructor(t){this.content=t}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new pr(this.content)}splice(t){throw Ds()}mergeWith(t){return!1}integrate(t,e){}delete(t){}gc(t){}write(t,e){t.writeBuf(this.content)}getRef(){return 3}}class gr{constructor(t){this.len=t}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new gr(this.len)}splice(t){const e=new gr(this.len-t);return this.len=t,e}mergeWith(t){return this.len+=t.len,!0}integrate(t,e){fi(t.deleteSet,e.id.client,e.id.clock,this.len),e.markDeleted()}delete(t){}gc(t){}write(t,e){t.writeLen(this.len-e)}getRef(){return 1}}const vr=(t,e)=>new bi({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class yr{constructor(t){t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;const e={};this.opts=e,t.gc||(e.gc=!1),t.autoLoad&&(e.autoLoad=!0),null!==t.meta&&(e.meta=t.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new yr(vr(this.doc.guid,this.opts))}splice(t){throw Ds()}mergeWith(t){return!1}integrate(t,e){this.doc._item=e,t.subdocsAdded.add(this.doc),this.doc.shouldLoad&&t.subdocsLoaded.add(this.doc)}delete(t){t.subdocsAdded.has(this.doc)?t.subdocsAdded.delete(this.doc):t.subdocsRemoved.add(this.doc)}gc(t){}write(t,e){t.writeString(this.doc.guid),t.writeAny(this.opts)}getRef(){return 9}}class br{constructor(t){this.embed=t}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new br(this.embed)}splice(t){throw Ds()}mergeWith(t){return!1}integrate(t,e){}delete(t){}gc(t){}write(t,e){t.writeJSON(this.embed)}getRef(){return 5}}class mr{constructor(t,e){this.key=t,this.value=e}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new mr(this.key,this.value)}splice(t){throw Ds()}mergeWith(t){return!1}integrate(t,e){e.parent._searchMarker=null}delete(t){}gc(t){}write(t,e){t.writeKey(this.key),t.writeJSON(this.value)}getRef(){return 6}}class kr{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new kr(this.arr)}splice(t){const e=new kr(this.arr.slice(t));return this.arr=this.arr.slice(0,t),e}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){const s=this.arr.length;t.writeLen(s-e);for(let i=e;i<s;i++){const e=this.arr[i];t.writeString(void 0===e?"undefined":JSON.stringify(e))}}getRef(){return 2}}class $r{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new $r(this.arr)}splice(t){const e=new $r(this.arr.slice(t));return this.arr=this.arr.slice(0,t),e}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){const s=this.arr.length;t.writeLen(s-e);for(let i=e;i<s;i++){const e=this.arr[i];t.writeAny(e)}}getRef(){return 8}}class xr{constructor(t){this.str=t}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new xr(this.str)}splice(t){const e=new xr(this.str.slice(t));this.str=this.str.slice(0,t);const s=this.str.charCodeAt(t-1);return s>=55296&&s<=56319&&(this.str=this.str.slice(0,t-1)+"�",e.str="�"+e.str.slice(1)),e}mergeWith(t){return this.str+=t.str,!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){t.writeString(0===e?this.str:this.str.slice(e))}getRef(){return 4}}const Sr=[t=>new Hn,t=>new Gn,t=>new or,t=>new cr(t.readKey()),t=>new lr,t=>new ur(t.readKey()),t=>new dr],Mr=0,Ar=1,Cr=2,_r=3,Wr=4,Or=5,Ur=6;class Er{constructor(t){this.type=t}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Er(this.type._copy())}splice(t){throw Ds()}mergeWith(t){return!1}integrate(t,e){this.type._integrate(t.doc,e)}delete(t){let e=this.type._start;for(;null!==e;)e.deleted?t._mergeStructs.push(e):e.delete(t),e=e.right;this.type._map.forEach((e=>{e.deleted?t._mergeStructs.push(e):e.delete(t)})),t.changed.delete(this.type)}gc(t){let e=this.type._start;for(;null!==e;)e.gc(t,!0),e=e.right;this.type._start=null,this.type._map.forEach((e=>{for(;null!==e;)e.gc(t,!0),e=e.left})),this.type._map=new Map}write(t,e){this.type._write(t)}getRef(){return 7}}const Tr=(t,e,s)=>{const{client:i,clock:n}=e.id,r=new Rr(ji(i,n+s),e,ji(i,n+s-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(s));return e.deleted&&r.markDeleted(),e.keep&&(r.keep=!0),null!==e.redone&&(r.redone=ji(e.redone.client,e.redone.clock+s)),e.right=r,null!==r.right&&(r.right.left=r),t._mergeStructs.push(r),null!==r.parentSub&&null===r.right&&r.parent._map.set(r.parentSub,r),e.length=s,r};class Rr extends fr{constructor(t,e,s,i,n,r,o,h){super(t,h.getLength()),this.origin=s,this.left=e,this.right=i,this.rightOrigin=n,this.parent=r,this.parentSub=o,this.redone=null,this.content=h,this.info=this.content.isCountable()?2:0}set marker(t){(8&this.info)>0!==t&&(this.info^=8)}get marker(){return(8&this.info)>0}get keep(){return(1&this.info)>0}set keep(t){this.keep!==t&&(this.info^=1)}get countable(){return(2&this.info)>0}get deleted(){return(4&this.info)>0}set deleted(t){this.deleted!==t&&(this.info^=4)}markDeleted(){this.info|=4}getMissing(t,e){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Ki(e,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Ki(e,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Ii&&this.id.client!==this.parent.client&&this.parent.clock>=Ki(e,this.parent.client))return this.parent.client;if(this.origin&&(this.left=Qi(t,e,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Xi(t,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===wr||this.right&&this.right.constructor===wr)&&(this.parent=null),this.parent){if(this.parent.constructor===Ii){const t=Zi(e,this.parent);t.constructor===wr?this.parent=null:this.parent=t.content.type}}else this.left&&this.left.constructor===Rr&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===Rr&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);return null}integrate(t,e){if(e>0&&(this.id.clock+=e,this.left=Qi(t,t.doc.store,ji(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(e),this.length-=e),this.parent){if(!this.left&&(!this.right||null!==this.right.left)||this.left&&this.left.right!==this.right){let e,s=this.left;if(null!==s)e=s.right;else if(null!==this.parentSub)for(e=this.parent._map.get(this.parentSub)||null;null!==e&&null!==e.left;)e=e.left;else e=this.parent._start;const i=new Set,n=new Set;for(;null!==e&&e!==this.right;){if(n.add(e),i.add(e),zi(this.origin,e.origin)){if(e.id.client<this.id.client)s=e,i.clear();else if(zi(this.rightOrigin,e.rightOrigin))break}else{if(null===e.origin||!n.has(Zi(t.doc.store,e.origin)))break;i.has(Zi(t.doc.store,e.origin))||(s=e,i.clear())}e=e.right}this.left=s}if(null!==this.left){const t=this.left.right;this.right=t,this.left.right=this}else{let t;if(null!==this.parentSub)for(t=this.parent._map.get(this.parentSub)||null;null!==t&&null!==t.left;)t=t.left;else t=this.parent._start,this.parent._start=this;this.right=t}null!==this.right?this.right.left=this:null!==this.parentSub&&(this.parent._map.set(this.parentSub,this),null!==this.left&&this.left.delete(t)),null===this.parentSub&&this.countable&&!this.deleted&&(this.parent._length+=this.length),qi(t.doc.store,this),this.content.integrate(t,this),nn(t,this.parent,this.parentSub),(null!==this.parent._item&&this.parent._item.deleted||null!==this.parentSub&&null!==this.right)&&this.delete(t)}else new wr(this.id,this.length).integrate(t,0)}get next(){let t=this.right;for(;null!==t&&t.deleted;)t=t.right;return t}get prev(){let t=this.left;for(;null!==t&&t.deleted;)t=t.left;return t}get lastId(){return 1===this.length?this.id:ji(this.id.client,this.id.clock+this.length-1)}mergeWith(t){if(this.constructor===t.constructor&&zi(t.origin,this.lastId)&&this.right===t&&zi(this.rightOrigin,t.rightOrigin)&&this.id.client===t.id.client&&this.id.clock+this.length===t.id.clock&&this.deleted===t.deleted&&null===this.redone&&null===t.redone&&this.content.constructor===t.content.constructor&&this.content.mergeWith(t.content)){const e=this.parent._searchMarker;return e&&e.forEach((e=>{e.p===t&&(e.p=this,!this.deleted&&this.countable&&(e.index-=this.length))})),t.keep&&(this.keep=!0),this.right=t.right,null!==this.right&&(this.right.left=this),this.length+=t.length,!0}return!1}delete(t){if(!this.deleted){const e=this.parent;this.countable&&null===this.parentSub&&(e._length-=this.length),this.markDeleted(),fi(t.deleteSet,this.id.client,this.id.clock,this.length),nn(t,e,this.parentSub),this.content.delete(t)}}gc(t,e){if(!this.deleted)throw Is();this.content.gc(t),e?((t,e,s)=>{const i=t.clients.get(e.id.client);i[Fi(i,e.id.clock)]=s})(t,this,new wr(this.id,this.length)):this.content=new gr(this.length)}write(t,e){const s=e>0?ji(this.id.client,this.id.clock+e-1):this.origin,i=this.rightOrigin,n=this.parentSub,r=31&this.content.getRef()|(null===s?0:128)|(null===i?0:64)|(null===n?0:32);if(t.writeInfo(r),null!==s&&t.writeLeftID(s),null!==i&&t.writeRightID(i),null===s&&null===i){const e=this.parent;if(void 0!==e._item){const s=e._item;if(null===s){const s=(t=>{for(const[e,s]of t.doc.share.entries())if(s===t)return e;throw Is()})(e);t.writeParentInfo(!0),t.writeString(s)}else t.writeParentInfo(!1),t.writeLeftID(s.id)}else e.constructor===String?(t.writeParentInfo(!0),t.writeString(e)):e.constructor===Ii?(t.writeParentInfo(!1),t.writeLeftID(e)):Is();null!==n&&t.writeString(n)}this.content.write(t,e)}}const Nr=(t,e)=>Dr[31&e](t),Dr=[()=>{Is()},t=>new gr(t.readLen()),t=>{const e=t.readLen(),s=[];for(let i=0;i<e;i++){const e=t.readString();"undefined"===e?s.push(void 0):s.push(JSON.parse(e))}return new kr(s)},t=>new pr(t.readBuf()),t=>new xr(t.readString()),t=>new br(t.readJSON()),t=>new mr(t.readKey(),t.readJSON()),t=>new Er(Sr[t.readTypeRef()](t)),t=>{const e=t.readLen(),s=[];for(let i=0;i<e;i++)s.push(t.readAny());return new $r(s)},t=>new yr(vr(t.readString(),t.readAny())),()=>{Is()}];class Ir extends fr{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor===t.constructor&&(this.length+=t.length,!0)}integrate(t,e){Is()}write(t,e){t.writeInfo(10),ps(t.restEncoder,this.length-e)}getMissing(t,e){return null}}const zr="undefined"!=typeof window?window:"undefined"!=typeof global?global:{};async function jr(t,e,s){return t.pipeTo(new WritableStream({write:e}),{signal:s})}var Lr,Pr,Jr,Br;!0===zr["g"]&&console.error("Yjs was already imported. This breaks constructor checks and will lead to isssues!"),zr["g"]=!0;class Hr extends EventTarget{constructor(){super(),Lr.add(this),this.callouts=new Set,Pr.set(this,void 0),this.doc=new bi;const t=new TransformStream;i(this,Pr,t.writable.getWriter(),"f"),jr(t.readable,(t=>s(this,Lr,"m",Jr).call(this,t)))}get board(){return this.doc.getMap("board")}initialize_board(){this.doc.transact((()=>{this.board.set("width",30),this.board.set("height",30),this.board.set("bg",null),this.board.set("tokens",new Gn([])),this.board.set("order",new Hn)}))}async set_bg(t){const e=t?await s(this,Lr,"m",Br).call(this,t):null;this.apply({type:"bg",url:e})}async add_token(t,e){console.log("ADDING TOKEN");const i={id:crypto.randomUUID(),url:await s(this,Lr,"m",Br).call(this,t),...e};this.apply({type:"token-added",...i})}set_dim(t){this.apply({type:"grid-resized",dim:t})}async apply(t){await s(this,Pr,"f").write(t)}}Pr=new WeakMap,Lr=new WeakSet,Jr=function(t){console.log("handling event",t),this.doc.transact((()=>{switch(t.type){case"token-manipulated":for(let e of t.tokens){let t=this.board.get("tokens").get(e.id);if(void 0===t)return void console.error("Update received for nonexistant token",e.id);t.set("dim",e.dim),t.set("r",e.r),t.set("loc",e.loc)}break;case"token-added":let e={id:t.id,dim:t.dim,loc:t.loc,url:t.url,r:0};console.log(e),this.board.get("tokens").set(t.id,function(t){let e=new Gn;for(let[s,i]of Object.entries(t))e.set(s,i);return e}(e)),this.board.get("order").push([t.id]);break;case"grid-resized":this.board.set("width",t.dim[0]),this.board.set("height",t.dim[1]);break;case"token-removed":for(let e of t.ids)this.board.get("tokens").delete(e);let s=[];this.board.get("order").forEach(((e,i)=>t.ids.includes(e)&&s.push(i))),s.sort().reverse().forEach((t=>{this.board.get("order").delete(t)}));break;case"state-sync":case"token-reorder":break;case"bg":this.board.set("bg",t.url);break;case"callout":this.callouts.add(t.loc),setTimeout((()=>{this.callouts.delete(t.loc)}),1500)}}))},Br=async function(t){if("string"==typeof t)return t;let e=new URL(window.location.toString());e.search="";let s=await crypto.subtle.digest("SHA-1",await t.arrayBuffer()),i=btoa(String.fromCharCode(...new Uint8Array(s)));console.log("RESOURCE ID: ",i),e.pathname=`/resources/${i}`;let n=await caches.open("resources");return await n.put(e,new Response(t)),e.toString()};
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Vr=t=>{if(t.shouldConnect&&null===t.ws){const e=new WebSocket(t.url),s=t.binaryType;let i=null;s&&(e.binaryType=s),t.ws=e,t.connecting=!0,t.connected=!1,e.onmessage=e=>{t.lastMessageReceived=Rs();const s=e.data,n="string"==typeof s?JSON.parse(s):s;n&&"pong"===n.type&&(clearTimeout(i),i=setTimeout(r,15e3)),t.emit("message",[n,t])};const n=e=>{null!==t.ws&&(t.ws=null,t.connecting=!1,t.connected?(t.connected=!1,t.emit("disconnect",[{type:"disconnect",error:e},t])):t.unsuccessfulReconnects++,setTimeout(Vr,Ee(1200*Ue(t.unsuccessfulReconnects+1),2500),t)),clearTimeout(i)},r=()=>{t.ws===e&&t.send({type:"ping"})};e.onclose=()=>n(null),e.onerror=t=>n(t),e.onopen=()=>{t.lastMessageReceived=Rs(),t.connecting=!1,t.connected=!0,t.unsuccessfulReconnects=0,t.emit("connect",[{type:"connect"},t]),i=setTimeout(r,15e3)}}};class Gr extends _e{constructor(t,{binaryType:e}={}){super(),this.url=t,this.ws=null,this.binaryType=e||null,this.connected=!1,this.connecting=!1,this.unsuccessfulReconnects=0,this.lastMessageReceived=0,this.shouldConnect=!0,this._checkInterval=setInterval((()=>{this.connected&&3e4<Rs()-this.lastMessageReceived&&this.ws.close()}),15e3),Vr(this)}send(t){this.ws&&this.ws.send(JSON.stringify(t))}destroy(){clearInterval(this._checkInterval),this.disconnect(),super.destroy()}disconnect(){this.shouldConnect=!1,null!==this.ws&&this.ws.close()}connect(){this.shouldConnect=!0,this.connected||null!==this.ws||Vr(this)}}var Kr,qr,Fr,Zr,Yr;class Xr extends _e{constructor(){super(...arguments),Kr.set(this,"opening")}get current(){return s(this,Kr,"f")}set(t){let e=s(this,Kr,"f")!==t;i(this,Kr,t,"f"),e&&this.emit("status",[])}connected(){return new Promise(((t,e)=>{let i=()=>{"closed"===s(this,Kr,"f")&&e("closed"),"open"===s(this,Kr,"f")&&t()};"opening"===s(this,Kr,"f")?this.once("status",i):i()}))}}Kr=new WeakMap;const Qr={iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}]};class to extends _e{constructor(t,e=!1,i="wss://battlegrid-signaling.herokuapp.com"){super(),qr.add(this),this.peers=new Map,this.status=new Xr,Yr.set(this,(async t=>{if(console.log("ONMESSAGE",t),"error-not-exists"===t.type){return this.peers.get(t.destination)?.peer.close(),void console.log("closing")}let e=this.peers.get(t.from);if(!e){if("offer"!==t.description?.type)return;e=s(this,qr,"m",Fr).call(this,t.from,!1)}let i=e.peer;if(t.description){const n=!e.making_offer&&("stable"==i.signalingState||e.isSettingRemoteAnswerPending),r="offer"==t.description.type&&!n;if(e.ignore_offer=!e.polite&&r,e.ignore_offer)return;e.isSettingRemoteAnswerPending="answer"===t.description.type,await i.setRemoteDescription(t.description),e.isSettingRemoteAnswerPending=!1,"offer"===t.description.type&&(await i.setLocalDescription(),await s(this,qr,"m",Zr).call(this,{type:"signal",from:this.peer_id,to:t.from,description:i.localDescription})),this.emit("peer",[t.from,i])}else if(t.candidate)try{await i.addIceCandidate(t.candidate)}catch(t){if(!e.ignore_offer)throw t}}));let n=new URL(i);n.pathname=t,this.allow_connections=e,this.peer_id=t,this.socket=new Gr(n.toString()),this.status.set("opening"),this.socket.on("connect",(()=>this.status.set("open"))),this.socket.on("disconnect",(()=>this.status.set("opening"))),this.socket.on("message",s(this,Yr,"f"))}initiate(t){return s(this,qr,"m",Fr).call(this,t,!1).peer}shutdown(){this.socket.destroy(),this.peers.clear(),this.status.destroy()}}Yr=new WeakMap,qr=new WeakSet,Fr=function(t,e){let i=new RTCPeerConnection(Qr),n={polite:e,making_offer:!1,ignore_offer:!1,isSettingRemoteAnswerPending:!1,peer:i};return this.peers.set(t,n),i.onicecandidate=async({candidate:e})=>{await s(this,qr,"m",Zr).call(this,{type:"signal",from:this.peer_id,to:t,candidate:e})},i.onnegotiationneeded=async()=>{console.log("negotiation needed!");try{n.making_offer=!0,await i.setLocalDescription(),await s(this,qr,"m",Zr).call(this,{type:"signal",from:this.peer_id,to:t,description:i.localDescription})}finally{n.making_offer=!1}},i.addEventListener("iceconnectionstatechange",(()=>{console.log("iceConnectionState",i.iceConnectionState),"closed"===i.iceConnectionState&&this.peers.delete(t)})),n},Zr=async function(t){await this.status.connected(),await this.socket.send(t)};const eo=t=>({readable:so(t),writable:io(t)}),so=t=>new ReadableStream({start(e){t.onmessage=({data:t})=>{e.enqueue(t)};t.addEventListener("close",(()=>{0===t.bufferedAmount?(console.log("Underlying datachannel closed"),e.close()):t.addEventListener("bufferedamountlow",(()=>{console.log("Underlying datachannel closed"),e.close()}))}),{once:!0})},cancel(){t.close()}}),io=t=>{let e;return t.addEventListener("error",(t=>console.log("DC ERROR",t))),new WritableStream({start(s){const i=()=>{console.log("stream closed by dc ending",t.label),s.error("Closed foo"),t.removeEventListener("close",i)};t.addEventListener("close",i),t.onopen=()=>e&&e(),t.onbufferedamountlow=()=>e&&e()},async write(s){("connecting"===t.readyState||t.bufferedAmount>t.bufferedAmountLowThreshold)&&(console.log("waiting for resumptoin..."),await new Promise(((t,s)=>e=t)),console.log("resumed!")),t.send(s)},abort(){console.log("aborted dc by stream"),t.close()},close(){console.log("closed dc by stream"),t.close()}},new CountQueuingStrategy({highWaterMark:1}))};async function no(t){let e=t.readable.getReader(),s=await e.read();console.log("header? ",s);let i=JSON.parse(s.value);e.releaseLock();let n=await async function(t,e){let s=[];return console.log("collectin blob"),await jr(t,(t=>{console.log("CHUNK?"),s.push(t)})),console.log("got all bytes"),new Blob(s,{type:e})}(t.readable,i?.type);return{blob:n}}async function ro(t,e,s=262144){console.log("USING MAX MESSAGE SIZE: ",s);let i=t.writable.getWriter();await i.write(JSON.stringify({type:e.blob.type})),i.releaseLock(),await function(t,e){let s=0;return new ReadableStream({async pull(i){if(s>=t.size)return i.close();try{i.enqueue(new Uint8Array(await t.slice(s,Math.min(s+e,t.size)).arrayBuffer()))}catch(t){console.log("Error enqueue slice",t)}s+=e}},new CountQueuingStrategy({highWaterMark:5}))}(e.blob,s).pipeTo(t.writable,{preventClose:!0})}var oo,ho,lo,co,ao,uo,fo,wo,po,go,vo,yo,bo;class mo{constructor(t,e){this.status=new Xr,oo.set(this,void 0),this.ondatachannel=t=>{},this.id=t,this.peer=e;let s=e.createDataChannel("events",{negotiated:!0,id:1});s.binaryType="arraybuffer";let{readable:n,writable:r}=eo(s);this.events=n.pipeThrough(new TransformStream({transform(t,e){console.log("chunk",t),e.enqueue(new Uint8Array(t))}})),i(this,oo,r.getWriter(),"f");let o=e.close;e.close=()=>{this.status.set("closed"),o.bind(e)()},e.addEventListener("iceconnectionstatechange",(()=>{switch(console.log("STATE CHANGE"),e.iceConnectionState){case"closed":this.status.set("closed");break;case"connected":this.status.set("open");break;default:this.status.set("opening")}})),e.ondatachannel=t=>this.ondatachannel(t)}write_event(t){return s(this,oo,"f").write(t)}request(t){return this.datachannel(t,{protocol:"request-resource"}).then(eo).then(no)}datachannel(t,e){return new Promise(((s,i)=>{let n=this.peer.createDataChannel(t,e);n.addEventListener("open",(()=>{n.removeEventListener("error",i),s(n)}),{once:!0}),n.addEventListener("error",i,{once:!0})}))}}oo=new WeakMap;class ko{constructor(t,e){ho.add(this),lo.set(this,void 0),co.set(this,void 0),ao.set(this,void 0),uo.set(this,void 0),this.forward_updates=(t,e)=>{"remote"!==e&&s(this,co,"f").write_event(t)},i(this,uo,new to(crypto.randomUUID()),"f"),i(this,lo,e,"f"),i(this,ao,t,"f"),s(this,lo,"f").doc.on("update",this.forward_updates),i(this,co,s(this,ho,"m",fo).call(this),"f");let n=caches.open("resources");navigator.serviceWorker.onmessage=async t=>{let e=t.data.id;try{let t=await s(this,co,"f").request(e),i=new Response(t.blob);await(await n).put(`/resources/${e}`,i),console.log("COMMUNICATING WITH SERVICE WORKER"),navigator.serviceWorker.controller.postMessage({type:"found",id:e})}catch(t){console.error("Error fetching resource: ",t),navigator.serviceWorker.controller.postMessage({type:"notfound",id:e,error:t})}}}get status(){return s(this,co,"f").status}async reconnect(){i(this,co,s(this,ho,"m",fo).call(this),"f")}async shutdown(){s(this,lo,"f").doc.off("update",this.forward_updates),s(this,co,"f").peer.close(),console.log("Waiting for signaler shutdown"),await s(this,uo,"f").shutdown(),console.log("signaler dead"),navigator.serviceWorker.onmessage=null}}lo=new WeakMap,co=new WeakMap,ao=new WeakMap,uo=new WeakMap,ho=new WeakSet,fo=function(){let t=new mo(s(this,uo,"f").peer_id,s(this,uo,"f").initiate(s(this,ao,"f")));return jr(t.events,(t=>_i(s(this,lo,"f").doc,t,"remote"))),t};class $o{constructor(t){wo.add(this),po.set(this,void 0),this.clients=new Set,go.set(this,void 0),vo.set(this,((t,e)=>{let i=new mo(t,e);this.clients.add(i),i.write_event(Oi(s(this,po,"f").doc)),jr(i.events,(e=>{_i(s(this,po,"f").doc,e,t)})),e.ondatachannel=async t=>{console.log("INCOMING DC",t.channel);const i=t.channel;try{await(r="open",o=i,new Promise((t=>{o.addEventListener(r,(e=>t(e)),{once:!0})}))),console.log("new dc",i),"request-resource"===i.protocol&&(await ro(eo(i),await s(this,wo,"m",yo).call(this,i.label),e.sctp?.maxMessageSize||262144),console.log("FLUSHING"),await(n=i,new Promise(((t,e)=>{const s=()=>0===n.bufferedAmount?t():"closed"===n.readyState||"closing"===n.readyState?e("Buffer closed before flushing"):void 0;n.bufferedAmountLowThreshold=0,n.addEventListener("bufferedamountlow",s),s()}))))}finally{i.close()}var n,r,o}})),this.signaler=new to(crypto.randomUUID(),!0),i(this,po,t,"f"),i(this,go,new AbortController,"f"),this.signaler.on("peer",s(this,vo,"f")),s(this,po,"f").doc.on("update",((t,e)=>{for(let s of this.clients)console.log("ECHO",s.id,e),s.id!==e&&s.write_event(t)}))}async shutdown(){for(let t of this.clients)t.peer.close();this.clients.clear(),s(this,go,"f").abort("Server shutting down"),await this.signaler.shutdown()}}po=new WeakMap,go=new WeakMap,vo=new WeakMap,wo=new WeakSet,yo=async function(t){let e=await(await caches.open("resources")).match(`/resources/${t}`);if(!e)throw`Requested unknown resource ${t}`;return{blob:await e.blob()}};let xo=class extends rt{constructor(){super(...arguments),this.text="",this.mousex=0,this.mousey=0,bo.set(this,(t=>{this.mousex=t.pageX,this.mousey=t.pageY}))}connectedCallback(){super.connectedCallback(),this.addEventListener("mousemove",s(this,bo,"f"))}disconnectedCallback(){this.removeEventListener("mousemove",s(this,bo,"f"))}render(){return console.log("Rendering"),z`<slot></slot><div id="message" style="${Vt({left:`${this.mousex+8}px`,top:`${this.mousey+10}px`})}">${this.text}</div>`}};bo=new WeakMap,xo.styles=c`:host{display:inline-block;position:relative;width:fit-content;height:fit-content}div{font-size:.8em;display:none;opacity:0;position:fixed;background:#000;color:#fff;border-radius:3px;padding:.25em .5em;white-space:nowrap;width:max-content}@keyframes appear{0%{opacity:0}100%{opacity:1}}:host(:hover) div{display:block;animation:appear 250ms linear forwards 750ms}`,e([ct()],xo.prototype,"text",void 0),e([at()],xo.prototype,"mousex",void 0),e([at()],xo.prototype,"mousey",void 0),xo=e([ht("with-tooltip")],xo);let So=class extends rt{constructor(){super(...arguments),this.status="local",this.toggle=t=>(t.preventDefault(),t.target.checked?this.dispatchEvent(new CustomEvent("enable")):this.dispatchEvent(new CustomEvent("disable")),!1)}render(){return z`<label class="switch"><with-tooltip text="${function(t){switch(t){case"open":return"Joinable";case"closed":return"Offline";case"opening":return"Not Joinable";case"local":return"Start hosting"}}(this.status)}"><input type="checkbox" @input="${this.toggle}" ?checked="${"local"!==this.status}"> <span class="slider round ${this.status}"><span class="on-space">Hosting</span> <span class="dot"></span> <span class="off-space">Offline</span></span></with-tooltip></label>`}};So.styles=c`.slider{display:inline-flex;flex-wrap:nowrap;height:1em;transition:.4s;padding:.2em;min-width:4.5em;cursor:pointer;background:#ccc}.open{background:#2196f3}.opening{background:#fdcb18}.opening>.on-space{color:#000}input{display:none}input:checked+.slider>.on-space{flex-grow:1;opacity:1}input:checked+.slider>.off-space{flex-grow:0!important;opacity:0}.off-space{opacity:1;flex-grow:1!important}.on-space{opacity:0;color:#fff;width:0}.off-space,.on-space{font-size:.8em}.slider>span{flex-grow:0;flex-basis:0;transition:.4s;overflow:hidden;text-align:center}.round{border-radius:1em}.dot{border-radius:1em;min-width:1em;height:1em;background:#fff}`,e([ct()],So.prototype,"status",void 0),So=e([ht("host-toggle")],So);let Mo=class extends rt{constructor(){super(...arguments),this.status="opening",this.toggle=t=>(t.preventDefault(),t.target.checked?this.dispatchEvent(new CustomEvent("enable")):this.dispatchEvent(new CustomEvent("disable")),!1)}render(){return z`<span class="slider round ${this.status}">${function(t){switch(t){case"open":return"Connected";case"closed":return"Disconnected";case"opening":return"Connecting"}}(this.status)}</span>`}};Mo.styles=c`.slider{height:1em;transition:.4s;padding:.2em;min-width:5em;cursor:pointer;color:#fff;font-size:.8em;align-items:baseline}.open{background:#2196f3}.opening{background:#fdcb18}.round{border-radius:1em}`,e([ct()],Mo.prototype,"status",void 0),Mo=e([ht("client-status")],Mo);const Ao=t=>{var i,n;class r extends t{constructor(){super(...arguments),i.set(this,(t=>{this.drag_location=[t.offsetX,t.offsetY],t.preventDefault()})),n.set(this,(t=>{this.drag_location=void 0}))}connectedCallback(){super.connectedCallback(),this.addEventListener("dragenter",s(this,i,"f")),this.addEventListener("dragover",s(this,i,"f")),this.addEventListener("drop",s(this,n,"f")),this.addEventListener("dragleave",s(this,n,"f"))}disconnectedCallback(){this.addEventListener("dragenter",s(this,i,"f")),this.removeEventListener("dragover",s(this,i,"f")),this.removeEventListener("dragleave",s(this,n,"f")),this.removeEventListener("drop",s(this,n,"f"))}}return i=new WeakMap,n=new WeakMap,e([at()],r.prototype,"drag_location",void 0),r};var Co;let _o=class extends(Ao(rt)){constructor(){super(...arguments),Co.set(this,(async t=>{zt(t);try{const e=await Lt(t);console.log("Emitting drop");let s=this.dispatchEvent(jt("token-drop",{loc:this.grid.snap([t.offsetX,t.offsetY]),dim:[this.grid.dim,this.grid.dim],img:e}));console.log("DISPATCH?",s)}catch(t){console.error(t)}}))}connectedCallback(){super.connectedCallback(),this.addEventListener("drop",s(this,Co,"f"))}render(){let t=this.drag_location?this.grid.snap(this.drag_location):void 0;return z`<div id="drop-hint" style="${Vt({visibility:void 0===t?"hidden":"visible",transform:t?`translate(${t[0]}px, ${t[1]}px)`:""})}"></div>`}};var Wo,Oo;Co=new WeakMap,_o.styles=c`:host{width:100%;height:100%;position:relative}#drop-hint{width:1em;height:1em;background:grey;position:absolute}`,_o=e([ht("drop-layer")],_o);let Uo=class extends rt{constructor(){super(...arguments),Wo.add(this),Oo.set(this,{snap:t=>[Eo(t[0]),Eo(t[1])],dim:24})}get screen_dim(){return Ot(this.grid_dim,24)}get grid_dim(){return[this.board.get("width"),this.board.get("height")]}render(){let[t,e]=this.screen_dim;return z`<p-p-z><div id="root" style="${Vt({width:`${t}px`,height:`${e}px`,padding:"20px",fontSize:"24px"})}"><div id="board"><svg style="width:100%;height:100%;position:absolute" viewBox="${"0 0 "+this.board.get("width")+" "+this.board.get("height")}"><defs><pattern id="horiz" x="${-.01}" y="${-.01}" width="100%" height="1" patternUnits="userSpaceOnUse"><rect class="gridline" width="100%" height="${.02}" fill="#d3d3d3" shape-rendering="geometricPrecision"></rect></pattern><pattern id="vert" x="${-.01}" y="${-.01}" width="1" height="100%" patternUnits="userSpaceOnUse"><rect class="gridline" width="${.02}" height="100%" fill="#d3d3d3" shape-rendering="geometric precision"></rect></pattern></defs><rect width="100%" height="100%" fill="url(#horiz)" opacity="0.75" pointer-events="none"></rect><rect width="100%" height="100%" fill="url(#vert)" opacity="0.75" pointer-events="none"></rect></svg> ${At(this.board.get("order").toJSON()??[],(t=>t),((t,e)=>{console.log("repeat!",t);let s=this.board.get("tokens").get(t);const[i,n]=_t(s.get("dim"),0),[r,o]=_t(s.get("loc"),0);return z`<div class="token" style="${Vt({width:i+"px",height:n+"px",backgroundImage:`url("${s.get("url")}")`,transform:`translate(${r}px, ${o}px)`})}"></div>`}))}<drop-layer class="full-bleed" .grid="${s(this,Oo,"f")}" @token-drop="${t=>console.log(t)}"></drop-layer></div></div></p-p-z>`}};Oo=new WeakMap,Wo=new WeakSet,Uo.styles=c`p-p-z{position:absolute;background-color:#ededf0;top:0;left:0;right:0;bottom:0}#board{width:100%;height:100%;border-radius:${l("6px")};background:#fff;position:relative;overflow:hidden;box-shadow:5px solid #dddddddd}.token{position:absolute;background-size:100% 100%}.full-bleed{position:absolute;inset:0}:host{position:relative;display:block;--selection-color:cornflowerblue;overflow:hidden}`,e([ct({attribute:!1})],Uo.prototype,"board",void 0),Uo=e([ht("html-canvas")],Uo);const Eo=t=>t-t%24,To=(t,e)=>Promise.race([t,new Promise(((t,s)=>setTimeout(s,e)))]);var Ro,No,Do,Io,zo;let jo=class extends rt{constructor(){super(...arguments),this.selection=new Set,this.host_pending=!1,this.client_pending=!1,this.game=new Hr,Ro.set(this,(()=>{this.game.set_dim(Et([1,1],[parseInt(this.width?.value)??0,parseInt(this.height?.value)??0]))})),No.set(this,(async()=>{console.log("new local..."),this.game.initialize_board(),await(this.client?.shutdown()),this.client&&this.client.status.off("status",this.requestUpdate),this.client=void 0,window.history.pushState(null,"",window.location.href.split("?")[0])})),Do.set(this,(()=>this.requestUpdate())),Io.set(this,(async()=>{try{this.client?.shutdown(),this.client=void 0,this.host_pending=!0,this.server=new $o(this.game),this.server.signaler.status.on("status",s(this,Do,"f")),console.log("WAITING"),await To(this.server.signaler.status.connected(),5e3),window.history.pushState({},"","?game="+this.server.signaler.peer_id),navigator.clipboard.writeText(window.location.toString())}catch(t){console.error(t),await s(this,zo,"f")}finally{this.host_pending=!1}})),zo.set(this,(async()=>{let t=this.server;this.server=void 0,await(t?.shutdown()),window.history.replaceState({},"",window.location.pathname)}))}render(){let t="closed"===this.client?.status.current?z`<div class="message error"><div><h1>Error connecting to remote grid</h1><button @click="${s(this,No,"f")}">New local grid</button></div></div>`:null,e=this.client_pending?z`<div class="message"><div><h1>Connecting to grid...</h1></div></div>`:null,i="closed"===this.client?.status.current?z`<div class="message"><div><h1>Disconnected from host</h1><button @click="${s(this,No,"f")}">Continue locally</button></div></div>`:null,n=t||e||i;return z`<section id="toolbar" class="group"><div class="group">${this.client?z`<client-status status="${this.client.status.current}"></client-status>`:z`<host-toggle status="${this.server?.signaler.status.current??"local"}" @enable="${s(this,Io,"f")}" @disable="${s(this,zo,"f")}"></host-toggle>`} <span>Grid: <input id="width" type="number" min="1" @input="${s(this,Ro,"f")}" .value="${this.game.board.get("width")+""}"> x <input id="height" type="number" min="1" @input="${s(this,Ro,"f")}" .value="${this.game.board.get("height")+""}"> </span>${1===this.selection.size?z`<div><button @click="${()=>this.game.apply({type:"token-reorder",id:Bt(this.selection),idx:"down"})}" ?disabled="${!0}">Move Down</button> <button @click="${()=>this.game.apply({type:"token-reorder",id:Bt(this.selection),idx:"up"})}" ?disabled="${!0}">Move Up</button></div>`:null}</div><div class="group"><buy-me-a-coffee class="right"></buy-me-a-coffee></div></section><html-canvas bg="${(t=>null!=t?t:P)(this.game.board.get("bg")??void 0)}" .selection="${this.selection}" width="${this.game.board.get("width")}" height="${this.game.board.get("height")}" .board="${this.game.board}" .callouts="${this.game.callouts}" @token-drop="${({detail:t})=>this.game.add_token(t.img,{loc:t.loc,r:0,dim:t.dim})}" @bg-drop="${({detail:t})=>this.game.set_bg(t)}" @token-select="${({detail:t})=>{this.selection=new Set(t)}}" @game-event="${({detail:t})=>this.game.apply(t)}"></html-canvas>${n}`}updated(t){t.has("client")&&(document.title="BattleGrid"+(this.client&&"open"===this.client.status.current?this.server?"- Hosting":"- Connected":""))}async connectedCallback(){super.connectedCallback(),console.log(this.game.board),this.game.doc.on("update",(()=>{console.log("UPDATEING");for(const t of this.selection)this.game.board.get("tokens").has(t)||this.selection.delete(t);this.requestUpdate(),console.log("CANVAS",this.canvas),this.canvas?.requestUpdate()})),this.game.doc.on("afterTransaction",(()=>{this.canvas?.requestUpdate()})),console.log("debug now please");let t=new URLSearchParams(window.location.search).get("game");if(!t)return await s(this,No,"f").call(this);try{console.log("new client"),this.client=new ko(t,this.game),this.client.status.on("status",(()=>this.requestUpdate())),console.log("waiting for connection"),this.client_pending=!0,await To(this.client.status.connected(),5e3),console.log("connected")}catch{console.log("giving up"),await s(this,No,"f").call(this)}finally{this.client_pending=!1}}};var Lo,Po,Jo,Bo,Ho;Ro=new WeakMap,No=new WeakMap,Do=new WeakMap,Io=new WeakMap,zo=new WeakMap,jo.styles=c`:host{width:100%;height:100%;display:grid;grid:"toolbar" 30px "viewport" minmax(0,1fr)/minmax(0,1fr);font-family:inherit;--ui-bg:#f9f9fa}.message{grid-area:1/1/3/1;display:grid;align-items:center;justify-items:center;background:#fff;z-index:2}.right{justify-self:end}html-canvas{grid-area:viewport;z-index:1}input[type=number]{width:3em}.group{display:flex;align-items:center;height:100%;flex-wrap:nowrap}#toolbar{grid-area:toolbar;box-shadow:0 0 4px gray;z-index:2;background:var(--ui-bg);justify-content:space-between;padding:0 1em;grid-template-rows:unset}.group img{width:1em;height:1em;object-fit:cover;display:inline-block}`,e([ft("#width",!0)],jo.prototype,"width",void 0),e([ft("#height",!0)],jo.prototype,"height",void 0),e([ft("html-canvas",!1)],jo.prototype,"canvas",void 0),e([at()],jo.prototype,"client",void 0),e([at()],jo.prototype,"server",void 0),e([at()],jo.prototype,"selection",void 0),e([at()],jo.prototype,"host_pending",void 0),e([at()],jo.prototype,"client_pending",void 0),jo=e([ht("bg-app")],jo);class Vo extends HTMLElement{constructor(){super(),Lo.add(this),this.state={z:1,scroll_pos:[0,0]},this.desired_state={z:1},this.origin=[0,0],this.vloc=[0,0],this.vdim=[0,0],this.cdim=[0,0],this.offset=[0,0],this.smooth=!1,Jo.set(this,new ResizeObserver((t=>{for(let e of t)if(e.target===this){this.vdim=[e.contentRect.width,e.contentRect.height];const t=this.getBoundingClientRect();this.vloc=[t.x,t.y]}else this.cdim=[e.contentRect.width,e.contentRect.height],s(this,Lo,"m",Po).call(this);this.center()}))),this.loop=async()=>{let t,e;for(;t=e,e=await Go();){if(!t)continue;let s=this.desired_state.z-this.state.z;if(0===s)continue;let i=e-t,n=this.smooth?Math.sign(s)*Math.min(.002*i*this.state.z,Math.abs(s)):s;this.state.z+=n,this.center(),this.state.scroll_pos=Et([0,0],Ct(Ot(this.origin,n),this.state.scroll_pos)),this.scrollTo({left:this.state.scroll_pos[0],top:this.state.scroll_pos[1]})}},this.zoom=(t,e)=>{this.desired_state.z=Math.min(4,Math.max(1,this.desired_state.z+e)),this.state.scroll_pos=[this.scrollLeft,this.scrollTop],this.origin=this.coordToLocal(t)},this.wheel=t=>{if(!t.ctrlKey)return;console.log(t.target),t.preventDefault();const e=t.deltaMode===WheelEvent.DOM_DELTA_LINE?10:1,s=Math.min(50,Math.max(-50,-t.deltaY*e)),i=.005*s*this.state.z;this.smooth=50===Math.abs(s),this.zoom([t.clientX,t.clientY],i),this.addEventListener},Bo.set(this,(t=>{console.log("zoom!",t.ctrlKey,t.key),t.ctrlKey&&("-"===t.key?(this.smooth=!0,this.zoom(this.coordToLocal(Ct(this.vloc,Ut(this.vdim,2))),-.2*this.state.z),zt(t)):"="===t.key?(this.smooth=!0,this.zoom(this.coordToLocal(Ct(this.vloc,Ut(this.vdim,2))),.2*this.state.z),zt(t)):"0"===t.key&&(this.smooth=!0,s(this,Lo,"m",Po).call(this)))})),Ho.set(this,{prev_scale:0,origin:[0,0],start:t=>{zt(t),s(this,Ho,"f").origin=this.coordToLocal([t.clientX,t.clientY]),s(this,Ho,"f").prev_scale=1},change:t=>{zt(t),this.zoom(s(this,Ho,"f").origin,this.state.z*(t.scale-s(this,Ho,"f").prev_scale)*1.5),s(this,Ho,"f").prev_scale=t.scale}}),this.root=this.attachShadow({mode:"open"}),this.root.appendChild(Vo.template().content.cloneNode(!0)),this.container=this.root.getElementById("container"),s(this,Jo,"f").observe(this),this.root.querySelector("slot").onslotchange=({target:t})=>{let e=t.assignedElements()[0];s(this,Jo,"f").observe(e),this.smooth=!1},this.addEventListener("scroll",(()=>this.state.scroll_pos=[this.scrollLeft,this.scrollTop])),this.addEventListener("gesturestart",s(this,Ho,"f").start),this.addEventListener("gesturechange",s(this,Ho,"f").change),document.addEventListener("keydown",s(this,Bo,"f"),{passive:!1})}center(){this.offset=Et([0,0],Ot(Wt(this.vdim,Ot(this.cdim,this.state.z)),.5)),this.container.style.transform=`translate(${this.offset[0]}px, ${this.offset[1]}px) scale(${this.state.z})`}connectedCallback(){this.loop(),this.addEventListener("wheel",this.wheel,{passive:!1,capture:!0})}coordToLocal(t){const e=Ct(Wt(t,this.vloc),this.state.scroll_pos);return Ut(Wt(e,this.offset),this.state.z)}static template(){let t=document.createElement("template");return t.innerHTML='\n            <style>\n                :host {\n                    position: relative;\n                    display: block;\n                    overflow: auto; \n                }\n                #container {\n                    transform-origin: 0 0;\n                    display: block;\n                    width: fit-content;\n                    height: fit-content;\n                }\n            </style>\n                <div id="container">\n                    <slot id="content"></slot>\n                </div>\n            </div>\n        ',t}}Jo=new WeakMap,Bo=new WeakMap,Ho=new WeakMap,Lo=new WeakSet,Po=function(){let t=this.root.querySelector("slot").assignedElements()[0],e=this.getBoundingClientRect();this.vdim=[e.width,e.height],e=t.getBoundingClientRect(),this.cdim=[e.width,e.height];const s=Math.max(1,Math.min(4,...Ot(((t,e)=>[t[0]/e[0],t[1]/e[1]])(this.vdim,this.cdim),.95)));this.zoom([0,0],s-this.state.z)};const Go=()=>new Promise((t=>window.requestAnimationFrame(t)));customElements.define("p-p-z",Vo),await navigator.serviceWorker.register("./service-worker.js"),document.body.addEventListener("wheel",(t=>{t.ctrlKey&&t.preventDefault()}),{passive:!1});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlcyI6WyIuLi9zcmMvdWkvc2FmYXJpLWZpeC50cyIsIi4uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCIuLi9ub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2Nzcy10YWcuanMiLCIuLi9ub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L3JlYWN0aXZlLWVsZW1lbnQuanMiLCIuLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGl0LWh0bWwuanMiLCIuLi9ub2RlX21vZHVsZXMvbGl0LWVsZW1lbnQvbGl0LWVsZW1lbnQuanMiLCIuLi9ub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RlY29yYXRvcnMvY3VzdG9tLWVsZW1lbnQuanMiLCIuLi9ub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RlY29yYXRvcnMvcHJvcGVydHkuanMiLCIuLi9ub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RlY29yYXRvcnMvc3RhdGUuanMiLCIuLi9ub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RlY29yYXRvcnMvYmFzZS5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvZGVjb3JhdG9ycy9ldmVudC1vcHRpb25zLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9kZWNvcmF0b3JzL3F1ZXJ5LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9kZWNvcmF0b3JzL3F1ZXJ5LWFzc2lnbmVkLWVsZW1lbnRzLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2RpcmVjdGl2ZS5qcyIsIi4uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9kaXJlY3RpdmUtaGVscGVycy5qcyIsIi4uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9kaXJlY3RpdmVzL3JlcGVhdC5qcyIsIi4uL3NyYy91dGlsL21hdGgudHMiLCIuLi9zcmMvdXRpbC9ldmVudHMudHMiLCIuLi9zcmMvdXRpbC9maWxlcy50cyIsIi4uL3NyYy9nYW1lL2dhbWUtZXZlbnRzLnRzIiwiLi4vc3JjL3V0aWwvaXRlci50cyIsIi4uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9kaXJlY3RpdmVzL3N0eWxlLW1hcC5qcyIsIi4uL3NyYy91aS9jYW52YXMudHMiLCIuLi9zcmMvdWkvYnV5bWVhY29mZmVlLnRzIiwiLi4vbm9kZV9tb2R1bGVzL2xpYjAvbWFwLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xpYjAvc2V0LmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xpYjAvYXJyYXkuanMiLCIuLi9ub2RlX21vZHVsZXMvbGliMC9vYnNlcnZhYmxlLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xpYjAvbWF0aC5qcyIsIi4uL25vZGVfbW9kdWxlcy9saWIwL3N0cmluZy5qcyIsIi4uL25vZGVfbW9kdWxlcy9saWIwL2NvbmRpdGlvbnMuanMiLCIuLi9ub2RlX21vZHVsZXMvbGliMC9zdG9yYWdlLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xpYjAvZW52aXJvbm1lbnQuanMiLCIuLi9ub2RlX21vZHVsZXMvbGliMC9kZWNvZGluZy5qcyIsIi4uL25vZGVfbW9kdWxlcy9saWIwL2JpbmFyeS5qcyIsIi4uL25vZGVfbW9kdWxlcy9saWIwL2J1ZmZlci5qcyIsIi4uL25vZGVfbW9kdWxlcy9saWIwL251bWJlci5qcyIsIi4uL25vZGVfbW9kdWxlcy9saWIwL2VuY29kaW5nLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2lzb21vcnBoaWMuanMvYnJvd3Nlci5tanMiLCIuLi9ub2RlX21vZHVsZXMvbGliMC9yYW5kb20uanMiLCIuLi9ub2RlX21vZHVsZXMvbGliMC90aW1lLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xpYjAvZXJyb3IuanMiLCIuLi9ub2RlX21vZHVsZXMvbGliMC9vYmplY3QuanMiLCIuLi9ub2RlX21vZHVsZXMvbGliMC9mdW5jdGlvbi5qcyIsIi4uL25vZGVfbW9kdWxlcy9saWIwL3N5bWJvbC5qcyIsIi4uL25vZGVfbW9kdWxlcy9saWIwL3BhaXIuanMiLCIuLi9ub2RlX21vZHVsZXMvbGliMC9kb20uanMiLCIuLi9ub2RlX21vZHVsZXMvbGliMC9sb2dnaW5nLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xpYjAvaXRlcmF0b3IuanMiLCIuLi9ub2RlX21vZHVsZXMveWpzL2Rpc3QveWpzLm1qcyIsIi4uL25vZGVfbW9kdWxlcy9saWIwL3Byb21pc2UuanMiLCIuLi9zcmMvdXRpbC9zdHJlYW1zLnRzIiwiLi4vc3JjL2dhbWUvZ2FtZS50cyIsIi4uL3NyYy91dGlsL3lqcy50cyIsIi4uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9kaXJlY3RpdmVzL2lmLWRlZmluZWQuanMiLCIuLi9ub2RlX21vZHVsZXMvbGliMC93ZWJzb2NrZXQuanMiLCIuLi9zcmMvdXRpbC9uZXQudHMiLCIuLi9zcmMvbmV0L3J0Yy9zaWduYWxlci50cyIsIi4uL3NyYy91dGlsL3J0Yy50cyIsIi4uL3NyYy9uZXQvcmVzb3VyY2VzL3Byb3RvY29sLnRzIiwiLi4vc3JjL25ldC9nYW1lX3BlZXIudHMiLCIuLi9zcmMvbmV0L2NsaWVudC50cyIsIi4uL3NyYy9uZXQvc2VydmVyLnRzIiwiLi4vc3JjL3VpL3V0aWwvd2l0aC10b29sdGlwLnRzIiwiLi4vc3JjL3VpL2hvc3QtdG9nZ2xlLnRzIiwiLi4vc3JjL3VpL2NsaWVudC1zdGF0dXMudHMiLCIuLi9zcmMvdWkvdXRpbC9kcmFnLWFuZC1kcm9wLW1peGluLnRzIiwiLi4vc3JjL3VpL2h0bWwtY2FudmFzL2Ryb3AtbGF5ZXIudHMiLCIuLi9zcmMvdWkvaHRtbC1jYW52YXMudHMiLCIuLi9zcmMvdXRpbC9wcm9taXNlcy50cyIsIi4uL3NyYy91aS9hcHAudHMiLCIuLi9zcmMvdWkvcHBwLnRzIiwiLi4vc3JjL21haW4udHMiXSwic291cmNlc0NvbnRlbnQiOltudWxsLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcclxuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XHJcbiAgICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XHJcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59KTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgbykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBwKSkgX19jcmVhdGVCaW5kaW5nKG8sIG0sIHApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG4vKiogQGRlcHJlY2F0ZWQgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG4vKiogQGRlcHJlY2F0ZWQgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5KHRvLCBmcm9tLCBwYWNrKSB7XHJcbiAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcclxuICAgICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcclxuICAgICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XHJcbn0pIDogZnVuY3Rpb24obywgdikge1xyXG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XHJcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XHJcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XHJcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4oc3RhdGUsIHJlY2VpdmVyKSB7XHJcbiAgICBpZiAocmVjZWl2ZXIgPT09IG51bGwgfHwgKHR5cGVvZiByZWNlaXZlciAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmVjZWl2ZXIgIT09IFwiZnVuY3Rpb25cIikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgdXNlICdpbicgb3BlcmF0b3Igb24gbm9uLW9iamVjdFwiKTtcclxuICAgIHJldHVybiB0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyID09PSBzdGF0ZSA6IHN0YXRlLmhhcyhyZWNlaXZlcik7XHJcbn1cclxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5jb25zdCB0PXdpbmRvdy5TaGFkb3dSb290JiYodm9pZCAwPT09d2luZG93LlNoYWR5Q1NTfHx3aW5kb3cuU2hhZHlDU1MubmF0aXZlU2hhZG93KSYmXCJhZG9wdGVkU3R5bGVTaGVldHNcImluIERvY3VtZW50LnByb3RvdHlwZSYmXCJyZXBsYWNlXCJpbiBDU1NTdHlsZVNoZWV0LnByb3RvdHlwZSxlPVN5bWJvbCgpLG49bmV3IFdlYWtNYXA7Y2xhc3Mgc3tjb25zdHJ1Y3Rvcih0LG4scyl7aWYodGhpcy5fJGNzc1Jlc3VsdCQ9ITAscyE9PWUpdGhyb3cgRXJyb3IoXCJDU1NSZXN1bHQgaXMgbm90IGNvbnN0cnVjdGFibGUuIFVzZSBgdW5zYWZlQ1NTYCBvciBgY3NzYCBpbnN0ZWFkLlwiKTt0aGlzLmNzc1RleHQ9dCx0aGlzLnQ9bn1nZXQgc3R5bGVTaGVldCgpe2xldCBlPXRoaXMubztjb25zdCBzPXRoaXMudDtpZih0JiZ2b2lkIDA9PT1lKXtjb25zdCB0PXZvaWQgMCE9PXMmJjE9PT1zLmxlbmd0aDt0JiYoZT1uLmdldChzKSksdm9pZCAwPT09ZSYmKCh0aGlzLm89ZT1uZXcgQ1NTU3R5bGVTaGVldCkucmVwbGFjZVN5bmModGhpcy5jc3NUZXh0KSx0JiZuLnNldChzLGUpKX1yZXR1cm4gZX10b1N0cmluZygpe3JldHVybiB0aGlzLmNzc1RleHR9fWNvbnN0IG89dD0+bmV3IHMoXCJzdHJpbmdcIj09dHlwZW9mIHQ/dDp0K1wiXCIsdm9pZCAwLGUpLHI9KHQsLi4ubik9Pntjb25zdCBvPTE9PT10Lmxlbmd0aD90WzBdOm4ucmVkdWNlKCgoZSxuLHMpPT5lKyh0PT57aWYoITA9PT10Ll8kY3NzUmVzdWx0JClyZXR1cm4gdC5jc3NUZXh0O2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXJldHVybiB0O3Rocm93IEVycm9yKFwiVmFsdWUgcGFzc2VkIHRvICdjc3MnIGZ1bmN0aW9uIG11c3QgYmUgYSAnY3NzJyBmdW5jdGlvbiByZXN1bHQ6IFwiK3QrXCIuIFVzZSAndW5zYWZlQ1NTJyB0byBwYXNzIG5vbi1saXRlcmFsIHZhbHVlcywgYnV0IHRha2UgY2FyZSB0byBlbnN1cmUgcGFnZSBzZWN1cml0eS5cIil9KShuKSt0W3MrMV0pLHRbMF0pO3JldHVybiBuZXcgcyhvLHQsZSl9LGk9KGUsbik9Pnt0P2UuYWRvcHRlZFN0eWxlU2hlZXRzPW4ubWFwKCh0PT50IGluc3RhbmNlb2YgQ1NTU3R5bGVTaGVldD90OnQuc3R5bGVTaGVldCkpOm4uZm9yRWFjaCgodD0+e2NvbnN0IG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpLHM9d2luZG93LmxpdE5vbmNlO3ZvaWQgMCE9PXMmJm4uc2V0QXR0cmlidXRlKFwibm9uY2VcIixzKSxuLnRleHRDb250ZW50PXQuY3NzVGV4dCxlLmFwcGVuZENoaWxkKG4pfSkpfSxTPXQ/dD0+dDp0PT50IGluc3RhbmNlb2YgQ1NTU3R5bGVTaGVldD8odD0+e2xldCBlPVwiXCI7Zm9yKGNvbnN0IG4gb2YgdC5jc3NSdWxlcyllKz1uLmNzc1RleHQ7cmV0dXJuIG8oZSl9KSh0KTp0O2V4cG9ydHtzIGFzIENTU1Jlc3VsdCxpIGFzIGFkb3B0U3R5bGVzLHIgYXMgY3NzLFMgYXMgZ2V0Q29tcGF0aWJsZVN0eWxlLHQgYXMgc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzLG8gYXMgdW5zYWZlQ1NTfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNzcy10YWcuanMubWFwXG4iLCJpbXBvcnR7Z2V0Q29tcGF0aWJsZVN0eWxlIGFzIHQsYWRvcHRTdHlsZXMgYXMgaX1mcm9tXCIuL2Nzcy10YWcuanNcIjtleHBvcnR7Q1NTUmVzdWx0LGFkb3B0U3R5bGVzLGNzcyxnZXRDb21wYXRpYmxlU3R5bGUsc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzLHVuc2FmZUNTU31mcm9tXCIuL2Nzcy10YWcuanNcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL3ZhciBzO2NvbnN0IGU9d2luZG93LnRydXN0ZWRUeXBlcyxyPWU/ZS5lbXB0eVNjcmlwdDpcIlwiLGg9d2luZG93LnJlYWN0aXZlRWxlbWVudFBvbHlmaWxsU3VwcG9ydCxvPXt0b0F0dHJpYnV0ZSh0LGkpe3N3aXRjaChpKXtjYXNlIEJvb2xlYW46dD10P3I6bnVsbDticmVhaztjYXNlIE9iamVjdDpjYXNlIEFycmF5OnQ9bnVsbD09dD90OkpTT04uc3RyaW5naWZ5KHQpfXJldHVybiB0fSxmcm9tQXR0cmlidXRlKHQsaSl7bGV0IHM9dDtzd2l0Y2goaSl7Y2FzZSBCb29sZWFuOnM9bnVsbCE9PXQ7YnJlYWs7Y2FzZSBOdW1iZXI6cz1udWxsPT09dD9udWxsOk51bWJlcih0KTticmVhaztjYXNlIE9iamVjdDpjYXNlIEFycmF5OnRyeXtzPUpTT04ucGFyc2UodCl9Y2F0Y2godCl7cz1udWxsfX1yZXR1cm4gc319LG49KHQsaSk9PmkhPT10JiYoaT09aXx8dD09dCksbD17YXR0cmlidXRlOiEwLHR5cGU6U3RyaW5nLGNvbnZlcnRlcjpvLHJlZmxlY3Q6ITEsaGFzQ2hhbmdlZDpufTtjbGFzcyBhIGV4dGVuZHMgSFRNTEVsZW1lbnR7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuXyRFaT1uZXcgTWFwLHRoaXMuaXNVcGRhdGVQZW5kaW5nPSExLHRoaXMuaGFzVXBkYXRlZD0hMSx0aGlzLl8kRWw9bnVsbCx0aGlzLnUoKX1zdGF0aWMgYWRkSW5pdGlhbGl6ZXIodCl7dmFyIGk7bnVsbCE9PShpPXRoaXMuaCkmJnZvaWQgMCE9PWl8fCh0aGlzLmg9W10pLHRoaXMuaC5wdXNoKHQpfXN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCl7dGhpcy5maW5hbGl6ZSgpO2NvbnN0IHQ9W107cmV0dXJuIHRoaXMuZWxlbWVudFByb3BlcnRpZXMuZm9yRWFjaCgoKGkscyk9Pntjb25zdCBlPXRoaXMuXyRFcChzLGkpO3ZvaWQgMCE9PWUmJih0aGlzLl8kRXYuc2V0KGUscyksdC5wdXNoKGUpKX0pKSx0fXN0YXRpYyBjcmVhdGVQcm9wZXJ0eSh0LGk9bCl7aWYoaS5zdGF0ZSYmKGkuYXR0cmlidXRlPSExKSx0aGlzLmZpbmFsaXplKCksdGhpcy5lbGVtZW50UHJvcGVydGllcy5zZXQodCxpKSwhaS5ub0FjY2Vzc29yJiYhdGhpcy5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkodCkpe2NvbnN0IHM9XCJzeW1ib2xcIj09dHlwZW9mIHQ/U3ltYm9sKCk6XCJfX1wiK3QsZT10aGlzLmdldFByb3BlcnR5RGVzY3JpcHRvcih0LHMsaSk7dm9pZCAwIT09ZSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMucHJvdG90eXBlLHQsZSl9fXN0YXRpYyBnZXRQcm9wZXJ0eURlc2NyaXB0b3IodCxpLHMpe3JldHVybntnZXQoKXtyZXR1cm4gdGhpc1tpXX0sc2V0KGUpe2NvbnN0IHI9dGhpc1t0XTt0aGlzW2ldPWUsdGhpcy5yZXF1ZXN0VXBkYXRlKHQscixzKX0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9fXN0YXRpYyBnZXRQcm9wZXJ0eU9wdGlvbnModCl7cmV0dXJuIHRoaXMuZWxlbWVudFByb3BlcnRpZXMuZ2V0KHQpfHxsfXN0YXRpYyBmaW5hbGl6ZSgpe2lmKHRoaXMuaGFzT3duUHJvcGVydHkoXCJmaW5hbGl6ZWRcIikpcmV0dXJuITE7dGhpcy5maW5hbGl6ZWQ9ITA7Y29uc3QgdD1PYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcyk7aWYodC5maW5hbGl6ZSgpLHRoaXMuZWxlbWVudFByb3BlcnRpZXM9bmV3IE1hcCh0LmVsZW1lbnRQcm9wZXJ0aWVzKSx0aGlzLl8kRXY9bmV3IE1hcCx0aGlzLmhhc093blByb3BlcnR5KFwicHJvcGVydGllc1wiKSl7Y29uc3QgdD10aGlzLnByb3BlcnRpZXMsaT1bLi4uT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCksLi4uT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KV07Zm9yKGNvbnN0IHMgb2YgaSl0aGlzLmNyZWF0ZVByb3BlcnR5KHMsdFtzXSl9cmV0dXJuIHRoaXMuZWxlbWVudFN0eWxlcz10aGlzLmZpbmFsaXplU3R5bGVzKHRoaXMuc3R5bGVzKSwhMH1zdGF0aWMgZmluYWxpemVTdHlsZXMoaSl7Y29uc3Qgcz1bXTtpZihBcnJheS5pc0FycmF5KGkpKXtjb25zdCBlPW5ldyBTZXQoaS5mbGF0KDEvMCkucmV2ZXJzZSgpKTtmb3IoY29uc3QgaSBvZiBlKXMudW5zaGlmdCh0KGkpKX1lbHNlIHZvaWQgMCE9PWkmJnMucHVzaCh0KGkpKTtyZXR1cm4gc31zdGF0aWMgXyRFcCh0LGkpe2NvbnN0IHM9aS5hdHRyaWJ1dGU7cmV0dXJuITE9PT1zP3ZvaWQgMDpcInN0cmluZ1wiPT10eXBlb2Ygcz9zOlwic3RyaW5nXCI9PXR5cGVvZiB0P3QudG9Mb3dlckNhc2UoKTp2b2lkIDB9dSgpe3ZhciB0O3RoaXMuXyRFXz1uZXcgUHJvbWlzZSgodD0+dGhpcy5lbmFibGVVcGRhdGluZz10KSksdGhpcy5fJEFMPW5ldyBNYXAsdGhpcy5fJEVnKCksdGhpcy5yZXF1ZXN0VXBkYXRlKCksbnVsbD09PSh0PXRoaXMuY29uc3RydWN0b3IuaCl8fHZvaWQgMD09PXR8fHQuZm9yRWFjaCgodD0+dCh0aGlzKSkpfWFkZENvbnRyb2xsZXIodCl7dmFyIGksczsobnVsbCE9PShpPXRoaXMuXyRFUykmJnZvaWQgMCE9PWk/aTp0aGlzLl8kRVM9W10pLnB1c2godCksdm9pZCAwIT09dGhpcy5yZW5kZXJSb290JiZ0aGlzLmlzQ29ubmVjdGVkJiYobnVsbD09PShzPXQuaG9zdENvbm5lY3RlZCl8fHZvaWQgMD09PXN8fHMuY2FsbCh0KSl9cmVtb3ZlQ29udHJvbGxlcih0KXt2YXIgaTtudWxsPT09KGk9dGhpcy5fJEVTKXx8dm9pZCAwPT09aXx8aS5zcGxpY2UodGhpcy5fJEVTLmluZGV4T2YodCk+Pj4wLDEpfV8kRWcoKXt0aGlzLmNvbnN0cnVjdG9yLmVsZW1lbnRQcm9wZXJ0aWVzLmZvckVhY2goKCh0LGkpPT57dGhpcy5oYXNPd25Qcm9wZXJ0eShpKSYmKHRoaXMuXyRFaS5zZXQoaSx0aGlzW2ldKSxkZWxldGUgdGhpc1tpXSl9KSl9Y3JlYXRlUmVuZGVyUm9vdCgpe3ZhciB0O2NvbnN0IHM9bnVsbCE9PSh0PXRoaXMuc2hhZG93Um9vdCkmJnZvaWQgMCE9PXQ/dDp0aGlzLmF0dGFjaFNoYWRvdyh0aGlzLmNvbnN0cnVjdG9yLnNoYWRvd1Jvb3RPcHRpb25zKTtyZXR1cm4gaShzLHRoaXMuY29uc3RydWN0b3IuZWxlbWVudFN0eWxlcyksc31jb25uZWN0ZWRDYWxsYmFjaygpe3ZhciB0O3ZvaWQgMD09PXRoaXMucmVuZGVyUm9vdCYmKHRoaXMucmVuZGVyUm9vdD10aGlzLmNyZWF0ZVJlbmRlclJvb3QoKSksdGhpcy5lbmFibGVVcGRhdGluZyghMCksbnVsbD09PSh0PXRoaXMuXyRFUyl8fHZvaWQgMD09PXR8fHQuZm9yRWFjaCgodD0+e3ZhciBpO3JldHVybiBudWxsPT09KGk9dC5ob3N0Q29ubmVjdGVkKXx8dm9pZCAwPT09aT92b2lkIDA6aS5jYWxsKHQpfSkpfWVuYWJsZVVwZGF0aW5nKHQpe31kaXNjb25uZWN0ZWRDYWxsYmFjaygpe3ZhciB0O251bGw9PT0odD10aGlzLl8kRVMpfHx2b2lkIDA9PT10fHx0LmZvckVhY2goKHQ9Pnt2YXIgaTtyZXR1cm4gbnVsbD09PShpPXQuaG9zdERpc2Nvbm5lY3RlZCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuY2FsbCh0KX0pKX1hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sodCxpLHMpe3RoaXMuXyRBSyh0LHMpfV8kRU8odCxpLHM9bCl7dmFyIGUscjtjb25zdCBoPXRoaXMuY29uc3RydWN0b3IuXyRFcCh0LHMpO2lmKHZvaWQgMCE9PWgmJiEwPT09cy5yZWZsZWN0KXtjb25zdCBuPShudWxsIT09KHI9bnVsbD09PShlPXMuY29udmVydGVyKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS50b0F0dHJpYnV0ZSkmJnZvaWQgMCE9PXI/cjpvLnRvQXR0cmlidXRlKShpLHMudHlwZSk7dGhpcy5fJEVsPXQsbnVsbD09bj90aGlzLnJlbW92ZUF0dHJpYnV0ZShoKTp0aGlzLnNldEF0dHJpYnV0ZShoLG4pLHRoaXMuXyRFbD1udWxsfX1fJEFLKHQsaSl7dmFyIHMsZTtjb25zdCByPXRoaXMuY29uc3RydWN0b3IsaD1yLl8kRXYuZ2V0KHQpO2lmKHZvaWQgMCE9PWgmJnRoaXMuXyRFbCE9PWgpe2NvbnN0IHQ9ci5nZXRQcm9wZXJ0eU9wdGlvbnMoaCksbj10LmNvbnZlcnRlcixsPW51bGwhPT0oZT1udWxsIT09KHM9bnVsbD09bj92b2lkIDA6bi5mcm9tQXR0cmlidXRlKSYmdm9pZCAwIT09cz9zOlwiZnVuY3Rpb25cIj09dHlwZW9mIG4/bjpudWxsKSYmdm9pZCAwIT09ZT9lOm8uZnJvbUF0dHJpYnV0ZTt0aGlzLl8kRWw9aCx0aGlzW2hdPWwoaSx0LnR5cGUpLHRoaXMuXyRFbD1udWxsfX1yZXF1ZXN0VXBkYXRlKHQsaSxzKXtsZXQgZT0hMDt2b2lkIDAhPT10JiYoKChzPXN8fHRoaXMuY29uc3RydWN0b3IuZ2V0UHJvcGVydHlPcHRpb25zKHQpKS5oYXNDaGFuZ2VkfHxuKSh0aGlzW3RdLGkpPyh0aGlzLl8kQUwuaGFzKHQpfHx0aGlzLl8kQUwuc2V0KHQsaSksITA9PT1zLnJlZmxlY3QmJnRoaXMuXyRFbCE9PXQmJih2b2lkIDA9PT10aGlzLl8kRUMmJih0aGlzLl8kRUM9bmV3IE1hcCksdGhpcy5fJEVDLnNldCh0LHMpKSk6ZT0hMSksIXRoaXMuaXNVcGRhdGVQZW5kaW5nJiZlJiYodGhpcy5fJEVfPXRoaXMuXyRFaigpKX1hc3luYyBfJEVqKCl7dGhpcy5pc1VwZGF0ZVBlbmRpbmc9ITA7dHJ5e2F3YWl0IHRoaXMuXyRFX31jYXRjaCh0KXtQcm9taXNlLnJlamVjdCh0KX1jb25zdCB0PXRoaXMuc2NoZWR1bGVVcGRhdGUoKTtyZXR1cm4gbnVsbCE9dCYmYXdhaXQgdCwhdGhpcy5pc1VwZGF0ZVBlbmRpbmd9c2NoZWR1bGVVcGRhdGUoKXtyZXR1cm4gdGhpcy5wZXJmb3JtVXBkYXRlKCl9cGVyZm9ybVVwZGF0ZSgpe3ZhciB0O2lmKCF0aGlzLmlzVXBkYXRlUGVuZGluZylyZXR1cm47dGhpcy5oYXNVcGRhdGVkLHRoaXMuXyRFaSYmKHRoaXMuXyRFaS5mb3JFYWNoKCgodCxpKT0+dGhpc1tpXT10KSksdGhpcy5fJEVpPXZvaWQgMCk7bGV0IGk9ITE7Y29uc3Qgcz10aGlzLl8kQUw7dHJ5e2k9dGhpcy5zaG91bGRVcGRhdGUocyksaT8odGhpcy53aWxsVXBkYXRlKHMpLG51bGw9PT0odD10aGlzLl8kRVMpfHx2b2lkIDA9PT10fHx0LmZvckVhY2goKHQ9Pnt2YXIgaTtyZXR1cm4gbnVsbD09PShpPXQuaG9zdFVwZGF0ZSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuY2FsbCh0KX0pKSx0aGlzLnVwZGF0ZShzKSk6dGhpcy5fJEVrKCl9Y2F0Y2godCl7dGhyb3cgaT0hMSx0aGlzLl8kRWsoKSx0fWkmJnRoaXMuXyRBRShzKX13aWxsVXBkYXRlKHQpe31fJEFFKHQpe3ZhciBpO251bGw9PT0oaT10aGlzLl8kRVMpfHx2b2lkIDA9PT1pfHxpLmZvckVhY2goKHQ9Pnt2YXIgaTtyZXR1cm4gbnVsbD09PShpPXQuaG9zdFVwZGF0ZWQpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmNhbGwodCl9KSksdGhpcy5oYXNVcGRhdGVkfHwodGhpcy5oYXNVcGRhdGVkPSEwLHRoaXMuZmlyc3RVcGRhdGVkKHQpKSx0aGlzLnVwZGF0ZWQodCl9XyRFaygpe3RoaXMuXyRBTD1uZXcgTWFwLHRoaXMuaXNVcGRhdGVQZW5kaW5nPSExfWdldCB1cGRhdGVDb21wbGV0ZSgpe3JldHVybiB0aGlzLmdldFVwZGF0ZUNvbXBsZXRlKCl9Z2V0VXBkYXRlQ29tcGxldGUoKXtyZXR1cm4gdGhpcy5fJEVffXNob3VsZFVwZGF0ZSh0KXtyZXR1cm4hMH11cGRhdGUodCl7dm9pZCAwIT09dGhpcy5fJEVDJiYodGhpcy5fJEVDLmZvckVhY2goKCh0LGkpPT50aGlzLl8kRU8oaSx0aGlzW2ldLHQpKSksdGhpcy5fJEVDPXZvaWQgMCksdGhpcy5fJEVrKCl9dXBkYXRlZCh0KXt9Zmlyc3RVcGRhdGVkKHQpe319YS5maW5hbGl6ZWQ9ITAsYS5lbGVtZW50UHJvcGVydGllcz1uZXcgTWFwLGEuZWxlbWVudFN0eWxlcz1bXSxhLnNoYWRvd1Jvb3RPcHRpb25zPXttb2RlOlwib3BlblwifSxudWxsPT1ofHxoKHtSZWFjdGl2ZUVsZW1lbnQ6YX0pLChudWxsIT09KHM9Z2xvYmFsVGhpcy5yZWFjdGl2ZUVsZW1lbnRWZXJzaW9ucykmJnZvaWQgMCE9PXM/czpnbG9iYWxUaGlzLnJlYWN0aXZlRWxlbWVudFZlcnNpb25zPVtdKS5wdXNoKFwiMS4zLjNcIik7ZXhwb3J0e2EgYXMgUmVhY3RpdmVFbGVtZW50LG8gYXMgZGVmYXVsdENvbnZlcnRlcixuIGFzIG5vdEVxdWFsfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWN0aXZlLWVsZW1lbnQuanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbnZhciB0O2NvbnN0IGk9Z2xvYmFsVGhpcy50cnVzdGVkVHlwZXMscz1pP2kuY3JlYXRlUG9saWN5KFwibGl0LWh0bWxcIix7Y3JlYXRlSFRNTDp0PT50fSk6dm9pZCAwLGU9YGxpdCQkeyhNYXRoLnJhbmRvbSgpK1wiXCIpLnNsaWNlKDkpfSRgLG89XCI/XCIrZSxuPWA8JHtvfT5gLGw9ZG9jdW1lbnQsaD0odD1cIlwiKT0+bC5jcmVhdGVDb21tZW50KHQpLHI9dD0+bnVsbD09PXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LGQ9QXJyYXkuaXNBcnJheSx1PXQ9Pnt2YXIgaTtyZXR1cm4gZCh0KXx8XCJmdW5jdGlvblwiPT10eXBlb2YobnVsbD09PShpPXQpfHx2b2lkIDA9PT1pP3ZvaWQgMDppW1N5bWJvbC5pdGVyYXRvcl0pfSxjPS88KD86KCEtLXxcXC9bXmEtekEtWl0pfChcXC8/W2EtekEtWl1bXj5cXHNdKil8KFxcLz8kKSkvZyx2PS8tLT4vZyxhPS8+L2csZj0vPnxbIFx0XFxuXGZcXHJdKD86KFteXFxzXCInPj0vXSspKFsgXHRcXG5cZlxccl0qPVsgXHRcXG5cZlxccl0qKD86W14gXHRcXG5cZlxcclwiJ2A8Pj1dfChcInwnKXwpKXwkKS9nLF89LycvZyxtPS9cIi9nLGc9L14oPzpzY3JpcHR8c3R5bGV8dGV4dGFyZWF8dGl0bGUpJC9pLHA9dD0+KGksLi4ucyk9Pih7XyRsaXRUeXBlJDp0LHN0cmluZ3M6aSx2YWx1ZXM6c30pLCQ9cCgxKSx5PXAoMiksYj1TeW1ib2wuZm9yKFwibGl0LW5vQ2hhbmdlXCIpLHc9U3ltYm9sLmZvcihcImxpdC1ub3RoaW5nXCIpLFQ9bmV3IFdlYWtNYXAseD0odCxpLHMpPT57dmFyIGUsbztjb25zdCBuPW51bGwhPT0oZT1udWxsPT1zP3ZvaWQgMDpzLnJlbmRlckJlZm9yZSkmJnZvaWQgMCE9PWU/ZTppO2xldCBsPW4uXyRsaXRQYXJ0JDtpZih2b2lkIDA9PT1sKXtjb25zdCB0PW51bGwhPT0obz1udWxsPT1zP3ZvaWQgMDpzLnJlbmRlckJlZm9yZSkmJnZvaWQgMCE9PW8/bzpudWxsO24uXyRsaXRQYXJ0JD1sPW5ldyBOKGkuaW5zZXJ0QmVmb3JlKGgoKSx0KSx0LHZvaWQgMCxudWxsIT1zP3M6e30pfXJldHVybiBsLl8kQUkodCksbH0sQT1sLmNyZWF0ZVRyZWVXYWxrZXIobCwxMjksbnVsbCwhMSksQz0odCxpKT0+e2NvbnN0IG89dC5sZW5ndGgtMSxsPVtdO2xldCBoLHI9Mj09PWk/XCI8c3ZnPlwiOlwiXCIsZD1jO2ZvcihsZXQgaT0wO2k8bztpKyspe2NvbnN0IHM9dFtpXTtsZXQgbyx1LHA9LTEsJD0wO2Zvcig7JDxzLmxlbmd0aCYmKGQubGFzdEluZGV4PSQsdT1kLmV4ZWMocyksbnVsbCE9PXUpOykkPWQubGFzdEluZGV4LGQ9PT1jP1wiIS0tXCI9PT11WzFdP2Q9djp2b2lkIDAhPT11WzFdP2Q9YTp2b2lkIDAhPT11WzJdPyhnLnRlc3QodVsyXSkmJihoPVJlZ0V4cChcIjwvXCIrdVsyXSxcImdcIikpLGQ9Zik6dm9pZCAwIT09dVszXSYmKGQ9Zik6ZD09PWY/XCI+XCI9PT11WzBdPyhkPW51bGwhPWg/aDpjLHA9LTEpOnZvaWQgMD09PXVbMV0/cD0tMjoocD1kLmxhc3RJbmRleC11WzJdLmxlbmd0aCxvPXVbMV0sZD12b2lkIDA9PT11WzNdP2Y6J1wiJz09PXVbM10/bTpfKTpkPT09bXx8ZD09PV8/ZD1mOmQ9PT12fHxkPT09YT9kPWM6KGQ9ZixoPXZvaWQgMCk7Y29uc3QgeT1kPT09ZiYmdFtpKzFdLnN0YXJ0c1dpdGgoXCIvPlwiKT9cIiBcIjpcIlwiO3IrPWQ9PT1jP3MrbjpwPj0wPyhsLnB1c2gobykscy5zbGljZSgwLHApK1wiJGxpdCRcIitzLnNsaWNlKHApK2UreSk6cytlKygtMj09PXA/KGwucHVzaCh2b2lkIDApLGkpOnkpfWNvbnN0IHU9cisodFtvXXx8XCI8Pz5cIikrKDI9PT1pP1wiPC9zdmc+XCI6XCJcIik7aWYoIUFycmF5LmlzQXJyYXkodCl8fCF0Lmhhc093blByb3BlcnR5KFwicmF3XCIpKXRocm93IEVycm9yKFwiaW52YWxpZCB0ZW1wbGF0ZSBzdHJpbmdzIGFycmF5XCIpO3JldHVyblt2b2lkIDAhPT1zP3MuY3JlYXRlSFRNTCh1KTp1LGxdfTtjbGFzcyBFe2NvbnN0cnVjdG9yKHtzdHJpbmdzOnQsXyRsaXRUeXBlJDpzfSxuKXtsZXQgbDt0aGlzLnBhcnRzPVtdO2xldCByPTAsZD0wO2NvbnN0IHU9dC5sZW5ndGgtMSxjPXRoaXMucGFydHMsW3YsYV09Qyh0LHMpO2lmKHRoaXMuZWw9RS5jcmVhdGVFbGVtZW50KHYsbiksQS5jdXJyZW50Tm9kZT10aGlzLmVsLmNvbnRlbnQsMj09PXMpe2NvbnN0IHQ9dGhpcy5lbC5jb250ZW50LGk9dC5maXJzdENoaWxkO2kucmVtb3ZlKCksdC5hcHBlbmQoLi4uaS5jaGlsZE5vZGVzKX1mb3IoO251bGwhPT0obD1BLm5leHROb2RlKCkpJiZjLmxlbmd0aDx1Oyl7aWYoMT09PWwubm9kZVR5cGUpe2lmKGwuaGFzQXR0cmlidXRlcygpKXtjb25zdCB0PVtdO2Zvcihjb25zdCBpIG9mIGwuZ2V0QXR0cmlidXRlTmFtZXMoKSlpZihpLmVuZHNXaXRoKFwiJGxpdCRcIil8fGkuc3RhcnRzV2l0aChlKSl7Y29uc3Qgcz1hW2QrK107aWYodC5wdXNoKGkpLHZvaWQgMCE9PXMpe2NvbnN0IHQ9bC5nZXRBdHRyaWJ1dGUocy50b0xvd2VyQ2FzZSgpK1wiJGxpdCRcIikuc3BsaXQoZSksaT0vKFsuP0BdKT8oLiopLy5leGVjKHMpO2MucHVzaCh7dHlwZToxLGluZGV4OnIsbmFtZTppWzJdLHN0cmluZ3M6dCxjdG9yOlwiLlwiPT09aVsxXT9NOlwiP1wiPT09aVsxXT9IOlwiQFwiPT09aVsxXT9JOlN9KX1lbHNlIGMucHVzaCh7dHlwZTo2LGluZGV4OnJ9KX1mb3IoY29uc3QgaSBvZiB0KWwucmVtb3ZlQXR0cmlidXRlKGkpfWlmKGcudGVzdChsLnRhZ05hbWUpKXtjb25zdCB0PWwudGV4dENvbnRlbnQuc3BsaXQoZSkscz10Lmxlbmd0aC0xO2lmKHM+MCl7bC50ZXh0Q29udGVudD1pP2kuZW1wdHlTY3JpcHQ6XCJcIjtmb3IobGV0IGk9MDtpPHM7aSsrKWwuYXBwZW5kKHRbaV0saCgpKSxBLm5leHROb2RlKCksYy5wdXNoKHt0eXBlOjIsaW5kZXg6KytyfSk7bC5hcHBlbmQodFtzXSxoKCkpfX19ZWxzZSBpZig4PT09bC5ub2RlVHlwZSlpZihsLmRhdGE9PT1vKWMucHVzaCh7dHlwZToyLGluZGV4OnJ9KTtlbHNle2xldCB0PS0xO2Zvcig7LTEhPT0odD1sLmRhdGEuaW5kZXhPZihlLHQrMSkpOyljLnB1c2goe3R5cGU6NyxpbmRleDpyfSksdCs9ZS5sZW5ndGgtMX1yKyt9fXN0YXRpYyBjcmVhdGVFbGVtZW50KHQsaSl7Y29uc3Qgcz1sLmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKTtyZXR1cm4gcy5pbm5lckhUTUw9dCxzfX1mdW5jdGlvbiBQKHQsaSxzPXQsZSl7dmFyIG8sbixsLGg7aWYoaT09PWIpcmV0dXJuIGk7bGV0IGQ9dm9pZCAwIT09ZT9udWxsPT09KG89cy5fJENsKXx8dm9pZCAwPT09bz92b2lkIDA6b1tlXTpzLl8kQ3U7Y29uc3QgdT1yKGkpP3ZvaWQgMDppLl8kbGl0RGlyZWN0aXZlJDtyZXR1cm4obnVsbD09ZD92b2lkIDA6ZC5jb25zdHJ1Y3RvcikhPT11JiYobnVsbD09PShuPW51bGw9PWQ/dm9pZCAwOmQuXyRBTyl8fHZvaWQgMD09PW58fG4uY2FsbChkLCExKSx2b2lkIDA9PT11P2Q9dm9pZCAwOihkPW5ldyB1KHQpLGQuXyRBVCh0LHMsZSkpLHZvaWQgMCE9PWU/KG51bGwhPT0obD0oaD1zKS5fJENsKSYmdm9pZCAwIT09bD9sOmguXyRDbD1bXSlbZV09ZDpzLl8kQ3U9ZCksdm9pZCAwIT09ZCYmKGk9UCh0LGQuXyRBUyh0LGkudmFsdWVzKSxkLGUpKSxpfWNsYXNzIFZ7Y29uc3RydWN0b3IodCxpKXt0aGlzLnY9W10sdGhpcy5fJEFOPXZvaWQgMCx0aGlzLl8kQUQ9dCx0aGlzLl8kQU09aX1nZXQgcGFyZW50Tm9kZSgpe3JldHVybiB0aGlzLl8kQU0ucGFyZW50Tm9kZX1nZXQgXyRBVSgpe3JldHVybiB0aGlzLl8kQU0uXyRBVX1wKHQpe3ZhciBpO2NvbnN0e2VsOntjb250ZW50OnN9LHBhcnRzOmV9PXRoaXMuXyRBRCxvPShudWxsIT09KGk9bnVsbD09dD92b2lkIDA6dC5jcmVhdGlvblNjb3BlKSYmdm9pZCAwIT09aT9pOmwpLmltcG9ydE5vZGUocywhMCk7QS5jdXJyZW50Tm9kZT1vO2xldCBuPUEubmV4dE5vZGUoKSxoPTAscj0wLGQ9ZVswXTtmb3IoO3ZvaWQgMCE9PWQ7KXtpZihoPT09ZC5pbmRleCl7bGV0IGk7Mj09PWQudHlwZT9pPW5ldyBOKG4sbi5uZXh0U2libGluZyx0aGlzLHQpOjE9PT1kLnR5cGU/aT1uZXcgZC5jdG9yKG4sZC5uYW1lLGQuc3RyaW5ncyx0aGlzLHQpOjY9PT1kLnR5cGUmJihpPW5ldyBMKG4sdGhpcyx0KSksdGhpcy52LnB1c2goaSksZD1lWysrcl19aCE9PShudWxsPT1kP3ZvaWQgMDpkLmluZGV4KSYmKG49QS5uZXh0Tm9kZSgpLGgrKyl9cmV0dXJuIG99bSh0KXtsZXQgaT0wO2Zvcihjb25zdCBzIG9mIHRoaXMudil2b2lkIDAhPT1zJiYodm9pZCAwIT09cy5zdHJpbmdzPyhzLl8kQUkodCxzLGkpLGkrPXMuc3RyaW5ncy5sZW5ndGgtMik6cy5fJEFJKHRbaV0pKSxpKyt9fWNsYXNzIE57Y29uc3RydWN0b3IodCxpLHMsZSl7dmFyIG87dGhpcy50eXBlPTIsdGhpcy5fJEFIPXcsdGhpcy5fJEFOPXZvaWQgMCx0aGlzLl8kQUE9dCx0aGlzLl8kQUI9aSx0aGlzLl8kQU09cyx0aGlzLm9wdGlvbnM9ZSx0aGlzLl8kQ2c9bnVsbD09PShvPW51bGw9PWU/dm9pZCAwOmUuaXNDb25uZWN0ZWQpfHx2b2lkIDA9PT1vfHxvfWdldCBfJEFVKCl7dmFyIHQsaTtyZXR1cm4gbnVsbCE9PShpPW51bGw9PT0odD10aGlzLl8kQU0pfHx2b2lkIDA9PT10P3ZvaWQgMDp0Ll8kQVUpJiZ2b2lkIDAhPT1pP2k6dGhpcy5fJENnfWdldCBwYXJlbnROb2RlKCl7bGV0IHQ9dGhpcy5fJEFBLnBhcmVudE5vZGU7Y29uc3QgaT10aGlzLl8kQU07cmV0dXJuIHZvaWQgMCE9PWkmJjExPT09dC5ub2RlVHlwZSYmKHQ9aS5wYXJlbnROb2RlKSx0fWdldCBzdGFydE5vZGUoKXtyZXR1cm4gdGhpcy5fJEFBfWdldCBlbmROb2RlKCl7cmV0dXJuIHRoaXMuXyRBQn1fJEFJKHQsaT10aGlzKXt0PVAodGhpcyx0LGkpLHIodCk/dD09PXd8fG51bGw9PXR8fFwiXCI9PT10Pyh0aGlzLl8kQUghPT13JiZ0aGlzLl8kQVIoKSx0aGlzLl8kQUg9dyk6dCE9PXRoaXMuXyRBSCYmdCE9PWImJnRoaXMuJCh0KTp2b2lkIDAhPT10Ll8kbGl0VHlwZSQ/dGhpcy5UKHQpOnZvaWQgMCE9PXQubm9kZVR5cGU/dGhpcy5rKHQpOnUodCk/dGhpcy5TKHQpOnRoaXMuJCh0KX1NKHQsaT10aGlzLl8kQUIpe3JldHVybiB0aGlzLl8kQUEucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodCxpKX1rKHQpe3RoaXMuXyRBSCE9PXQmJih0aGlzLl8kQVIoKSx0aGlzLl8kQUg9dGhpcy5NKHQpKX0kKHQpe3RoaXMuXyRBSCE9PXcmJnIodGhpcy5fJEFIKT90aGlzLl8kQUEubmV4dFNpYmxpbmcuZGF0YT10OnRoaXMuayhsLmNyZWF0ZVRleHROb2RlKHQpKSx0aGlzLl8kQUg9dH1UKHQpe3ZhciBpO2NvbnN0e3ZhbHVlczpzLF8kbGl0VHlwZSQ6ZX09dCxvPVwibnVtYmVyXCI9PXR5cGVvZiBlP3RoaXMuXyRBQyh0KToodm9pZCAwPT09ZS5lbCYmKGUuZWw9RS5jcmVhdGVFbGVtZW50KGUuaCx0aGlzLm9wdGlvbnMpKSxlKTtpZigobnVsbD09PShpPXRoaXMuXyRBSCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuXyRBRCk9PT1vKXRoaXMuXyRBSC5tKHMpO2Vsc2V7Y29uc3QgdD1uZXcgVihvLHRoaXMpLGk9dC5wKHRoaXMub3B0aW9ucyk7dC5tKHMpLHRoaXMuayhpKSx0aGlzLl8kQUg9dH19XyRBQyh0KXtsZXQgaT1ULmdldCh0LnN0cmluZ3MpO3JldHVybiB2b2lkIDA9PT1pJiZULnNldCh0LnN0cmluZ3MsaT1uZXcgRSh0KSksaX1TKHQpe2QodGhpcy5fJEFIKXx8KHRoaXMuXyRBSD1bXSx0aGlzLl8kQVIoKSk7Y29uc3QgaT10aGlzLl8kQUg7bGV0IHMsZT0wO2Zvcihjb25zdCBvIG9mIHQpZT09PWkubGVuZ3RoP2kucHVzaChzPW5ldyBOKHRoaXMuTShoKCkpLHRoaXMuTShoKCkpLHRoaXMsdGhpcy5vcHRpb25zKSk6cz1pW2VdLHMuXyRBSShvKSxlKys7ZTxpLmxlbmd0aCYmKHRoaXMuXyRBUihzJiZzLl8kQUIubmV4dFNpYmxpbmcsZSksaS5sZW5ndGg9ZSl9XyRBUih0PXRoaXMuXyRBQS5uZXh0U2libGluZyxpKXt2YXIgcztmb3IobnVsbD09PShzPXRoaXMuXyRBUCl8fHZvaWQgMD09PXN8fHMuY2FsbCh0aGlzLCExLCEwLGkpO3QmJnQhPT10aGlzLl8kQUI7KXtjb25zdCBpPXQubmV4dFNpYmxpbmc7dC5yZW1vdmUoKSx0PWl9fXNldENvbm5lY3RlZCh0KXt2YXIgaTt2b2lkIDA9PT10aGlzLl8kQU0mJih0aGlzLl8kQ2c9dCxudWxsPT09KGk9dGhpcy5fJEFQKXx8dm9pZCAwPT09aXx8aS5jYWxsKHRoaXMsdCkpfX1jbGFzcyBTe2NvbnN0cnVjdG9yKHQsaSxzLGUsbyl7dGhpcy50eXBlPTEsdGhpcy5fJEFIPXcsdGhpcy5fJEFOPXZvaWQgMCx0aGlzLmVsZW1lbnQ9dCx0aGlzLm5hbWU9aSx0aGlzLl8kQU09ZSx0aGlzLm9wdGlvbnM9byxzLmxlbmd0aD4yfHxcIlwiIT09c1swXXx8XCJcIiE9PXNbMV0/KHRoaXMuXyRBSD1BcnJheShzLmxlbmd0aC0xKS5maWxsKG5ldyBTdHJpbmcpLHRoaXMuc3RyaW5ncz1zKTp0aGlzLl8kQUg9d31nZXQgdGFnTmFtZSgpe3JldHVybiB0aGlzLmVsZW1lbnQudGFnTmFtZX1nZXQgXyRBVSgpe3JldHVybiB0aGlzLl8kQU0uXyRBVX1fJEFJKHQsaT10aGlzLHMsZSl7Y29uc3Qgbz10aGlzLnN0cmluZ3M7bGV0IG49ITE7aWYodm9pZCAwPT09byl0PVAodGhpcyx0LGksMCksbj0hcih0KXx8dCE9PXRoaXMuXyRBSCYmdCE9PWIsbiYmKHRoaXMuXyRBSD10KTtlbHNle2NvbnN0IGU9dDtsZXQgbCxoO2Zvcih0PW9bMF0sbD0wO2w8by5sZW5ndGgtMTtsKyspaD1QKHRoaXMsZVtzK2xdLGksbCksaD09PWImJihoPXRoaXMuXyRBSFtsXSksbnx8KG49IXIoaCl8fGghPT10aGlzLl8kQUhbbF0pLGg9PT13P3Q9dzp0IT09dyYmKHQrPShudWxsIT1oP2g6XCJcIikrb1tsKzFdKSx0aGlzLl8kQUhbbF09aH1uJiYhZSYmdGhpcy5DKHQpfUModCl7dD09PXc/dGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSh0aGlzLm5hbWUpOnRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUodGhpcy5uYW1lLG51bGwhPXQ/dDpcIlwiKX19Y2xhc3MgTSBleHRlbmRzIFN7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMudHlwZT0zfUModCl7dGhpcy5lbGVtZW50W3RoaXMubmFtZV09dD09PXc/dm9pZCAwOnR9fWNvbnN0IGs9aT9pLmVtcHR5U2NyaXB0OlwiXCI7Y2xhc3MgSCBleHRlbmRzIFN7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMudHlwZT00fUModCl7dCYmdCE9PXc/dGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSh0aGlzLm5hbWUsayk6dGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSh0aGlzLm5hbWUpfX1jbGFzcyBJIGV4dGVuZHMgU3tjb25zdHJ1Y3Rvcih0LGkscyxlLG8pe3N1cGVyKHQsaSxzLGUsbyksdGhpcy50eXBlPTV9XyRBSSh0LGk9dGhpcyl7dmFyIHM7aWYoKHQ9bnVsbCE9PShzPVAodGhpcyx0LGksMCkpJiZ2b2lkIDAhPT1zP3M6dyk9PT1iKXJldHVybjtjb25zdCBlPXRoaXMuXyRBSCxvPXQ9PT13JiZlIT09d3x8dC5jYXB0dXJlIT09ZS5jYXB0dXJlfHx0Lm9uY2UhPT1lLm9uY2V8fHQucGFzc2l2ZSE9PWUucGFzc2l2ZSxuPXQhPT13JiYoZT09PXd8fG8pO28mJnRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMubmFtZSx0aGlzLGUpLG4mJnRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHRoaXMubmFtZSx0aGlzLHQpLHRoaXMuXyRBSD10fWhhbmRsZUV2ZW50KHQpe3ZhciBpLHM7XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5fJEFIP3RoaXMuXyRBSC5jYWxsKG51bGwhPT0ocz1udWxsPT09KGk9dGhpcy5vcHRpb25zKXx8dm9pZCAwPT09aT92b2lkIDA6aS5ob3N0KSYmdm9pZCAwIT09cz9zOnRoaXMuZWxlbWVudCx0KTp0aGlzLl8kQUguaGFuZGxlRXZlbnQodCl9fWNsYXNzIEx7Y29uc3RydWN0b3IodCxpLHMpe3RoaXMuZWxlbWVudD10LHRoaXMudHlwZT02LHRoaXMuXyRBTj12b2lkIDAsdGhpcy5fJEFNPWksdGhpcy5vcHRpb25zPXN9Z2V0IF8kQVUoKXtyZXR1cm4gdGhpcy5fJEFNLl8kQVV9XyRBSSh0KXtQKHRoaXMsdCl9fWNvbnN0IFI9e0w6XCIkbGl0JFwiLFA6ZSxWOm8sSToxLE46QyxSOlYsajp1LEQ6UCxIOk4sRjpTLE86SCxXOkksQjpNLFo6TH0sej13aW5kb3cubGl0SHRtbFBvbHlmaWxsU3VwcG9ydDtudWxsPT16fHx6KEUsTiksKG51bGwhPT0odD1nbG9iYWxUaGlzLmxpdEh0bWxWZXJzaW9ucykmJnZvaWQgMCE9PXQ/dDpnbG9iYWxUaGlzLmxpdEh0bWxWZXJzaW9ucz1bXSkucHVzaChcIjIuMi42XCIpO2V4cG9ydHtSIGFzIF8kTEgsJCBhcyBodG1sLGIgYXMgbm9DaGFuZ2UsdyBhcyBub3RoaW5nLHggYXMgcmVuZGVyLHkgYXMgc3ZnfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpdC1odG1sLmpzLm1hcFxuIiwiaW1wb3J0e1JlYWN0aXZlRWxlbWVudCBhcyB0fWZyb21cIkBsaXQvcmVhY3RpdmUtZWxlbWVudFwiO2V4cG9ydCpmcm9tXCJAbGl0L3JlYWN0aXZlLWVsZW1lbnRcIjtpbXBvcnR7cmVuZGVyIGFzIGUsbm9DaGFuZ2UgYXMgaX1mcm9tXCJsaXQtaHRtbFwiO2V4cG9ydCpmcm9tXCJsaXQtaHRtbFwiO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovdmFyIGwsbztjb25zdCByPXQ7Y2xhc3MgcyBleHRlbmRzIHR7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMucmVuZGVyT3B0aW9ucz17aG9zdDp0aGlzfSx0aGlzLl8kRG89dm9pZCAwfWNyZWF0ZVJlbmRlclJvb3QoKXt2YXIgdCxlO2NvbnN0IGk9c3VwZXIuY3JlYXRlUmVuZGVyUm9vdCgpO3JldHVybiBudWxsIT09KHQ9KGU9dGhpcy5yZW5kZXJPcHRpb25zKS5yZW5kZXJCZWZvcmUpJiZ2b2lkIDAhPT10fHwoZS5yZW5kZXJCZWZvcmU9aS5maXJzdENoaWxkKSxpfXVwZGF0ZSh0KXtjb25zdCBpPXRoaXMucmVuZGVyKCk7dGhpcy5oYXNVcGRhdGVkfHwodGhpcy5yZW5kZXJPcHRpb25zLmlzQ29ubmVjdGVkPXRoaXMuaXNDb25uZWN0ZWQpLHN1cGVyLnVwZGF0ZSh0KSx0aGlzLl8kRG89ZShpLHRoaXMucmVuZGVyUm9vdCx0aGlzLnJlbmRlck9wdGlvbnMpfWNvbm5lY3RlZENhbGxiYWNrKCl7dmFyIHQ7c3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKSxudWxsPT09KHQ9dGhpcy5fJERvKXx8dm9pZCAwPT09dHx8dC5zZXRDb25uZWN0ZWQoITApfWRpc2Nvbm5lY3RlZENhbGxiYWNrKCl7dmFyIHQ7c3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKSxudWxsPT09KHQ9dGhpcy5fJERvKXx8dm9pZCAwPT09dHx8dC5zZXRDb25uZWN0ZWQoITEpfXJlbmRlcigpe3JldHVybiBpfX1zLmZpbmFsaXplZD0hMCxzLl8kbGl0RWxlbWVudCQ9ITAsbnVsbD09PShsPWdsb2JhbFRoaXMubGl0RWxlbWVudEh5ZHJhdGVTdXBwb3J0KXx8dm9pZCAwPT09bHx8bC5jYWxsKGdsb2JhbFRoaXMse0xpdEVsZW1lbnQ6c30pO2NvbnN0IG49Z2xvYmFsVGhpcy5saXRFbGVtZW50UG9seWZpbGxTdXBwb3J0O251bGw9PW58fG4oe0xpdEVsZW1lbnQ6c30pO2NvbnN0IGg9e18kQUs6KHQsZSxpKT0+e3QuXyRBSyhlLGkpfSxfJEFMOnQ9PnQuXyRBTH07KG51bGwhPT0obz1nbG9iYWxUaGlzLmxpdEVsZW1lbnRWZXJzaW9ucykmJnZvaWQgMCE9PW8/bzpnbG9iYWxUaGlzLmxpdEVsZW1lbnRWZXJzaW9ucz1bXSkucHVzaChcIjMuMi4xXCIpO2V4cG9ydHtzIGFzIExpdEVsZW1lbnQsciBhcyBVcGRhdGluZ0VsZW1lbnQsaCBhcyBfJExFfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpdC1lbGVtZW50LmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5jb25zdCBuPW49PmU9PlwiZnVuY3Rpb25cIj09dHlwZW9mIGU/KChuLGUpPT4od2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZShuLGUpLGUpKShuLGUpOigobixlKT0+e2NvbnN0e2tpbmQ6dCxlbGVtZW50czppfT1lO3JldHVybntraW5kOnQsZWxlbWVudHM6aSxmaW5pc2hlcihlKXt3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKG4sZSl9fX0pKG4sZSk7ZXhwb3J0e24gYXMgY3VzdG9tRWxlbWVudH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jdXN0b20tZWxlbWVudC5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuY29uc3QgaT0oaSxlKT0+XCJtZXRob2RcIj09PWUua2luZCYmZS5kZXNjcmlwdG9yJiYhKFwidmFsdWVcImluIGUuZGVzY3JpcHRvcik/ey4uLmUsZmluaXNoZXIobil7bi5jcmVhdGVQcm9wZXJ0eShlLmtleSxpKX19OntraW5kOlwiZmllbGRcIixrZXk6U3ltYm9sKCkscGxhY2VtZW50Olwib3duXCIsZGVzY3JpcHRvcjp7fSxvcmlnaW5hbEtleTplLmtleSxpbml0aWFsaXplcigpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGUuaW5pdGlhbGl6ZXImJih0aGlzW2Uua2V5XT1lLmluaXRpYWxpemVyLmNhbGwodGhpcykpfSxmaW5pc2hlcihuKXtuLmNyZWF0ZVByb3BlcnR5KGUua2V5LGkpfX07ZnVuY3Rpb24gZShlKXtyZXR1cm4obix0KT0+dm9pZCAwIT09dD8oKGksZSxuKT0+e2UuY29uc3RydWN0b3IuY3JlYXRlUHJvcGVydHkobixpKX0pKGUsbix0KTppKGUsbil9ZXhwb3J0e2UgYXMgcHJvcGVydHl9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvcGVydHkuanMubWFwXG4iLCJpbXBvcnR7cHJvcGVydHkgYXMgcn1mcm9tXCIuL3Byb3BlcnR5LmpzXCI7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9mdW5jdGlvbiB0KHQpe3JldHVybiByKHsuLi50LHN0YXRlOiEwfSl9ZXhwb3J0e3QgYXMgc3RhdGV9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhdGUuanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbmNvbnN0IGU9KGUsdCxvKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8sZSl9LHQ9KGUsdCk9Pih7a2luZDpcIm1ldGhvZFwiLHBsYWNlbWVudDpcInByb3RvdHlwZVwiLGtleTp0LmtleSxkZXNjcmlwdG9yOmV9KSxvPSh7ZmluaXNoZXI6ZSxkZXNjcmlwdG9yOnR9KT0+KG8sbik9Pnt2YXIgcjtpZih2b2lkIDA9PT1uKXtjb25zdCBuPW51bGwhPT0ocj1vLm9yaWdpbmFsS2V5KSYmdm9pZCAwIT09cj9yOm8ua2V5LGk9bnVsbCE9dD97a2luZDpcIm1ldGhvZFwiLHBsYWNlbWVudDpcInByb3RvdHlwZVwiLGtleTpuLGRlc2NyaXB0b3I6dChvLmtleSl9OnsuLi5vLGtleTpufTtyZXR1cm4gbnVsbCE9ZSYmKGkuZmluaXNoZXI9ZnVuY3Rpb24odCl7ZSh0LG4pfSksaX17Y29uc3Qgcj1vLmNvbnN0cnVjdG9yO3ZvaWQgMCE9PXQmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLG4sdChuKSksbnVsbD09ZXx8ZShyLG4pfX07ZXhwb3J0e28gYXMgZGVjb3JhdGVQcm9wZXJ0eSxlIGFzIGxlZ2FjeVByb3RvdHlwZU1ldGhvZCx0IGFzIHN0YW5kYXJkUHJvdG90eXBlTWV0aG9kfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2UuanMubWFwXG4iLCJpbXBvcnR7ZGVjb3JhdGVQcm9wZXJ0eSBhcyByfWZyb21cIi4vYmFzZS5qc1wiO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovZnVuY3Rpb24gZShlKXtyZXR1cm4gcih7ZmluaXNoZXI6KHIsdCk9PntPYmplY3QuYXNzaWduKHIucHJvdG90eXBlW3RdLGUpfX0pfWV4cG9ydHtlIGFzIGV2ZW50T3B0aW9uc307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ldmVudC1vcHRpb25zLmpzLm1hcFxuIiwiaW1wb3J0e2RlY29yYXRlUHJvcGVydHkgYXMgb31mcm9tXCIuL2Jhc2UuanNcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL2Z1bmN0aW9uIGkoaSxuKXtyZXR1cm4gbyh7ZGVzY3JpcHRvcjpvPT57Y29uc3QgdD17Z2V0KCl7dmFyIG8sbjtyZXR1cm4gbnVsbCE9PShuPW51bGw9PT0obz10aGlzLnJlbmRlclJvb3QpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnF1ZXJ5U2VsZWN0b3IoaSkpJiZ2b2lkIDAhPT1uP246bnVsbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9O2lmKG4pe2NvbnN0IG49XCJzeW1ib2xcIj09dHlwZW9mIG8/U3ltYm9sKCk6XCJfX1wiK287dC5nZXQ9ZnVuY3Rpb24oKXt2YXIgbyx0O3JldHVybiB2b2lkIDA9PT10aGlzW25dJiYodGhpc1tuXT1udWxsIT09KHQ9bnVsbD09PShvPXRoaXMucmVuZGVyUm9vdCl8fHZvaWQgMD09PW8/dm9pZCAwOm8ucXVlcnlTZWxlY3RvcihpKSkmJnZvaWQgMCE9PXQ/dDpudWxsKSx0aGlzW25dfX1yZXR1cm4gdH19KX1leHBvcnR7aSBhcyBxdWVyeX07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1xdWVyeS5qcy5tYXBcbiIsImltcG9ydHtkZWNvcmF0ZVByb3BlcnR5IGFzIG99ZnJvbVwiLi9iYXNlLmpzXCI7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi92YXIgbjtjb25zdCBlPW51bGwhPShudWxsPT09KG49d2luZG93LkhUTUxTbG90RWxlbWVudCl8fHZvaWQgMD09PW4/dm9pZCAwOm4ucHJvdG90eXBlLmFzc2lnbmVkRWxlbWVudHMpPyhvLG4pPT5vLmFzc2lnbmVkRWxlbWVudHMobik6KG8sbik9Pm8uYXNzaWduZWROb2RlcyhuKS5maWx0ZXIoKG89Pm8ubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSkpO2Z1bmN0aW9uIGwobil7Y29uc3R7c2xvdDpsLHNlbGVjdG9yOnR9PW51bGwhPW4/bjp7fTtyZXR1cm4gbyh7ZGVzY3JpcHRvcjpvPT4oe2dldCgpe3ZhciBvO2NvbnN0IHI9XCJzbG90XCIrKGw/YFtuYW1lPSR7bH1dYDpcIjpub3QoW25hbWVdKVwiKSxpPW51bGw9PT0obz10aGlzLnJlbmRlclJvb3QpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnF1ZXJ5U2VsZWN0b3Iocikscz1udWxsIT1pP2UoaSxuKTpbXTtyZXR1cm4gdD9zLmZpbHRlcigobz0+by5tYXRjaGVzKHQpKSk6c30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KX0pfWV4cG9ydHtsIGFzIHF1ZXJ5QXNzaWduZWRFbGVtZW50c307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1xdWVyeS1hc3NpZ25lZC1lbGVtZW50cy5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuY29uc3QgdD17QVRUUklCVVRFOjEsQ0hJTEQ6MixQUk9QRVJUWTozLEJPT0xFQU5fQVRUUklCVVRFOjQsRVZFTlQ6NSxFTEVNRU5UOjZ9LGU9dD0+KC4uLmUpPT4oe18kbGl0RGlyZWN0aXZlJDp0LHZhbHVlczplfSk7Y2xhc3MgaXtjb25zdHJ1Y3Rvcih0KXt9Z2V0IF8kQVUoKXtyZXR1cm4gdGhpcy5fJEFNLl8kQVV9XyRBVCh0LGUsaSl7dGhpcy5fJEN0PXQsdGhpcy5fJEFNPWUsdGhpcy5fJENpPWl9XyRBUyh0LGUpe3JldHVybiB0aGlzLnVwZGF0ZSh0LGUpfXVwZGF0ZSh0LGUpe3JldHVybiB0aGlzLnJlbmRlciguLi5lKX19ZXhwb3J0e2kgYXMgRGlyZWN0aXZlLHQgYXMgUGFydFR5cGUsZSBhcyBkaXJlY3RpdmV9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlyZWN0aXZlLmpzLm1hcFxuIiwiaW1wb3J0e18kTEggYXMgb31mcm9tXCIuL2xpdC1odG1sLmpzXCI7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9jb25zdHtIOml9PW8sdD1vPT5udWxsPT09b3x8XCJvYmplY3RcIiE9dHlwZW9mIG8mJlwiZnVuY3Rpb25cIiE9dHlwZW9mIG8sbj17SFRNTDoxLFNWRzoyfSx2PShvLGkpPT57dmFyIHQsbjtyZXR1cm4gdm9pZCAwPT09aT92b2lkIDAhPT0obnVsbD09PSh0PW8pfHx2b2lkIDA9PT10P3ZvaWQgMDp0Ll8kbGl0VHlwZSQpOihudWxsPT09KG49byl8fHZvaWQgMD09PW4/dm9pZCAwOm4uXyRsaXRUeXBlJCk9PT1pfSxsPW89Pnt2YXIgaTtyZXR1cm4gdm9pZCAwIT09KG51bGw9PT0oaT1vKXx8dm9pZCAwPT09aT92b2lkIDA6aS5fJGxpdERpcmVjdGl2ZSQpfSxkPW89Pnt2YXIgaTtyZXR1cm4gbnVsbD09PShpPW8pfHx2b2lkIDA9PT1pP3ZvaWQgMDppLl8kbGl0RGlyZWN0aXZlJH0scj1vPT52b2lkIDA9PT1vLnN0cmluZ3MsZT0oKT0+ZG9jdW1lbnQuY3JlYXRlQ29tbWVudChcIlwiKSx1PShvLHQsbik9Pnt2YXIgdjtjb25zdCBsPW8uXyRBQS5wYXJlbnROb2RlLGQ9dm9pZCAwPT09dD9vLl8kQUI6dC5fJEFBO2lmKHZvaWQgMD09PW4pe2NvbnN0IHQ9bC5pbnNlcnRCZWZvcmUoZSgpLGQpLHY9bC5pbnNlcnRCZWZvcmUoZSgpLGQpO249bmV3IGkodCx2LG8sby5vcHRpb25zKX1lbHNle2NvbnN0IGk9bi5fJEFCLm5leHRTaWJsaW5nLHQ9bi5fJEFNLHI9dCE9PW87aWYocil7bGV0IGk7bnVsbD09PSh2PW4uXyRBUSl8fHZvaWQgMD09PXZ8fHYuY2FsbChuLG8pLG4uXyRBTT1vLHZvaWQgMCE9PW4uXyRBUCYmKGk9by5fJEFVKSE9PXQuXyRBVSYmbi5fJEFQKGkpfWlmKGkhPT1kfHxyKXtsZXQgbz1uLl8kQUE7Zm9yKDtvIT09aTspe2NvbnN0IGk9by5uZXh0U2libGluZztsLmluc2VydEJlZm9yZShvLGQpLG89aX19fXJldHVybiBufSxjPShvLGksdD1vKT0+KG8uXyRBSShpLHQpLG8pLGY9e30scz0obyxpPWYpPT5vLl8kQUg9aSxhPW89Pm8uXyRBSCxtPW89Pnt2YXIgaTtudWxsPT09KGk9by5fJEFQKXx8dm9pZCAwPT09aXx8aS5jYWxsKG8sITEsITApO2xldCB0PW8uXyRBQTtjb25zdCBuPW8uXyRBQi5uZXh0U2libGluZztmb3IoO3QhPT1uOyl7Y29uc3Qgbz10Lm5leHRTaWJsaW5nO3QucmVtb3ZlKCksdD1vfX0scD1vPT57by5fJEFSKCl9O2V4cG9ydHtuIGFzIFRlbXBsYXRlUmVzdWx0VHlwZSxwIGFzIGNsZWFyUGFydCxhIGFzIGdldENvbW1pdHRlZFZhbHVlLGQgYXMgZ2V0RGlyZWN0aXZlQ2xhc3MsdSBhcyBpbnNlcnRQYXJ0LGwgYXMgaXNEaXJlY3RpdmVSZXN1bHQsdCBhcyBpc1ByaW1pdGl2ZSxyIGFzIGlzU2luZ2xlRXhwcmVzc2lvbix2IGFzIGlzVGVtcGxhdGVSZXN1bHQsbSBhcyByZW1vdmVQYXJ0LGMgYXMgc2V0Q2hpbGRQYXJ0VmFsdWUscyBhcyBzZXRDb21taXR0ZWRWYWx1ZX07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXJlY3RpdmUtaGVscGVycy5qcy5tYXBcbiIsImltcG9ydHtub0NoYW5nZSBhcyBlfWZyb21cIi4uL2xpdC1odG1sLmpzXCI7aW1wb3J0e2RpcmVjdGl2ZSBhcyBzLERpcmVjdGl2ZSBhcyB0LFBhcnRUeXBlIGFzIHJ9ZnJvbVwiLi4vZGlyZWN0aXZlLmpzXCI7aW1wb3J0e2dldENvbW1pdHRlZFZhbHVlIGFzIGwsc2V0Q2hpbGRQYXJ0VmFsdWUgYXMgbyxpbnNlcnRQYXJ0IGFzIGkscmVtb3ZlUGFydCBhcyBuLHNldENvbW1pdHRlZFZhbHVlIGFzIGZ9ZnJvbVwiLi4vZGlyZWN0aXZlLWhlbHBlcnMuanNcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuY29uc3QgdT0oZSxzLHQpPT57Y29uc3Qgcj1uZXcgTWFwO2ZvcihsZXQgbD1zO2w8PXQ7bCsrKXIuc2V0KGVbbF0sbCk7cmV0dXJuIHJ9LGM9cyhjbGFzcyBleHRlbmRzIHR7Y29uc3RydWN0b3IoZSl7aWYoc3VwZXIoZSksZS50eXBlIT09ci5DSElMRCl0aHJvdyBFcnJvcihcInJlcGVhdCgpIGNhbiBvbmx5IGJlIHVzZWQgaW4gdGV4dCBleHByZXNzaW9uc1wiKX1kdChlLHMsdCl7bGV0IHI7dm9pZCAwPT09dD90PXM6dm9pZCAwIT09cyYmKHI9cyk7Y29uc3QgbD1bXSxvPVtdO2xldCBpPTA7Zm9yKGNvbnN0IHMgb2YgZSlsW2ldPXI/cihzLGkpOmksb1tpXT10KHMsaSksaSsrO3JldHVybnt2YWx1ZXM6byxrZXlzOmx9fXJlbmRlcihlLHMsdCl7cmV0dXJuIHRoaXMuZHQoZSxzLHQpLnZhbHVlc311cGRhdGUocyxbdCxyLGNdKXt2YXIgZDtjb25zdCBhPWwocykse3ZhbHVlczpwLGtleXM6dn09dGhpcy5kdCh0LHIsYyk7aWYoIUFycmF5LmlzQXJyYXkoYSkpcmV0dXJuIHRoaXMudXQ9dixwO2NvbnN0IGg9bnVsbCE9PShkPXRoaXMudXQpJiZ2b2lkIDAhPT1kP2Q6dGhpcy51dD1bXSxtPVtdO2xldCB5LHgsaj0wLGs9YS5sZW5ndGgtMSx3PTAsQT1wLmxlbmd0aC0xO2Zvcig7ajw9ayYmdzw9QTspaWYobnVsbD09PWFbal0paisrO2Vsc2UgaWYobnVsbD09PWFba10pay0tO2Vsc2UgaWYoaFtqXT09PXZbd10pbVt3XT1vKGFbal0scFt3XSksaisrLHcrKztlbHNlIGlmKGhba109PT12W0FdKW1bQV09byhhW2tdLHBbQV0pLGstLSxBLS07ZWxzZSBpZihoW2pdPT09dltBXSltW0FdPW8oYVtqXSxwW0FdKSxpKHMsbVtBKzFdLGFbal0pLGorKyxBLS07ZWxzZSBpZihoW2tdPT09dlt3XSltW3ddPW8oYVtrXSxwW3ddKSxpKHMsYVtqXSxhW2tdKSxrLS0sdysrO2Vsc2UgaWYodm9pZCAwPT09eSYmKHk9dSh2LHcsQSkseD11KGgsaixrKSkseS5oYXMoaFtqXSkpaWYoeS5oYXMoaFtrXSkpe2NvbnN0IGU9eC5nZXQodlt3XSksdD12b2lkIDAhPT1lP2FbZV06bnVsbDtpZihudWxsPT09dCl7Y29uc3QgZT1pKHMsYVtqXSk7byhlLHBbd10pLG1bd109ZX1lbHNlIG1bd109byh0LHBbd10pLGkocyxhW2pdLHQpLGFbZV09bnVsbDt3Kyt9ZWxzZSBuKGFba10pLGstLTtlbHNlIG4oYVtqXSksaisrO2Zvcig7dzw9QTspe2NvbnN0IGU9aShzLG1bQSsxXSk7byhlLHBbd10pLG1bdysrXT1lfWZvcig7ajw9azspe2NvbnN0IGU9YVtqKytdO251bGwhPT1lJiZuKGUpfXJldHVybiB0aGlzLnV0PXYsZihzLG0pLGV9fSk7ZXhwb3J0e2MgYXMgcmVwZWF0fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcGVhdC5qcy5tYXBcbiIsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLCJpbXBvcnR7bm9DaGFuZ2UgYXMgdH1mcm9tXCIuLi9saXQtaHRtbC5qc1wiO2ltcG9ydHtkaXJlY3RpdmUgYXMgZSxEaXJlY3RpdmUgYXMgcixQYXJ0VHlwZSBhcyBzfWZyb21cIi4uL2RpcmVjdGl2ZS5qc1wiO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovY29uc3QgaT1lKGNsYXNzIGV4dGVuZHMgcntjb25zdHJ1Y3Rvcih0KXt2YXIgZTtpZihzdXBlcih0KSx0LnR5cGUhPT1zLkFUVFJJQlVURXx8XCJzdHlsZVwiIT09dC5uYW1lfHwobnVsbD09PShlPXQuc3RyaW5ncyl8fHZvaWQgMD09PWU/dm9pZCAwOmUubGVuZ3RoKT4yKXRocm93IEVycm9yKFwiVGhlIGBzdHlsZU1hcGAgZGlyZWN0aXZlIG11c3QgYmUgdXNlZCBpbiB0aGUgYHN0eWxlYCBhdHRyaWJ1dGUgYW5kIG11c3QgYmUgdGhlIG9ubHkgcGFydCBpbiB0aGUgYXR0cmlidXRlLlwiKX1yZW5kZXIodCl7cmV0dXJuIE9iamVjdC5rZXlzKHQpLnJlZHVjZSgoKGUscik9Pntjb25zdCBzPXRbcl07cmV0dXJuIG51bGw9PXM/ZTplK2Ake3I9ci5yZXBsYWNlKC8oPzpeKHdlYmtpdHxtb3p8bXN8byl8KSg/PVtBLVpdKS9nLFwiLSQmXCIpLnRvTG93ZXJDYXNlKCl9OiR7c307YH0pLFwiXCIpfXVwZGF0ZShlLFtyXSl7Y29uc3R7c3R5bGU6c309ZS5lbGVtZW50O2lmKHZvaWQgMD09PXRoaXMuY3Qpe3RoaXMuY3Q9bmV3IFNldDtmb3IoY29uc3QgdCBpbiByKXRoaXMuY3QuYWRkKHQpO3JldHVybiB0aGlzLnJlbmRlcihyKX10aGlzLmN0LmZvckVhY2goKHQ9PntudWxsPT1yW3RdJiYodGhpcy5jdC5kZWxldGUodCksdC5pbmNsdWRlcyhcIi1cIik/cy5yZW1vdmVQcm9wZXJ0eSh0KTpzW3RdPVwiXCIpfSkpO2Zvcihjb25zdCB0IGluIHIpe2NvbnN0IGU9clt0XTtudWxsIT1lJiYodGhpcy5jdC5hZGQodCksdC5pbmNsdWRlcyhcIi1cIik/cy5zZXRQcm9wZXJ0eSh0LGUpOnNbdF09ZSl9cmV0dXJuIHR9fSk7ZXhwb3J0e2kgYXMgc3R5bGVNYXB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3R5bGUtbWFwLmpzLm1hcFxuIixudWxsLG51bGwsIi8qKlxuICogVXRpbGl0eSBtb2R1bGUgdG8gd29yayB3aXRoIGtleS12YWx1ZSBzdG9yZXMuXG4gKlxuICogQG1vZHVsZSBtYXBcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgTWFwIGluc3RhbmNlLlxuICpcbiAqIEBmdW5jdGlvblxuICogQHJldHVybiB7TWFwPGFueSwgYW55Pn1cbiAqXG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZSA9ICgpID0+IG5ldyBNYXAoKVxuXG4vKipcbiAqIENvcHkgYSBNYXAgb2JqZWN0IGludG8gYSBmcmVzaCBNYXAgb2JqZWN0LlxuICpcbiAqIEBmdW5jdGlvblxuICogQHRlbXBsYXRlIFgsWVxuICogQHBhcmFtIHtNYXA8WCxZPn0gbVxuICogQHJldHVybiB7TWFwPFgsWT59XG4gKi9cbmV4cG9ydCBjb25zdCBjb3B5ID0gbSA9PiB7XG4gIGNvbnN0IHIgPSBjcmVhdGUoKVxuICBtLmZvckVhY2goKHYsIGspID0+IHsgci5zZXQoaywgdikgfSlcbiAgcmV0dXJuIHJcbn1cblxuLyoqXG4gKiBHZXQgbWFwIHByb3BlcnR5LiBDcmVhdGUgVCBpZiBwcm9wZXJ0eSBpcyB1bmRlZmluZWQgYW5kIHNldCBUIG9uIG1hcC5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgbGlzdGVuZXJzID0gbWFwLnNldElmVW5kZWZpbmVkKGV2ZW50cywgJ2V2ZW50TmFtZScsIHNldC5jcmVhdGUpXG4gKiBsaXN0ZW5lcnMuYWRkKGxpc3RlbmVyKVxuICogYGBgXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAdGVtcGxhdGUgVCxLXG4gKiBAcGFyYW0ge01hcDxLLCBUPn0gbWFwXG4gKiBAcGFyYW0ge0t9IGtleVxuICogQHBhcmFtIHtmdW5jdGlvbigpOlR9IGNyZWF0ZVRcbiAqIEByZXR1cm4ge1R9XG4gKi9cbmV4cG9ydCBjb25zdCBzZXRJZlVuZGVmaW5lZCA9IChtYXAsIGtleSwgY3JlYXRlVCkgPT4ge1xuICBsZXQgc2V0ID0gbWFwLmdldChrZXkpXG4gIGlmIChzZXQgPT09IHVuZGVmaW5lZCkge1xuICAgIG1hcC5zZXQoa2V5LCBzZXQgPSBjcmVhdGVUKCkpXG4gIH1cbiAgcmV0dXJuIHNldFxufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gQXJyYXkgYW5kIHBvcHVsYXRlcyBpdCB3aXRoIHRoZSBjb250ZW50IG9mIGFsbCBrZXktdmFsdWUgcGFpcnMgdXNpbmcgdGhlIGBmKHZhbHVlLCBrZXkpYCBmdW5jdGlvbi5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEB0ZW1wbGF0ZSBLXG4gKiBAdGVtcGxhdGUgVlxuICogQHRlbXBsYXRlIFJcbiAqIEBwYXJhbSB7TWFwPEssVj59IG1cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oVixLKTpSfSBmXG4gKiBAcmV0dXJuIHtBcnJheTxSPn1cbiAqL1xuZXhwb3J0IGNvbnN0IG1hcCA9IChtLCBmKSA9PiB7XG4gIGNvbnN0IHJlcyA9IFtdXG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIG0pIHtcbiAgICByZXMucHVzaChmKHZhbHVlLCBrZXkpKVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuLyoqXG4gKiBUZXN0cyB3aGV0aGVyIGFueSBrZXktdmFsdWUgcGFpcnMgcGFzcyB0aGUgdGVzdCBpbXBsZW1lbnRlZCBieSBgZih2YWx1ZSwga2V5KWAuXG4gKlxuICogQHRvZG8gc2hvdWxkIHJlbmFtZSB0byBzb21lIC0gc2ltaWxhcmx5IHRvIEFycmF5LnNvbWVcbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEB0ZW1wbGF0ZSBLXG4gKiBAdGVtcGxhdGUgVlxuICogQHBhcmFtIHtNYXA8SyxWPn0gbVxuICogQHBhcmFtIHtmdW5jdGlvbihWLEspOmJvb2xlYW59IGZcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBjb25zdCBhbnkgPSAobSwgZikgPT4ge1xuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBtKSB7XG4gICAgaWYgKGYodmFsdWUsIGtleSkpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG4vKipcbiAqIFRlc3RzIHdoZXRoZXIgYWxsIGtleS12YWx1ZSBwYWlycyBwYXNzIHRoZSB0ZXN0IGltcGxlbWVudGVkIGJ5IGBmKHZhbHVlLCBrZXkpYC5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEB0ZW1wbGF0ZSBLXG4gKiBAdGVtcGxhdGUgVlxuICogQHBhcmFtIHtNYXA8SyxWPn0gbVxuICogQHBhcmFtIHtmdW5jdGlvbihWLEspOmJvb2xlYW59IGZcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBjb25zdCBhbGwgPSAobSwgZikgPT4ge1xuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBtKSB7XG4gICAgaWYgKCFmKHZhbHVlLCBrZXkpKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWVcbn1cbiIsIi8qKlxuICogVXRpbGl0eSBtb2R1bGUgdG8gd29yayB3aXRoIHNldHMuXG4gKlxuICogQG1vZHVsZSBzZXRcbiAqL1xuXG5leHBvcnQgY29uc3QgY3JlYXRlID0gKCkgPT4gbmV3IFNldCgpXG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7U2V0PFQ+fSBzZXRcbiAqIEByZXR1cm4ge0FycmF5PFQ+fVxuICovXG5leHBvcnQgY29uc3QgdG9BcnJheSA9IHNldCA9PiBBcnJheS5mcm9tKHNldClcblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtTZXQ8VD59IHNldFxuICogQHJldHVybiB7VH1cbiAqL1xuZXhwb3J0IGNvbnN0IGZpcnN0ID0gc2V0ID0+IHtcbiAgcmV0dXJuIHNldC52YWx1ZXMoKS5uZXh0KCkudmFsdWUgfHwgdW5kZWZpbmVkXG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7SXRlcmFibGU8VD59IGVudHJpZXNcbiAqIEByZXR1cm4ge1NldDxUPn1cbiAqL1xuZXhwb3J0IGNvbnN0IGZyb20gPSBlbnRyaWVzID0+IHtcbiAgcmV0dXJuIG5ldyBTZXQoZW50cmllcylcbn1cbiIsIi8qKlxuICogVXRpbGl0eSBtb2R1bGUgdG8gd29yayB3aXRoIEFycmF5cy5cbiAqXG4gKiBAbW9kdWxlIGFycmF5XG4gKi9cblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxhc3QgZWxlbWVudCBvZiBhbiBhcnJheS4gVGhlIGVsZW1lbnQgbXVzdCBleGlzdFxuICpcbiAqIEB0ZW1wbGF0ZSBMXG4gKiBAcGFyYW0ge0FycmF5PEw+fSBhcnJcbiAqIEByZXR1cm4ge0x9XG4gKi9cbmV4cG9ydCBjb25zdCBsYXN0ID0gYXJyID0+IGFyclthcnIubGVuZ3RoIC0gMV1cblxuLyoqXG4gKiBAdGVtcGxhdGUgQ1xuICogQHJldHVybiB7QXJyYXk8Qz59XG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGUgPSAoKSA9PiAvKiogQHR5cGUge0FycmF5PEM+fSAqLyAoW10pXG5cbi8qKlxuICogQHRlbXBsYXRlIERcbiAqIEBwYXJhbSB7QXJyYXk8RD59IGFcbiAqIEByZXR1cm4ge0FycmF5PEQ+fVxuICovXG5leHBvcnQgY29uc3QgY29weSA9IGEgPT4gLyoqIEB0eXBlIHtBcnJheTxEPn0gKi8gKGEuc2xpY2UoKSlcblxuLyoqXG4gKiBBcHBlbmQgZWxlbWVudHMgZnJvbSBzcmMgdG8gZGVzdFxuICpcbiAqIEB0ZW1wbGF0ZSBNXG4gKiBAcGFyYW0ge0FycmF5PE0+fSBkZXN0XG4gKiBAcGFyYW0ge0FycmF5PE0+fSBzcmNcbiAqL1xuZXhwb3J0IGNvbnN0IGFwcGVuZFRvID0gKGRlc3QsIHNyYykgPT4ge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNyYy5sZW5ndGg7IGkrKykge1xuICAgIGRlc3QucHVzaChzcmNbaV0pXG4gIH1cbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm1zIHNvbWV0aGluZyBhcnJheS1saWtlIHRvIGFuIGFjdHVhbCBBcnJheS5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge0FycmF5TGlrZTxUPnxJdGVyYWJsZTxUPn0gYXJyYXlsaWtlXG4gKiBAcmV0dXJuIHtUfVxuICovXG5leHBvcnQgY29uc3QgZnJvbSA9IEFycmF5LmZyb21cblxuLyoqXG4gKiBUcnVlIGlmZiBjb25kaXRpb24gaG9sZHMgb24gZXZlcnkgZWxlbWVudCBpbiB0aGUgQXJyYXkuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAdGVtcGxhdGUgSVRFTVxuICpcbiAqIEBwYXJhbSB7QXJyYXk8SVRFTT59IGFyclxuICogQHBhcmFtIHtmdW5jdGlvbihJVEVNLCBudW1iZXIsIEFycmF5PElURU0+KTpib29sZWFufSBmXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgY29uc3QgZXZlcnkgPSAoYXJyLCBmKSA9PiBhcnIuZXZlcnkoZilcblxuLyoqXG4gKiBUcnVlIGlmZiBjb25kaXRpb24gaG9sZHMgb24gc29tZSBlbGVtZW50IGluIHRoZSBBcnJheS5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEB0ZW1wbGF0ZSBTXG4gKiBAcGFyYW0ge0FycmF5PFM+fSBhcnJcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oUywgbnVtYmVyLCBBcnJheTxTPik6Ym9vbGVhbn0gZlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGNvbnN0IHNvbWUgPSAoYXJyLCBmKSA9PiBhcnIuc29tZShmKVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBFTEVNXG4gKlxuICogQHBhcmFtIHtBcnJheTxFTEVNPn0gYVxuICogQHBhcmFtIHtBcnJheTxFTEVNPn0gYlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGNvbnN0IGVxdWFsRmxhdCA9IChhLCBiKSA9PiBhLmxlbmd0aCA9PT0gYi5sZW5ndGggJiYgZXZlcnkoYSwgKGl0ZW0sIGluZGV4KSA9PiBpdGVtID09PSBiW2luZGV4XSlcblxuLyoqXG4gKiBAdGVtcGxhdGUgRUxFTVxuICogQHBhcmFtIHtBcnJheTxBcnJheTxFTEVNPj59IGFyclxuICogQHJldHVybiB7QXJyYXk8RUxFTT59XG4gKi9cbmV4cG9ydCBjb25zdCBmbGF0dGVuID0gYXJyID0+IGFyci5yZWR1Y2UoKGFjYywgdmFsKSA9PiBhY2MuY29uY2F0KHZhbCksIFtdKVxuXG5leHBvcnQgY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXlcbiIsIi8qKlxuICogT2JzZXJ2YWJsZSBjbGFzcyBwcm90b3R5cGUuXG4gKlxuICogQG1vZHVsZSBvYnNlcnZhYmxlXG4gKi9cblxuaW1wb3J0ICogYXMgbWFwIGZyb20gJy4vbWFwLmpzJ1xuaW1wb3J0ICogYXMgc2V0IGZyb20gJy4vc2V0LmpzJ1xuaW1wb3J0ICogYXMgYXJyYXkgZnJvbSAnLi9hcnJheS5qcydcblxuLyoqXG4gKiBIYW5kbGVzIG5hbWVkIGV2ZW50cy5cbiAqXG4gKiBAdGVtcGxhdGUgTlxuICovXG5leHBvcnQgY2xhc3MgT2JzZXJ2YWJsZSB7XG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICAvKipcbiAgICAgKiBTb21lIGRlc2MuXG4gICAgICogQHR5cGUge01hcDxOLCBhbnk+fVxuICAgICAqL1xuICAgIHRoaXMuX29ic2VydmVycyA9IG1hcC5jcmVhdGUoKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Tn0gbmFtZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmXG4gICAqL1xuICBvbiAobmFtZSwgZikge1xuICAgIG1hcC5zZXRJZlVuZGVmaW5lZCh0aGlzLl9vYnNlcnZlcnMsIG5hbWUsIHNldC5jcmVhdGUpLmFkZChmKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Tn0gbmFtZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmXG4gICAqL1xuICBvbmNlIChuYW1lLCBmKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtICB7Li4uYW55fSBhcmdzXG4gICAgICovXG4gICAgY29uc3QgX2YgPSAoLi4uYXJncykgPT4ge1xuICAgICAgdGhpcy5vZmYobmFtZSwgX2YpXG4gICAgICBmKC4uLmFyZ3MpXG4gICAgfVxuICAgIHRoaXMub24obmFtZSwgX2YpXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtOfSBuYW1lXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZcbiAgICovXG4gIG9mZiAobmFtZSwgZikge1xuICAgIGNvbnN0IG9ic2VydmVycyA9IHRoaXMuX29ic2VydmVycy5nZXQobmFtZSlcbiAgICBpZiAob2JzZXJ2ZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG9ic2VydmVycy5kZWxldGUoZilcbiAgICAgIGlmIChvYnNlcnZlcnMuc2l6ZSA9PT0gMCkge1xuICAgICAgICB0aGlzLl9vYnNlcnZlcnMuZGVsZXRlKG5hbWUpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEVtaXQgYSBuYW1lZCBldmVudC4gQWxsIHJlZ2lzdGVyZWQgZXZlbnQgbGlzdGVuZXJzIHRoYXQgbGlzdGVuIHRvIHRoZVxuICAgKiBzcGVjaWZpZWQgbmFtZSB3aWxsIHJlY2VpdmUgdGhlIGV2ZW50LlxuICAgKlxuICAgKiBAdG9kbyBUaGlzIHNob3VsZCBjYXRjaCBleGNlcHRpb25zXG4gICAqXG4gICAqIEBwYXJhbSB7Tn0gbmFtZSBUaGUgZXZlbnQgbmFtZS5cbiAgICogQHBhcmFtIHtBcnJheTxhbnk+fSBhcmdzIFRoZSBhcmd1bWVudHMgdGhhdCBhcmUgYXBwbGllZCB0byB0aGUgZXZlbnQgbGlzdGVuZXIuXG4gICAqL1xuICBlbWl0IChuYW1lLCBhcmdzKSB7XG4gICAgLy8gY29weSBhbGwgbGlzdGVuZXJzIHRvIGFuIGFycmF5IGZpcnN0IHRvIG1ha2Ugc3VyZSB0aGF0IG5vIGV2ZW50IGlzIGVtaXR0ZWQgdG8gbGlzdGVuZXJzIHRoYXQgYXJlIHN1YnNjcmliZWQgd2hpbGUgdGhlIGV2ZW50IGhhbmRsZXIgaXMgY2FsbGVkLlxuICAgIHJldHVybiBhcnJheS5mcm9tKCh0aGlzLl9vYnNlcnZlcnMuZ2V0KG5hbWUpIHx8IG1hcC5jcmVhdGUoKSkudmFsdWVzKCkpLmZvckVhY2goZiA9PiBmKC4uLmFyZ3MpKVxuICB9XG5cbiAgZGVzdHJveSAoKSB7XG4gICAgdGhpcy5fb2JzZXJ2ZXJzID0gbWFwLmNyZWF0ZSgpXG4gIH1cbn1cbiIsIi8qKlxuICogQ29tbW9uIE1hdGggZXhwcmVzc2lvbnMuXG4gKlxuICogQG1vZHVsZSBtYXRoXG4gKi9cblxuZXhwb3J0IGNvbnN0IGZsb29yID0gTWF0aC5mbG9vclxuZXhwb3J0IGNvbnN0IGNlaWwgPSBNYXRoLmNlaWxcbmV4cG9ydCBjb25zdCBhYnMgPSBNYXRoLmFic1xuZXhwb3J0IGNvbnN0IGltdWwgPSBNYXRoLmltdWxcbmV4cG9ydCBjb25zdCByb3VuZCA9IE1hdGgucm91bmRcbmV4cG9ydCBjb25zdCBsb2cxMCA9IE1hdGgubG9nMTBcbmV4cG9ydCBjb25zdCBsb2cyID0gTWF0aC5sb2cyXG5leHBvcnQgY29uc3QgbG9nID0gTWF0aC5sb2dcbmV4cG9ydCBjb25zdCBzcXJ0ID0gTWF0aC5zcXJ0XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gYVxuICogQHBhcmFtIHtudW1iZXJ9IGJcbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIHN1bSBvZiBhIGFuZCBiXG4gKi9cbmV4cG9ydCBjb25zdCBhZGQgPSAoYSwgYikgPT4gYSArIGJcblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBhXG4gKiBAcGFyYW0ge251bWJlcn0gYlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgc21hbGxlciBlbGVtZW50IG9mIGEgYW5kIGJcbiAqL1xuZXhwb3J0IGNvbnN0IG1pbiA9IChhLCBiKSA9PiBhIDwgYiA/IGEgOiBiXG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gYVxuICogQHBhcmFtIHtudW1iZXJ9IGJcbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGJpZ2dlciBlbGVtZW50IG9mIGEgYW5kIGJcbiAqL1xuZXhwb3J0IGNvbnN0IG1heCA9IChhLCBiKSA9PiBhID4gYiA/IGEgOiBiXG5cbmV4cG9ydCBjb25zdCBpc05hTiA9IE51bWJlci5pc05hTlxuXG5leHBvcnQgY29uc3QgcG93ID0gTWF0aC5wb3dcbi8qKlxuICogQmFzZSAxMCBleHBvbmVudGlhbCBmdW5jdGlvbi4gUmV0dXJucyB0aGUgdmFsdWUgb2YgMTAgcmFpc2VkIHRvIHRoZSBwb3dlciBvZiBwb3cuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGV4cFxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgZXhwMTAgPSBleHAgPT4gTWF0aC5wb3coMTAsIGV4cClcblxuZXhwb3J0IGNvbnN0IHNpZ24gPSBNYXRoLnNpZ25cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gblxuICogQHJldHVybiB7Ym9vbGVhbn0gV2V0aGVyIG4gaXMgbmVnYXRpdmUuIFRoaXMgZnVuY3Rpb24gYWxzbyBkaWZmZXJlbnRpYXRlcyBiZXR3ZWVuIC0wIGFuZCArMFxuICovXG5leHBvcnQgY29uc3QgaXNOZWdhdGl2ZVplcm8gPSBuID0+IG4gIT09IDAgPyBuIDwgMCA6IDEgLyBuIDwgMFxuIiwiLyoqXG4gKiBVdGlsaXR5IG1vZHVsZSB0byB3b3JrIHdpdGggc3RyaW5ncy5cbiAqXG4gKiBAbW9kdWxlIHN0cmluZ1xuICovXG5cbmV4cG9ydCBjb25zdCBmcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlXG5leHBvcnQgY29uc3QgZnJvbUNvZGVQb2ludCA9IFN0cmluZy5mcm9tQ29kZVBvaW50XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHNcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuY29uc3QgdG9Mb3dlckNhc2UgPSBzID0+IHMudG9Mb3dlckNhc2UoKVxuXG5jb25zdCB0cmltTGVmdFJlZ2V4ID0gL15cXHMqL2dcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gc1xuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgdHJpbUxlZnQgPSBzID0+IHMucmVwbGFjZSh0cmltTGVmdFJlZ2V4LCAnJylcblxuY29uc3QgZnJvbUNhbWVsQ2FzZVJlZ2V4ID0gLyhbQS1aXSkvZ1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VwYXJhdG9yXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBmcm9tQ2FtZWxDYXNlID0gKHMsIHNlcGFyYXRvcikgPT4gdHJpbUxlZnQocy5yZXBsYWNlKGZyb21DYW1lbENhc2VSZWdleCwgbWF0Y2ggPT4gYCR7c2VwYXJhdG9yfSR7dG9Mb3dlckNhc2UobWF0Y2gpfWApKVxuXG4vKipcbiAqIENvbXB1dGUgdGhlIHV0ZjhCeXRlTGVuZ3RoXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCB1dGY4Qnl0ZUxlbmd0aCA9IHN0ciA9PiB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoc3RyKSkubGVuZ3RoXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICogQHJldHVybiB7VWludDhBcnJheX1cbiAqL1xuZXhwb3J0IGNvbnN0IF9lbmNvZGVVdGY4UG9seWZpbGwgPSBzdHIgPT4ge1xuICBjb25zdCBlbmNvZGVkU3RyaW5nID0gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHN0cikpXG4gIGNvbnN0IGxlbiA9IGVuY29kZWRTdHJpbmcubGVuZ3RoXG4gIGNvbnN0IGJ1ZiA9IG5ldyBVaW50OEFycmF5KGxlbilcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGJ1ZltpXSA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoZW5jb2RlZFN0cmluZy5jb2RlUG9pbnRBdChpKSlcbiAgfVxuICByZXR1cm4gYnVmXG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgY29uc3QgdXRmOFRleHRFbmNvZGVyID0gLyoqIEB0eXBlIHtUZXh0RW5jb2Rlcn0gKi8gKHR5cGVvZiBUZXh0RW5jb2RlciAhPT0gJ3VuZGVmaW5lZCcgPyBuZXcgVGV4dEVuY29kZXIoKSA6IG51bGwpXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICogQHJldHVybiB7VWludDhBcnJheX1cbiAqL1xuZXhwb3J0IGNvbnN0IF9lbmNvZGVVdGY4TmF0aXZlID0gc3RyID0+IHV0ZjhUZXh0RW5jb2Rlci5lbmNvZGUoc3RyKVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge1VpbnQ4QXJyYXl9XG4gKi9cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgY29uc3QgZW5jb2RlVXRmOCA9IHV0ZjhUZXh0RW5jb2RlciA/IF9lbmNvZGVVdGY4TmF0aXZlIDogX2VuY29kZVV0ZjhQb2x5ZmlsbFxuXG4vKipcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBfZGVjb2RlVXRmOFBvbHlmaWxsID0gYnVmID0+IHtcbiAgbGV0IHJlbWFpbmluZ0xlbiA9IGJ1Zi5sZW5ndGhcbiAgbGV0IGVuY29kZWRTdHJpbmcgPSAnJ1xuICBsZXQgYnVmUG9zID0gMFxuICB3aGlsZSAocmVtYWluaW5nTGVuID4gMCkge1xuICAgIGNvbnN0IG5leHRMZW4gPSByZW1haW5pbmdMZW4gPCAxMDAwMCA/IHJlbWFpbmluZ0xlbiA6IDEwMDAwXG4gICAgY29uc3QgYnl0ZXMgPSBidWYuc3ViYXJyYXkoYnVmUG9zLCBidWZQb3MgKyBuZXh0TGVuKVxuICAgIGJ1ZlBvcyArPSBuZXh0TGVuXG4gICAgLy8gU3RhcnRpbmcgd2l0aCBFUzUuMSB3ZSBjYW4gc3VwcGx5IGEgZ2VuZXJpYyBhcnJheS1saWtlIG9iamVjdCBhcyBhcmd1bWVudHNcbiAgICBlbmNvZGVkU3RyaW5nICs9IFN0cmluZy5mcm9tQ29kZVBvaW50LmFwcGx5KG51bGwsIC8qKiBAdHlwZSB7YW55fSAqLyAoYnl0ZXMpKVxuICAgIHJlbWFpbmluZ0xlbiAtPSBuZXh0TGVuXG4gIH1cbiAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoZW5jb2RlZFN0cmluZykpXG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgbGV0IHV0ZjhUZXh0RGVjb2RlciA9IHR5cGVvZiBUZXh0RGVjb2RlciA9PT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogbmV3IFRleHREZWNvZGVyKCd1dGYtOCcsIHsgZmF0YWw6IHRydWUsIGlnbm9yZUJPTTogdHJ1ZSB9KVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuaWYgKHV0ZjhUZXh0RGVjb2RlciAmJiB1dGY4VGV4dERlY29kZXIuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpLmxlbmd0aCA9PT0gMSkge1xuICAvLyBTYWZhcmkgZG9lc24ndCBoYW5kbGUgQk9NIGNvcnJlY3RseS5cbiAgLy8gVGhpcyBmaXhlcyBhIGJ1ZyBpbiBTYWZhcmkgMTMuMC41IHdoZXJlIGl0IHByb2R1Y2VzIGEgQk9NIHRoZSBmaXJzdCB0aW1lIGl0IGlzIGNhbGxlZC5cbiAgLy8gdXRmOFRleHREZWNvZGVyLmRlY29kZShuZXcgVWludDhBcnJheSgpKS5sZW5ndGggPT09IDEgb24gdGhlIGZpcnN0IGNhbGwgYW5kXG4gIC8vIHV0ZjhUZXh0RGVjb2Rlci5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSkubGVuZ3RoID09PSAxIG9uIHRoZSBzZWNvbmQgY2FsbFxuICAvLyBBbm90aGVyIGlzc3VlIGlzIHRoYXQgZnJvbSB0aGVuIG9uIG5vIEJPTSBjaGFycyBhcmUgcmVjb2duaXplZCBhbnltb3JlXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHV0ZjhUZXh0RGVjb2RlciA9IG51bGxcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGJ1ZlxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgX2RlY29kZVV0ZjhOYXRpdmUgPSBidWYgPT4gLyoqIEB0eXBlIHtUZXh0RGVjb2Rlcn0gKi8gKHV0ZjhUZXh0RGVjb2RlcikuZGVjb2RlKGJ1ZilcblxuLyoqXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGJ1ZlxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGNvbnN0IGRlY29kZVV0ZjggPSB1dGY4VGV4dERlY29kZXIgPyBfZGVjb2RlVXRmOE5hdGl2ZSA6IF9kZWNvZGVVdGY4UG9seWZpbGxcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIFRoZSBpbml0aWFsIHN0cmluZ1xuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFN0YXJ0aW5nIHBvc2l0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gcmVtb3ZlIE51bWJlciBvZiBjaGFyYWN0ZXJzIHRvIHJlbW92ZVxuICogQHBhcmFtIHtzdHJpbmd9IGluc2VydCBOZXcgY29udGVudCB0byBpbnNlcnRcbiAqL1xuZXhwb3J0IGNvbnN0IHNwbGljZSA9IChzdHIsIGluZGV4LCByZW1vdmUsIGluc2VydCA9ICcnKSA9PiBzdHIuc2xpY2UoMCwgaW5kZXgpICsgaW5zZXJ0ICsgc3RyLnNsaWNlKGluZGV4ICsgcmVtb3ZlKVxuIiwiLyoqXG4gKiBPZnRlbiB1c2VkIGNvbmRpdGlvbnMuXG4gKlxuICogQG1vZHVsZSBjb25kaXRpb25zXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtUfG51bGx8dW5kZWZpbmVkfSB2XG4gKiBAcmV0dXJuIHtUfG51bGx9XG4gKi9cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgY29uc3QgdW5kZWZpbmVkVG9OdWxsID0gdiA9PiB2ID09PSB1bmRlZmluZWQgPyBudWxsIDogdlxuIiwiLyogZ2xvYmFsIGxvY2FsU3RvcmFnZSwgYWRkRXZlbnRMaXN0ZW5lciAqL1xuXG4vKipcbiAqIElzb21vcnBoaWMgdmFyaWFibGUgc3RvcmFnZS5cbiAqXG4gKiBVc2VzIExvY2FsU3RvcmFnZSBpbiB0aGUgYnJvd3NlciBhbmQgZmFsbHMgYmFjayB0byBpbi1tZW1vcnkgc3RvcmFnZS5cbiAqXG4gKiBAbW9kdWxlIHN0b3JhZ2VcbiAqL1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuY2xhc3MgVmFyU3RvcmFnZVBvbHlmaWxsIHtcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHRoaXMubWFwID0gbmV3IE1hcCgpXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICAgKiBAcGFyYW0ge2FueX0gbmV3VmFsdWVcbiAgICovXG4gIHNldEl0ZW0gKGtleSwgbmV3VmFsdWUpIHtcbiAgICB0aGlzLm1hcC5zZXQoa2V5LCBuZXdWYWx1ZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gICAqL1xuICBnZXRJdGVtIChrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAuZ2V0KGtleSlcbiAgfVxufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuLyoqXG4gKiBAdHlwZSB7YW55fVxuICovXG5sZXQgX2xvY2FsU3RvcmFnZSA9IG5ldyBWYXJTdG9yYWdlUG9seWZpbGwoKVxubGV0IHVzZVBvbHlmaWxsID0gdHJ1ZVxuXG50cnkge1xuICAvLyBpZiB0aGUgc2FtZS1vcmlnaW4gcnVsZSBpcyB2aW9sYXRlZCwgYWNjZXNzaW5nIGxvY2FsU3RvcmFnZSBtaWdodCB0aHJvd24gYW4gZXJyb3JcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKHR5cGVvZiBsb2NhbFN0b3JhZ2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgX2xvY2FsU3RvcmFnZSA9IGxvY2FsU3RvcmFnZVxuICAgIHVzZVBvbHlmaWxsID0gZmFsc2VcbiAgfVxufSBjYXRjaCAoZSkgeyB9XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4vKipcbiAqIFRoaXMgaXMgYmFzaWNhbGx5IGxvY2FsU3RvcmFnZSBpbiBicm93c2VyLCBvciBhIHBvbHlmaWxsIGluIG5vZGVqc1xuICovXG5leHBvcnQgY29uc3QgdmFyU3RvcmFnZSA9IF9sb2NhbFN0b3JhZ2VcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbi8qKlxuICogQSBwb2x5ZmlsbCBmb3IgYGFkZEV2ZW50TGlzdGVuZXIoJ3N0b3JhZ2UnLCBldmVudCA9PiB7Li59KWAgdGhhdCBkb2VzIG5vdGhpbmcgaWYgdGhlIHBvbHlmaWxsIGlzIGJlaW5nIHVzZWQuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbih7IGtleTogc3RyaW5nLCBuZXdWYWx1ZTogc3RyaW5nLCBvbGRWYWx1ZTogc3RyaW5nIH0pOiB2b2lkfSBldmVudEhhbmRsZXJcbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgY29uc3Qgb25DaGFuZ2UgPSBldmVudEhhbmRsZXIgPT4gdXNlUG9seWZpbGwgfHwgYWRkRXZlbnRMaXN0ZW5lcignc3RvcmFnZScsIC8qKiBAdHlwZSB7YW55fSAqLyAoZXZlbnRIYW5kbGVyKSlcbiIsIi8qKlxuICogSXNvbW9ycGhpYyBtb2R1bGUgdG8gd29yayBhY2Nlc3MgdGhlIGVudmlyb25tZW50IChxdWVyeSBwYXJhbXMsIGVudiB2YXJpYWJsZXMpLlxuICpcbiAqIEBtb2R1bGUgbWFwXG4gKi9cblxuaW1wb3J0ICogYXMgbWFwIGZyb20gJy4vbWFwLmpzJ1xuaW1wb3J0ICogYXMgc3RyaW5nIGZyb20gJy4vc3RyaW5nLmpzJ1xuaW1wb3J0ICogYXMgY29uZGl0aW9ucyBmcm9tICcuL2NvbmRpdGlvbnMuanMnXG5pbXBvcnQgKiBhcyBzdG9yYWdlIGZyb20gJy4vc3RvcmFnZS5qcydcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbi8vIEB0cy1pZ25vcmVcbmV4cG9ydCBjb25zdCBpc05vZGUgPSB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5yZWxlYXNlICYmIC9ub2RlfGlvXFwuanMvLnRlc3QocHJvY2Vzcy5yZWxlYXNlLm5hbWUpXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGNvbnN0IGlzQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmICFpc05vZGVcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgY29uc3QgaXNNYWMgPSB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyA/IC9NYWMvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSA6IGZhbHNlXG5cbi8qKlxuICogQHR5cGUge01hcDxzdHJpbmcsc3RyaW5nPn1cbiAqL1xubGV0IHBhcmFtc1xuY29uc3QgYXJncyA9IFtdXG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5jb25zdCBjb21wdXRlUGFyYW1zID0gKCkgPT4ge1xuICBpZiAocGFyYW1zID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoaXNOb2RlKSB7XG4gICAgICBwYXJhbXMgPSBtYXAuY3JlYXRlKClcbiAgICAgIGNvbnN0IHBhcmdzID0gcHJvY2Vzcy5hcmd2XG4gICAgICBsZXQgY3VyclBhcmFtTmFtZSA9IG51bGxcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHBhcmcgPSBwYXJnc1tpXVxuICAgICAgICBpZiAocGFyZ1swXSA9PT0gJy0nKSB7XG4gICAgICAgICAgaWYgKGN1cnJQYXJhbU5hbWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHBhcmFtcy5zZXQoY3VyclBhcmFtTmFtZSwgJycpXG4gICAgICAgICAgfVxuICAgICAgICAgIGN1cnJQYXJhbU5hbWUgPSBwYXJnXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGN1cnJQYXJhbU5hbWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHBhcmFtcy5zZXQoY3VyclBhcmFtTmFtZSwgcGFyZylcbiAgICAgICAgICAgIGN1cnJQYXJhbU5hbWUgPSBudWxsXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFyZ3MucHVzaChwYXJnKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGN1cnJQYXJhbU5hbWUgIT09IG51bGwpIHtcbiAgICAgICAgcGFyYW1zLnNldChjdXJyUGFyYW1OYW1lLCAnJylcbiAgICAgIH1cbiAgICAvLyBpbiBSZWFjdE5hdGl2ZSBmb3IgZXhhbXBsZSB0aGlzIHdvdWxkIG5vdCBiZSB0cnVlICh1bmxlc3MgY29ubmVjdGVkIHRvIHRoZSBSZW1vdGUgRGVidWdnZXIpXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbG9jYXRpb24gPT09ICdvYmplY3QnKSB7XG4gICAgICBwYXJhbXMgPSBtYXAuY3JlYXRlKClcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgOyhsb2NhdGlvbi5zZWFyY2ggfHwgJz8nKS5zbGljZSgxKS5zcGxpdCgnJicpLmZvckVhY2goa3YgPT4ge1xuICAgICAgICBpZiAoa3YubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgY29uc3QgW2tleSwgdmFsdWVdID0ga3Yuc3BsaXQoJz0nKVxuICAgICAgICAgIHBhcmFtcy5zZXQoYC0tJHtzdHJpbmcuZnJvbUNhbWVsQ2FzZShrZXksICctJyl9YCwgdmFsdWUpXG4gICAgICAgICAgcGFyYW1zLnNldChgLSR7c3RyaW5nLmZyb21DYW1lbENhc2Uoa2V5LCAnLScpfWAsIHZhbHVlKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICBwYXJhbXMgPSBtYXAuY3JlYXRlKClcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBhcmFtc1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGNvbnN0IGhhc1BhcmFtID0gbmFtZSA9PiBjb21wdXRlUGFyYW1zKCkuaGFzKG5hbWUpXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBkZWZhdWx0VmFsXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgY29uc3QgZ2V0UGFyYW0gPSAobmFtZSwgZGVmYXVsdFZhbCkgPT4gY29tcHV0ZVBhcmFtcygpLmdldChuYW1lKSB8fCBkZWZhdWx0VmFsXG4vLyBleHBvcnQgY29uc3QgZ2V0QXJncyA9IG5hbWUgPT4gY29tcHV0ZVBhcmFtcygpICYmIGFyZ3NcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHJldHVybiB7c3RyaW5nfG51bGx9XG4gKi9cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgY29uc3QgZ2V0VmFyaWFibGUgPSBuYW1lID0+IGlzTm9kZSA/IGNvbmRpdGlvbnMudW5kZWZpbmVkVG9OdWxsKHByb2Nlc3MuZW52W25hbWUudG9VcHBlckNhc2UoKV0pIDogY29uZGl0aW9ucy51bmRlZmluZWRUb051bGwoc3RvcmFnZS52YXJTdG9yYWdlLmdldEl0ZW0obmFtZSkpXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEByZXR1cm4ge3N0cmluZ3xudWxsfVxuICovXG5leHBvcnQgY29uc3QgZ2V0Q29uZiA9IG5hbWUgPT4gY29tcHV0ZVBhcmFtcygpLmdldCgnLS0nICsgbmFtZSkgfHwgZ2V0VmFyaWFibGUobmFtZSlcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBjb25zdCBoYXNDb25mID0gbmFtZSA9PiBoYXNQYXJhbSgnLS0nICsgbmFtZSkgfHwgZ2V0VmFyaWFibGUobmFtZSkgIT09IG51bGxcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBjb25zdCBwcm9kdWN0aW9uID0gaGFzQ29uZigncHJvZHVjdGlvbicpXG4iLCIvKipcbiAqIEVmZmljaWVudCBzY2hlbWEtbGVzcyBiaW5hcnkgZGVjb2Rpbmcgd2l0aCBzdXBwb3J0IGZvciB2YXJpYWJsZSBsZW5ndGggZW5jb2RpbmcuXG4gKlxuICogVXNlIFtsaWIwL2RlY29kaW5nXSB3aXRoIFtsaWIwL2VuY29kaW5nXS4gRXZlcnkgZW5jb2RpbmcgZnVuY3Rpb24gaGFzIGEgY29ycmVzcG9uZGluZyBkZWNvZGluZyBmdW5jdGlvbi5cbiAqXG4gKiBFbmNvZGVzIG51bWJlcnMgaW4gbGl0dGxlLWVuZGlhbiBvcmRlciAobGVhc3QgdG8gbW9zdCBzaWduaWZpY2FudCBieXRlIG9yZGVyKVxuICogYW5kIGlzIGNvbXBhdGlibGUgd2l0aCBHb2xhbmcncyBiaW5hcnkgZW5jb2RpbmcgKGh0dHBzOi8vZ29sYW5nLm9yZy9wa2cvZW5jb2RpbmcvYmluYXJ5LylcbiAqIHdoaWNoIGlzIGFsc28gdXNlZCBpbiBQcm90b2NvbCBCdWZmZXJzLlxuICpcbiAqIGBgYGpzXG4gKiAvLyBlbmNvZGluZyBzdGVwXG4gKiBjb25zdCBlbmNvZGVyID0gbmV3IGVuY29kaW5nLmNyZWF0ZUVuY29kZXIoKVxuICogZW5jb2Rpbmcud3JpdGVWYXJVaW50KGVuY29kZXIsIDI1NilcbiAqIGVuY29kaW5nLndyaXRlVmFyU3RyaW5nKGVuY29kZXIsICdIZWxsbyB3b3JsZCEnKVxuICogY29uc3QgYnVmID0gZW5jb2RpbmcudG9VaW50OEFycmF5KGVuY29kZXIpXG4gKiBgYGBcbiAqXG4gKiBgYGBqc1xuICogLy8gZGVjb2Rpbmcgc3RlcFxuICogY29uc3QgZGVjb2RlciA9IG5ldyBkZWNvZGluZy5jcmVhdGVEZWNvZGVyKGJ1ZilcbiAqIGRlY29kaW5nLnJlYWRWYXJVaW50KGRlY29kZXIpIC8vID0+IDI1NlxuICogZGVjb2RpbmcucmVhZFZhclN0cmluZyhkZWNvZGVyKSAvLyA9PiAnSGVsbG8gd29ybGQhJ1xuICogZGVjb2RpbmcuaGFzQ29udGVudChkZWNvZGVyKSAvLyA9PiBmYWxzZSAtIGFsbCBkYXRhIGlzIHJlYWRcbiAqIGBgYFxuICpcbiAqIEBtb2R1bGUgZGVjb2RpbmdcbiAqL1xuXG5pbXBvcnQgKiBhcyBidWZmZXIgZnJvbSAnLi9idWZmZXIuanMnXG5pbXBvcnQgKiBhcyBiaW5hcnkgZnJvbSAnLi9iaW5hcnkuanMnXG5pbXBvcnQgKiBhcyBtYXRoIGZyb20gJy4vbWF0aC5qcydcblxuLyoqXG4gKiBBIERlY29kZXIgaGFuZGxlcyB0aGUgZGVjb2Rpbmcgb2YgYW4gVWludDhBcnJheS5cbiAqL1xuZXhwb3J0IGNsYXNzIERlY29kZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtVaW50OEFycmF5fSB1aW50OEFycmF5IEJpbmFyeSBkYXRhIHRvIGRlY29kZVxuICAgKi9cbiAgY29uc3RydWN0b3IgKHVpbnQ4QXJyYXkpIHtcbiAgICAvKipcbiAgICAgKiBEZWNvZGluZyB0YXJnZXQuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7VWludDhBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLmFyciA9IHVpbnQ4QXJyYXlcbiAgICAvKipcbiAgICAgKiBDdXJyZW50IGRlY29kaW5nIHBvc2l0aW9uLlxuICAgICAqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnBvcyA9IDBcbiAgfVxufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtVaW50OEFycmF5fSB1aW50OEFycmF5XG4gKiBAcmV0dXJuIHtEZWNvZGVyfVxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlRGVjb2RlciA9IHVpbnQ4QXJyYXkgPT4gbmV3IERlY29kZXIodWludDhBcnJheSlcblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7RGVjb2Rlcn0gZGVjb2RlclxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGNvbnN0IGhhc0NvbnRlbnQgPSBkZWNvZGVyID0+IGRlY29kZXIucG9zICE9PSBkZWNvZGVyLmFyci5sZW5ndGhcblxuLyoqXG4gKiBDbG9uZSBhIGRlY29kZXIgaW5zdGFuY2UuXG4gKiBPcHRpb25hbGx5IHNldCBhIG5ldyBwb3NpdGlvbiBwYXJhbWV0ZXIuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0RlY29kZXJ9IGRlY29kZXIgVGhlIGRlY29kZXIgaW5zdGFuY2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBbbmV3UG9zXSBEZWZhdWx0cyB0byBjdXJyZW50IHBvc2l0aW9uXG4gKiBAcmV0dXJuIHtEZWNvZGVyfSBBIGNsb25lIG9mIGBkZWNvZGVyYFxuICovXG5leHBvcnQgY29uc3QgY2xvbmUgPSAoZGVjb2RlciwgbmV3UG9zID0gZGVjb2Rlci5wb3MpID0+IHtcbiAgY29uc3QgX2RlY29kZXIgPSBjcmVhdGVEZWNvZGVyKGRlY29kZXIuYXJyKVxuICBfZGVjb2Rlci5wb3MgPSBuZXdQb3NcbiAgcmV0dXJuIF9kZWNvZGVyXG59XG5cbi8qKlxuICogQ3JlYXRlIGFuIFVpbnQ4QXJyYXkgdmlldyBvZiB0aGUgbmV4dCBgbGVuYCBieXRlcyBhbmQgYWR2YW5jZSB0aGUgcG9zaXRpb24gYnkgYGxlbmAuXG4gKlxuICogSW1wb3J0YW50OiBUaGUgVWludDhBcnJheSBzdGlsbCBwb2ludHMgdG8gdGhlIHVuZGVybHlpbmcgQXJyYXlCdWZmZXIuIE1ha2Ugc3VyZSB0byBkaXNjYXJkIHRoZSByZXN1bHQgYXMgc29vbiBhcyBwb3NzaWJsZSB0byBwcmV2ZW50IGFueSBtZW1vcnkgbGVha3MuXG4gKiAgICAgICAgICAgIFVzZSBgYnVmZmVyLmNvcHlVaW50OEFycmF5YCB0byBjb3B5IHRoZSByZXN1bHQgaW50byBhIG5ldyBVaW50OEFycmF5LlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtEZWNvZGVyfSBkZWNvZGVyIFRoZSBkZWNvZGVyIGluc3RhbmNlXG4gKiBAcGFyYW0ge251bWJlcn0gbGVuIFRoZSBsZW5ndGggb2YgYnl0ZXMgdG8gcmVhZFxuICogQHJldHVybiB7VWludDhBcnJheX1cbiAqL1xuZXhwb3J0IGNvbnN0IHJlYWRVaW50OEFycmF5ID0gKGRlY29kZXIsIGxlbikgPT4ge1xuICBjb25zdCB2aWV3ID0gYnVmZmVyLmNyZWF0ZVVpbnQ4QXJyYXlWaWV3RnJvbUFycmF5QnVmZmVyKGRlY29kZXIuYXJyLmJ1ZmZlciwgZGVjb2Rlci5wb3MgKyBkZWNvZGVyLmFyci5ieXRlT2Zmc2V0LCBsZW4pXG4gIGRlY29kZXIucG9zICs9IGxlblxuICByZXR1cm4gdmlld1xufVxuXG4vKipcbiAqIFJlYWQgdmFyaWFibGUgbGVuZ3RoIFVpbnQ4QXJyYXkuXG4gKlxuICogSW1wb3J0YW50OiBUaGUgVWludDhBcnJheSBzdGlsbCBwb2ludHMgdG8gdGhlIHVuZGVybHlpbmcgQXJyYXlCdWZmZXIuIE1ha2Ugc3VyZSB0byBkaXNjYXJkIHRoZSByZXN1bHQgYXMgc29vbiBhcyBwb3NzaWJsZSB0byBwcmV2ZW50IGFueSBtZW1vcnkgbGVha3MuXG4gKiAgICAgICAgICAgIFVzZSBgYnVmZmVyLmNvcHlVaW50OEFycmF5YCB0byBjb3B5IHRoZSByZXN1bHQgaW50byBhIG5ldyBVaW50OEFycmF5LlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtEZWNvZGVyfSBkZWNvZGVyXG4gKiBAcmV0dXJuIHtVaW50OEFycmF5fVxuICovXG5leHBvcnQgY29uc3QgcmVhZFZhclVpbnQ4QXJyYXkgPSBkZWNvZGVyID0+IHJlYWRVaW50OEFycmF5KGRlY29kZXIsIHJlYWRWYXJVaW50KGRlY29kZXIpKVxuXG4vKipcbiAqIFJlYWQgdGhlIHJlc3Qgb2YgdGhlIGNvbnRlbnQgYXMgYW4gQXJyYXlCdWZmZXJcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtEZWNvZGVyfSBkZWNvZGVyXG4gKiBAcmV0dXJuIHtVaW50OEFycmF5fVxuICovXG5leHBvcnQgY29uc3QgcmVhZFRhaWxBc1VpbnQ4QXJyYXkgPSBkZWNvZGVyID0+IHJlYWRVaW50OEFycmF5KGRlY29kZXIsIGRlY29kZXIuYXJyLmxlbmd0aCAtIGRlY29kZXIucG9zKVxuXG4vKipcbiAqIFNraXAgb25lIGJ5dGUsIGp1bXAgdG8gdGhlIG5leHQgcG9zaXRpb24uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7RGVjb2Rlcn0gZGVjb2RlciBUaGUgZGVjb2RlciBpbnN0YW5jZVxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbmV4dCBwb3NpdGlvblxuICovXG5leHBvcnQgY29uc3Qgc2tpcDggPSBkZWNvZGVyID0+IGRlY29kZXIucG9zKytcblxuLyoqXG4gKiBSZWFkIG9uZSBieXRlIGFzIHVuc2lnbmVkIGludGVnZXIuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7RGVjb2Rlcn0gZGVjb2RlciBUaGUgZGVjb2RlciBpbnN0YW5jZVxuICogQHJldHVybiB7bnVtYmVyfSBVbnNpZ25lZCA4LWJpdCBpbnRlZ2VyXG4gKi9cbmV4cG9ydCBjb25zdCByZWFkVWludDggPSBkZWNvZGVyID0+IGRlY29kZXIuYXJyW2RlY29kZXIucG9zKytdXG5cbi8qKlxuICogUmVhZCAyIGJ5dGVzIGFzIHVuc2lnbmVkIGludGVnZXIuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0RlY29kZXJ9IGRlY29kZXJcbiAqIEByZXR1cm4ge251bWJlcn0gQW4gdW5zaWduZWQgaW50ZWdlci5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlYWRVaW50MTYgPSBkZWNvZGVyID0+IHtcbiAgY29uc3QgdWludCA9XG4gICAgZGVjb2Rlci5hcnJbZGVjb2Rlci5wb3NdICtcbiAgICAoZGVjb2Rlci5hcnJbZGVjb2Rlci5wb3MgKyAxXSA8PCA4KVxuICBkZWNvZGVyLnBvcyArPSAyXG4gIHJldHVybiB1aW50XG59XG5cbi8qKlxuICogUmVhZCA0IGJ5dGVzIGFzIHVuc2lnbmVkIGludGVnZXIuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0RlY29kZXJ9IGRlY29kZXJcbiAqIEByZXR1cm4ge251bWJlcn0gQW4gdW5zaWduZWQgaW50ZWdlci5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlYWRVaW50MzIgPSBkZWNvZGVyID0+IHtcbiAgY29uc3QgdWludCA9XG4gICAgKGRlY29kZXIuYXJyW2RlY29kZXIucG9zXSArXG4gICAgKGRlY29kZXIuYXJyW2RlY29kZXIucG9zICsgMV0gPDwgOCkgK1xuICAgIChkZWNvZGVyLmFycltkZWNvZGVyLnBvcyArIDJdIDw8IDE2KSArXG4gICAgKGRlY29kZXIuYXJyW2RlY29kZXIucG9zICsgM10gPDwgMjQpKSA+Pj4gMFxuICBkZWNvZGVyLnBvcyArPSA0XG4gIHJldHVybiB1aW50XG59XG5cbi8qKlxuICogUmVhZCA0IGJ5dGVzIGFzIHVuc2lnbmVkIGludGVnZXIgaW4gYmlnIGVuZGlhbiBvcmRlci5cbiAqIChtb3N0IHNpZ25pZmljYW50IGJ5dGUgZmlyc3QpXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0RlY29kZXJ9IGRlY29kZXJcbiAqIEByZXR1cm4ge251bWJlcn0gQW4gdW5zaWduZWQgaW50ZWdlci5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlYWRVaW50MzJCaWdFbmRpYW4gPSBkZWNvZGVyID0+IHtcbiAgY29uc3QgdWludCA9XG4gICAgKGRlY29kZXIuYXJyW2RlY29kZXIucG9zICsgM10gK1xuICAgIChkZWNvZGVyLmFycltkZWNvZGVyLnBvcyArIDJdIDw8IDgpICtcbiAgICAoZGVjb2Rlci5hcnJbZGVjb2Rlci5wb3MgKyAxXSA8PCAxNikgK1xuICAgIChkZWNvZGVyLmFycltkZWNvZGVyLnBvc10gPDwgMjQpKSA+Pj4gMFxuICBkZWNvZGVyLnBvcyArPSA0XG4gIHJldHVybiB1aW50XG59XG5cbi8qKlxuICogTG9vayBhaGVhZCB3aXRob3V0IGluY3JlbWVudGluZyB0aGUgcG9zaXRpb25cbiAqIHRvIHRoZSBuZXh0IGJ5dGUgYW5kIHJlYWQgaXQgYXMgdW5zaWduZWQgaW50ZWdlci5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7RGVjb2Rlcn0gZGVjb2RlclxuICogQHJldHVybiB7bnVtYmVyfSBBbiB1bnNpZ25lZCBpbnRlZ2VyLlxuICovXG5leHBvcnQgY29uc3QgcGVla1VpbnQ4ID0gZGVjb2RlciA9PiBkZWNvZGVyLmFycltkZWNvZGVyLnBvc11cblxuLyoqXG4gKiBMb29rIGFoZWFkIHdpdGhvdXQgaW5jcmVtZW50aW5nIHRoZSBwb3NpdGlvblxuICogdG8gdGhlIG5leHQgYnl0ZSBhbmQgcmVhZCBpdCBhcyB1bnNpZ25lZCBpbnRlZ2VyLlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtEZWNvZGVyfSBkZWNvZGVyXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEFuIHVuc2lnbmVkIGludGVnZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBwZWVrVWludDE2ID0gZGVjb2RlciA9PlxuICBkZWNvZGVyLmFycltkZWNvZGVyLnBvc10gK1xuICAoZGVjb2Rlci5hcnJbZGVjb2Rlci5wb3MgKyAxXSA8PCA4KVxuXG4vKipcbiAqIExvb2sgYWhlYWQgd2l0aG91dCBpbmNyZW1lbnRpbmcgdGhlIHBvc2l0aW9uXG4gKiB0byB0aGUgbmV4dCBieXRlIGFuZCByZWFkIGl0IGFzIHVuc2lnbmVkIGludGVnZXIuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0RlY29kZXJ9IGRlY29kZXJcbiAqIEByZXR1cm4ge251bWJlcn0gQW4gdW5zaWduZWQgaW50ZWdlci5cbiAqL1xuZXhwb3J0IGNvbnN0IHBlZWtVaW50MzIgPSBkZWNvZGVyID0+IChcbiAgZGVjb2Rlci5hcnJbZGVjb2Rlci5wb3NdICtcbiAgKGRlY29kZXIuYXJyW2RlY29kZXIucG9zICsgMV0gPDwgOCkgK1xuICAoZGVjb2Rlci5hcnJbZGVjb2Rlci5wb3MgKyAyXSA8PCAxNikgK1xuICAoZGVjb2Rlci5hcnJbZGVjb2Rlci5wb3MgKyAzXSA8PCAyNClcbikgPj4+IDBcblxuLyoqXG4gKiBSZWFkIHVuc2lnbmVkIGludGVnZXIgKDMyYml0KSB3aXRoIHZhcmlhYmxlIGxlbmd0aC5cbiAqIDEvOHRoIG9mIHRoZSBzdG9yYWdlIGlzIHVzZWQgYXMgZW5jb2Rpbmcgb3ZlcmhlYWQuXG4gKiAgKiBudW1iZXJzIDwgMl43IGlzIHN0b3JlZCBpbiBvbmUgYnl0bGVuZ3RoXG4gKiAgKiBudW1iZXJzIDwgMl4xNCBpcyBzdG9yZWQgaW4gdHdvIGJ5bGVuZ3RoXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0RlY29kZXJ9IGRlY29kZXJcbiAqIEByZXR1cm4ge251bWJlcn0gQW4gdW5zaWduZWQgaW50ZWdlci5sZW5ndGhcbiAqL1xuZXhwb3J0IGNvbnN0IHJlYWRWYXJVaW50ID0gZGVjb2RlciA9PiB7XG4gIGxldCBudW0gPSAwXG4gIGxldCBsZW4gPSAwXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgY29uc3QgciA9IGRlY29kZXIuYXJyW2RlY29kZXIucG9zKytdXG4gICAgbnVtID0gbnVtIHwgKChyICYgYmluYXJ5LkJJVFM3KSA8PCBsZW4pXG4gICAgbGVuICs9IDdcbiAgICBpZiAociA8IGJpbmFyeS5CSVQ4KSB7XG4gICAgICByZXR1cm4gbnVtID4+PiAwIC8vIHJldHVybiB1bnNpZ25lZCBudW1iZXIhXG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChsZW4gPiA1Mykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnRlZ2VyIG91dCBvZiByYW5nZSEnKVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFJlYWQgc2lnbmVkIGludGVnZXIgKDMyYml0KSB3aXRoIHZhcmlhYmxlIGxlbmd0aC5cbiAqIDEvOHRoIG9mIHRoZSBzdG9yYWdlIGlzIHVzZWQgYXMgZW5jb2Rpbmcgb3ZlcmhlYWQuXG4gKiAgKiBudW1iZXJzIDwgMl43IGlzIHN0b3JlZCBpbiBvbmUgYnl0bGVuZ3RoXG4gKiAgKiBudW1iZXJzIDwgMl4xNCBpcyBzdG9yZWQgaW4gdHdvIGJ5bGVuZ3RoXG4gKiBAdG9kbyBUaGlzIHNob3VsZCBwcm9iYWJseSBjcmVhdGUgdGhlIGludmVyc2Ugfm51bSBpZiBudW1iZXIgaXMgbmVnYXRpdmUgLSBidXQgdGhpcyB3b3VsZCBiZSBhIGJyZWFraW5nIGNoYW5nZS5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7RGVjb2Rlcn0gZGVjb2RlclxuICogQHJldHVybiB7bnVtYmVyfSBBbiB1bnNpZ25lZCBpbnRlZ2VyLmxlbmd0aFxuICovXG5leHBvcnQgY29uc3QgcmVhZFZhckludCA9IGRlY29kZXIgPT4ge1xuICBsZXQgciA9IGRlY29kZXIuYXJyW2RlY29kZXIucG9zKytdXG4gIGxldCBudW0gPSByICYgYmluYXJ5LkJJVFM2XG4gIGxldCBsZW4gPSA2XG4gIGNvbnN0IHNpZ24gPSAociAmIGJpbmFyeS5CSVQ3KSA+IDAgPyAtMSA6IDFcbiAgaWYgKChyICYgYmluYXJ5LkJJVDgpID09PSAwKSB7XG4gICAgLy8gZG9uJ3QgY29udGludWUgcmVhZGluZ1xuICAgIHJldHVybiBzaWduICogbnVtXG4gIH1cbiAgd2hpbGUgKHRydWUpIHtcbiAgICByID0gZGVjb2Rlci5hcnJbZGVjb2Rlci5wb3MrK11cbiAgICBudW0gPSBudW0gfCAoKHIgJiBiaW5hcnkuQklUUzcpIDw8IGxlbilcbiAgICBsZW4gKz0gN1xuICAgIGlmIChyIDwgYmluYXJ5LkJJVDgpIHtcbiAgICAgIHJldHVybiBzaWduICogKG51bSA+Pj4gMClcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGxlbiA+IDUzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludGVnZXIgb3V0IG9mIHJhbmdlIScpXG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogTG9vayBhaGVhZCBhbmQgcmVhZCB2YXJVaW50IHdpdGhvdXQgaW5jcmVtZW50aW5nIHBvc2l0aW9uXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0RlY29kZXJ9IGRlY29kZXJcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZXhwb3J0IGNvbnN0IHBlZWtWYXJVaW50ID0gZGVjb2RlciA9PiB7XG4gIGNvbnN0IHBvcyA9IGRlY29kZXIucG9zXG4gIGNvbnN0IHMgPSByZWFkVmFyVWludChkZWNvZGVyKVxuICBkZWNvZGVyLnBvcyA9IHBvc1xuICByZXR1cm4gc1xufVxuXG4vKipcbiAqIExvb2sgYWhlYWQgYW5kIHJlYWQgdmFyVWludCB3aXRob3V0IGluY3JlbWVudGluZyBwb3NpdGlvblxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtEZWNvZGVyfSBkZWNvZGVyXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBwZWVrVmFySW50ID0gZGVjb2RlciA9PiB7XG4gIGNvbnN0IHBvcyA9IGRlY29kZXIucG9zXG4gIGNvbnN0IHMgPSByZWFkVmFySW50KGRlY29kZXIpXG4gIGRlY29kZXIucG9zID0gcG9zXG4gIHJldHVybiBzXG59XG5cbi8qKlxuICogUmVhZCBzdHJpbmcgb2YgdmFyaWFibGUgbGVuZ3RoXG4gKiAqIHZhclVpbnQgaXMgdXNlZCB0byBzdG9yZSB0aGUgbGVuZ3RoIG9mIHRoZSBzdHJpbmdcbiAqXG4gKiBUcmFuc2Zvcm1pbmcgdXRmOCB0byBhIHN0cmluZyBpcyBwcmV0dHkgZXhwZW5zaXZlLiBUaGUgY29kZSBwZXJmb3JtcyAxMHggYmV0dGVyXG4gKiB3aGVuIFN0cmluZy5mcm9tQ29kZVBvaW50IGlzIGZlZCB3aXRoIGFsbCBjaGFyYWN0ZXJzIGFzIGFyZ3VtZW50cy5cbiAqIEJ1dCBtb3N0IGVudmlyb25tZW50cyBoYXZlIGEgbWF4aW11bSBudW1iZXIgb2YgYXJndW1lbnRzIHBlciBmdW5jdGlvbnMuXG4gKiBGb3IgZWZmaWVuY3kgcmVhc29ucyB3ZSBhcHBseSBhIG1heGltdW0gb2YgMTAwMDAgY2hhcmFjdGVycyBhdCBvbmNlLlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtEZWNvZGVyfSBkZWNvZGVyXG4gKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSByZWFkIFN0cmluZy5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlYWRWYXJTdHJpbmcgPSBkZWNvZGVyID0+IHtcbiAgbGV0IHJlbWFpbmluZ0xlbiA9IHJlYWRWYXJVaW50KGRlY29kZXIpXG4gIGlmIChyZW1haW5pbmdMZW4gPT09IDApIHtcbiAgICByZXR1cm4gJydcbiAgfSBlbHNlIHtcbiAgICBsZXQgZW5jb2RlZFN0cmluZyA9IFN0cmluZy5mcm9tQ29kZVBvaW50KHJlYWRVaW50OChkZWNvZGVyKSkgLy8gcmVtZW1iZXIgdG8gZGVjcmVhc2UgcmVtYWluaW5nTGVuXG4gICAgaWYgKC0tcmVtYWluaW5nTGVuIDwgMTAwKSB7IC8vIGRvIG5vdCBjcmVhdGUgYSBVaW50OEFycmF5IGZvciBzbWFsbCBzdHJpbmdzXG4gICAgICB3aGlsZSAocmVtYWluaW5nTGVuLS0pIHtcbiAgICAgICAgZW5jb2RlZFN0cmluZyArPSBTdHJpbmcuZnJvbUNvZGVQb2ludChyZWFkVWludDgoZGVjb2RlcikpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHdoaWxlIChyZW1haW5pbmdMZW4gPiAwKSB7XG4gICAgICAgIGNvbnN0IG5leHRMZW4gPSByZW1haW5pbmdMZW4gPCAxMDAwMCA/IHJlbWFpbmluZ0xlbiA6IDEwMDAwXG4gICAgICAgIC8vIHRoaXMgaXMgZGFuZ2Vyb3VzLCB3ZSBjcmVhdGUgYSBmcmVzaCBhcnJheSB2aWV3IGZyb20gdGhlIGV4aXN0aW5nIGJ1ZmZlclxuICAgICAgICBjb25zdCBieXRlcyA9IGRlY29kZXIuYXJyLnN1YmFycmF5KGRlY29kZXIucG9zLCBkZWNvZGVyLnBvcyArIG5leHRMZW4pXG4gICAgICAgIGRlY29kZXIucG9zICs9IG5leHRMZW5cbiAgICAgICAgLy8gU3RhcnRpbmcgd2l0aCBFUzUuMSB3ZSBjYW4gc3VwcGx5IGEgZ2VuZXJpYyBhcnJheS1saWtlIG9iamVjdCBhcyBhcmd1bWVudHNcbiAgICAgICAgZW5jb2RlZFN0cmluZyArPSBTdHJpbmcuZnJvbUNvZGVQb2ludC5hcHBseShudWxsLCAvKiogQHR5cGUge2FueX0gKi8gKGJ5dGVzKSlcbiAgICAgICAgcmVtYWluaW5nTGVuIC09IG5leHRMZW5cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoZW5jb2RlZFN0cmluZykpXG4gIH1cbn1cblxuLyoqXG4gKiBMb29rIGFoZWFkIGFuZCByZWFkIHZhclN0cmluZyB3aXRob3V0IGluY3JlbWVudGluZyBwb3NpdGlvblxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtEZWNvZGVyfSBkZWNvZGVyXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBwZWVrVmFyU3RyaW5nID0gZGVjb2RlciA9PiB7XG4gIGNvbnN0IHBvcyA9IGRlY29kZXIucG9zXG4gIGNvbnN0IHMgPSByZWFkVmFyU3RyaW5nKGRlY29kZXIpXG4gIGRlY29kZXIucG9zID0gcG9zXG4gIHJldHVybiBzXG59XG5cbi8qKlxuICogQHBhcmFtIHtEZWNvZGVyfSBkZWNvZGVyXG4gKiBAcGFyYW0ge251bWJlcn0gbGVuXG4gKiBAcmV0dXJuIHtEYXRhVmlld31cbiAqL1xuZXhwb3J0IGNvbnN0IHJlYWRGcm9tRGF0YVZpZXcgPSAoZGVjb2RlciwgbGVuKSA9PiB7XG4gIGNvbnN0IGR2ID0gbmV3IERhdGFWaWV3KGRlY29kZXIuYXJyLmJ1ZmZlciwgZGVjb2Rlci5hcnIuYnl0ZU9mZnNldCArIGRlY29kZXIucG9zLCBsZW4pXG4gIGRlY29kZXIucG9zICs9IGxlblxuICByZXR1cm4gZHZcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0RlY29kZXJ9IGRlY29kZXJcbiAqL1xuZXhwb3J0IGNvbnN0IHJlYWRGbG9hdDMyID0gZGVjb2RlciA9PiByZWFkRnJvbURhdGFWaWV3KGRlY29kZXIsIDQpLmdldEZsb2F0MzIoMCwgZmFsc2UpXG5cbi8qKlxuICogQHBhcmFtIHtEZWNvZGVyfSBkZWNvZGVyXG4gKi9cbmV4cG9ydCBjb25zdCByZWFkRmxvYXQ2NCA9IGRlY29kZXIgPT4gcmVhZEZyb21EYXRhVmlldyhkZWNvZGVyLCA4KS5nZXRGbG9hdDY0KDAsIGZhbHNlKVxuXG4vKipcbiAqIEBwYXJhbSB7RGVjb2Rlcn0gZGVjb2RlclxuICovXG5leHBvcnQgY29uc3QgcmVhZEJpZ0ludDY0ID0gZGVjb2RlciA9PiAvKiogQHR5cGUge2FueX0gKi8gKHJlYWRGcm9tRGF0YVZpZXcoZGVjb2RlciwgOCkpLmdldEJpZ0ludDY0KDAsIGZhbHNlKVxuXG4vKipcbiAqIEBwYXJhbSB7RGVjb2Rlcn0gZGVjb2RlclxuICovXG5leHBvcnQgY29uc3QgcmVhZEJpZ1VpbnQ2NCA9IGRlY29kZXIgPT4gLyoqIEB0eXBlIHthbnl9ICovIChyZWFkRnJvbURhdGFWaWV3KGRlY29kZXIsIDgpKS5nZXRCaWdVaW50NjQoMCwgZmFsc2UpXG5cbi8qKlxuICogQHR5cGUge0FycmF5PGZ1bmN0aW9uKERlY29kZXIpOmFueT59XG4gKi9cbmNvbnN0IHJlYWRBbnlMb29rdXBUYWJsZSA9IFtcbiAgZGVjb2RlciA9PiB1bmRlZmluZWQsIC8vIENBU0UgMTI3OiB1bmRlZmluZWRcbiAgZGVjb2RlciA9PiBudWxsLCAvLyBDQVNFIDEyNjogbnVsbFxuICByZWFkVmFySW50LCAvLyBDQVNFIDEyNTogaW50ZWdlclxuICByZWFkRmxvYXQzMiwgLy8gQ0FTRSAxMjQ6IGZsb2F0MzJcbiAgcmVhZEZsb2F0NjQsIC8vIENBU0UgMTIzOiBmbG9hdDY0XG4gIHJlYWRCaWdJbnQ2NCwgLy8gQ0FTRSAxMjI6IGJpZ2ludFxuICBkZWNvZGVyID0+IGZhbHNlLCAvLyBDQVNFIDEyMTogYm9vbGVhbiAoZmFsc2UpXG4gIGRlY29kZXIgPT4gdHJ1ZSwgLy8gQ0FTRSAxMjA6IGJvb2xlYW4gKHRydWUpXG4gIHJlYWRWYXJTdHJpbmcsIC8vIENBU0UgMTE5OiBzdHJpbmdcbiAgZGVjb2RlciA9PiB7IC8vIENBU0UgMTE4OiBvYmplY3Q8c3RyaW5nLGFueT5cbiAgICBjb25zdCBsZW4gPSByZWFkVmFyVWludChkZWNvZGVyKVxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLGFueT59XG4gICAgICovXG4gICAgY29uc3Qgb2JqID0ge31cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjb25zdCBrZXkgPSByZWFkVmFyU3RyaW5nKGRlY29kZXIpXG4gICAgICBvYmpba2V5XSA9IHJlYWRBbnkoZGVjb2RlcilcbiAgICB9XG4gICAgcmV0dXJuIG9ialxuICB9LFxuICBkZWNvZGVyID0+IHsgLy8gQ0FTRSAxMTc6IGFycmF5PGFueT5cbiAgICBjb25zdCBsZW4gPSByZWFkVmFyVWludChkZWNvZGVyKVxuICAgIGNvbnN0IGFyciA9IFtdXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgYXJyLnB1c2gocmVhZEFueShkZWNvZGVyKSlcbiAgICB9XG4gICAgcmV0dXJuIGFyclxuICB9LFxuICByZWFkVmFyVWludDhBcnJheSAvLyBDQVNFIDExNjogVWludDhBcnJheVxuXVxuXG4vKipcbiAqIEBwYXJhbSB7RGVjb2Rlcn0gZGVjb2RlclxuICovXG5leHBvcnQgY29uc3QgcmVhZEFueSA9IGRlY29kZXIgPT4gcmVhZEFueUxvb2t1cFRhYmxlWzEyNyAtIHJlYWRVaW50OChkZWNvZGVyKV0oZGVjb2RlcilcblxuLyoqXG4gKiBUIG11c3Qgbm90IGJlIG51bGwuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqL1xuZXhwb3J0IGNsYXNzIFJsZURlY29kZXIgZXh0ZW5kcyBEZWNvZGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7VWludDhBcnJheX0gdWludDhBcnJheVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKERlY29kZXIpOlR9IHJlYWRlclxuICAgKi9cbiAgY29uc3RydWN0b3IgKHVpbnQ4QXJyYXksIHJlYWRlcikge1xuICAgIHN1cGVyKHVpbnQ4QXJyYXkpXG4gICAgLyoqXG4gICAgICogVGhlIHJlYWRlclxuICAgICAqL1xuICAgIHRoaXMucmVhZGVyID0gcmVhZGVyXG4gICAgLyoqXG4gICAgICogQ3VycmVudCBzdGF0ZVxuICAgICAqIEB0eXBlIHtUfG51bGx9XG4gICAgICovXG4gICAgdGhpcy5zID0gbnVsbFxuICAgIHRoaXMuY291bnQgPSAwXG4gIH1cblxuICByZWFkICgpIHtcbiAgICBpZiAodGhpcy5jb3VudCA9PT0gMCkge1xuICAgICAgdGhpcy5zID0gdGhpcy5yZWFkZXIodGhpcylcbiAgICAgIGlmIChoYXNDb250ZW50KHRoaXMpKSB7XG4gICAgICAgIHRoaXMuY291bnQgPSByZWFkVmFyVWludCh0aGlzKSArIDEgLy8gc2VlIGVuY29kZXIgaW1wbGVtZW50YXRpb24gZm9yIHRoZSByZWFzb24gd2h5IHRoaXMgaXMgaW5jcmVtZW50ZWRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY291bnQgPSAtMSAvLyByZWFkIHRoZSBjdXJyZW50IHZhbHVlIGZvcmV2ZXJcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5jb3VudC0tXG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7VH0gKi8gKHRoaXMucylcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSW50RGlmZkRlY29kZXIgZXh0ZW5kcyBEZWNvZGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7VWludDhBcnJheX0gdWludDhBcnJheVxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRcbiAgICovXG4gIGNvbnN0cnVjdG9yICh1aW50OEFycmF5LCBzdGFydCkge1xuICAgIHN1cGVyKHVpbnQ4QXJyYXkpXG4gICAgLyoqXG4gICAgICogQ3VycmVudCBzdGF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5zID0gc3RhcnRcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqL1xuICByZWFkICgpIHtcbiAgICB0aGlzLnMgKz0gcmVhZFZhckludCh0aGlzKVxuICAgIHJldHVybiB0aGlzLnNcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmxlSW50RGlmZkRlY29kZXIgZXh0ZW5kcyBEZWNvZGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7VWludDhBcnJheX0gdWludDhBcnJheVxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRcbiAgICovXG4gIGNvbnN0cnVjdG9yICh1aW50OEFycmF5LCBzdGFydCkge1xuICAgIHN1cGVyKHVpbnQ4QXJyYXkpXG4gICAgLyoqXG4gICAgICogQ3VycmVudCBzdGF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5zID0gc3RhcnRcbiAgICB0aGlzLmNvdW50ID0gMFxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIHJlYWQgKCkge1xuICAgIGlmICh0aGlzLmNvdW50ID09PSAwKSB7XG4gICAgICB0aGlzLnMgKz0gcmVhZFZhckludCh0aGlzKVxuICAgICAgaWYgKGhhc0NvbnRlbnQodGhpcykpIHtcbiAgICAgICAgdGhpcy5jb3VudCA9IHJlYWRWYXJVaW50KHRoaXMpICsgMSAvLyBzZWUgZW5jb2RlciBpbXBsZW1lbnRhdGlvbiBmb3IgdGhlIHJlYXNvbiB3aHkgdGhpcyBpcyBpbmNyZW1lbnRlZFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jb3VudCA9IC0xIC8vIHJlYWQgdGhlIGN1cnJlbnQgdmFsdWUgZm9yZXZlclxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmNvdW50LS1cbiAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLnMpXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVpbnRPcHRSbGVEZWNvZGVyIGV4dGVuZHMgRGVjb2RlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IHVpbnQ4QXJyYXlcbiAgICovXG4gIGNvbnN0cnVjdG9yICh1aW50OEFycmF5KSB7XG4gICAgc3VwZXIodWludDhBcnJheSlcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucyA9IDBcbiAgICB0aGlzLmNvdW50ID0gMFxuICB9XG5cbiAgcmVhZCAoKSB7XG4gICAgaWYgKHRoaXMuY291bnQgPT09IDApIHtcbiAgICAgIHRoaXMucyA9IHJlYWRWYXJJbnQodGhpcylcbiAgICAgIC8vIGlmIHRoZSBzaWduIGlzIG5lZ2F0aXZlLCB3ZSByZWFkIHRoZSBjb3VudCB0b28sIG90aGVyd2lzZSBjb3VudCBpcyAxXG4gICAgICBjb25zdCBpc05lZ2F0aXZlID0gbWF0aC5pc05lZ2F0aXZlWmVybyh0aGlzLnMpXG4gICAgICB0aGlzLmNvdW50ID0gMVxuICAgICAgaWYgKGlzTmVnYXRpdmUpIHtcbiAgICAgICAgdGhpcy5zID0gLXRoaXMuc1xuICAgICAgICB0aGlzLmNvdW50ID0gcmVhZFZhclVpbnQodGhpcykgKyAyXG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuY291bnQtLVxuICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMucylcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSW5jVWludE9wdFJsZURlY29kZXIgZXh0ZW5kcyBEZWNvZGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7VWludDhBcnJheX0gdWludDhBcnJheVxuICAgKi9cbiAgY29uc3RydWN0b3IgKHVpbnQ4QXJyYXkpIHtcbiAgICBzdXBlcih1aW50OEFycmF5KVxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5zID0gMFxuICAgIHRoaXMuY291bnQgPSAwXG4gIH1cblxuICByZWFkICgpIHtcbiAgICBpZiAodGhpcy5jb3VudCA9PT0gMCkge1xuICAgICAgdGhpcy5zID0gcmVhZFZhckludCh0aGlzKVxuICAgICAgLy8gaWYgdGhlIHNpZ24gaXMgbmVnYXRpdmUsIHdlIHJlYWQgdGhlIGNvdW50IHRvbywgb3RoZXJ3aXNlIGNvdW50IGlzIDFcbiAgICAgIGNvbnN0IGlzTmVnYXRpdmUgPSBtYXRoLmlzTmVnYXRpdmVaZXJvKHRoaXMucylcbiAgICAgIHRoaXMuY291bnQgPSAxXG4gICAgICBpZiAoaXNOZWdhdGl2ZSkge1xuICAgICAgICB0aGlzLnMgPSAtdGhpcy5zXG4gICAgICAgIHRoaXMuY291bnQgPSByZWFkVmFyVWludCh0aGlzKSArIDJcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5jb3VudC0tXG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5zKyspXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEludERpZmZPcHRSbGVEZWNvZGVyIGV4dGVuZHMgRGVjb2RlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IHVpbnQ4QXJyYXlcbiAgICovXG4gIGNvbnN0cnVjdG9yICh1aW50OEFycmF5KSB7XG4gICAgc3VwZXIodWludDhBcnJheSlcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucyA9IDBcbiAgICB0aGlzLmNvdW50ID0gMFxuICAgIHRoaXMuZGlmZiA9IDBcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqL1xuICByZWFkICgpIHtcbiAgICBpZiAodGhpcy5jb3VudCA9PT0gMCkge1xuICAgICAgY29uc3QgZGlmZiA9IHJlYWRWYXJJbnQodGhpcylcbiAgICAgIC8vIGlmIHRoZSBmaXJzdCBiaXQgaXMgc2V0LCB3ZSByZWFkIG1vcmUgZGF0YVxuICAgICAgY29uc3QgaGFzQ291bnQgPSBkaWZmICYgMVxuICAgICAgdGhpcy5kaWZmID0gZGlmZiA+PiAxXG4gICAgICB0aGlzLmNvdW50ID0gMVxuICAgICAgaWYgKGhhc0NvdW50KSB7XG4gICAgICAgIHRoaXMuY291bnQgPSByZWFkVmFyVWludCh0aGlzKSArIDJcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5zICs9IHRoaXMuZGlmZlxuICAgIHRoaXMuY291bnQtLVxuICAgIHJldHVybiB0aGlzLnNcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3RyaW5nRGVjb2RlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IHVpbnQ4QXJyYXlcbiAgICovXG4gIGNvbnN0cnVjdG9yICh1aW50OEFycmF5KSB7XG4gICAgdGhpcy5kZWNvZGVyID0gbmV3IFVpbnRPcHRSbGVEZWNvZGVyKHVpbnQ4QXJyYXkpXG4gICAgdGhpcy5zdHIgPSByZWFkVmFyU3RyaW5nKHRoaXMuZGVjb2RlcilcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuc3BvcyA9IDBcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICByZWFkICgpIHtcbiAgICBjb25zdCBlbmQgPSB0aGlzLnNwb3MgKyB0aGlzLmRlY29kZXIucmVhZCgpXG4gICAgY29uc3QgcmVzID0gdGhpcy5zdHIuc2xpY2UodGhpcy5zcG9zLCBlbmQpXG4gICAgdGhpcy5zcG9zID0gZW5kXG4gICAgcmV0dXJuIHJlc1xuICB9XG59XG4iLCIvKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cblxuLyoqXG4gKiBCaW5hcnkgZGF0YSBjb25zdGFudHMuXG4gKlxuICogQG1vZHVsZSBiaW5hcnlcbiAqL1xuXG4vKipcbiAqIG4tdGggYml0IGFjdGl2YXRlZC5cbiAqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgQklUMSA9IDFcbmV4cG9ydCBjb25zdCBCSVQyID0gMlxuZXhwb3J0IGNvbnN0IEJJVDMgPSA0XG5leHBvcnQgY29uc3QgQklUNCA9IDhcbmV4cG9ydCBjb25zdCBCSVQ1ID0gMTZcbmV4cG9ydCBjb25zdCBCSVQ2ID0gMzJcbmV4cG9ydCBjb25zdCBCSVQ3ID0gNjRcbmV4cG9ydCBjb25zdCBCSVQ4ID0gMTI4XG5leHBvcnQgY29uc3QgQklUOSA9IDI1NlxuZXhwb3J0IGNvbnN0IEJJVDEwID0gNTEyXG5leHBvcnQgY29uc3QgQklUMTEgPSAxMDI0XG5leHBvcnQgY29uc3QgQklUMTIgPSAyMDQ4XG5leHBvcnQgY29uc3QgQklUMTMgPSA0MDk2XG5leHBvcnQgY29uc3QgQklUMTQgPSA4MTkyXG5leHBvcnQgY29uc3QgQklUMTUgPSAxNjM4NFxuZXhwb3J0IGNvbnN0IEJJVDE2ID0gMzI3NjhcbmV4cG9ydCBjb25zdCBCSVQxNyA9IDY1NTM2XG5leHBvcnQgY29uc3QgQklUMTggPSAxIDw8IDE3XG5leHBvcnQgY29uc3QgQklUMTkgPSAxIDw8IDE4XG5leHBvcnQgY29uc3QgQklUMjAgPSAxIDw8IDE5XG5leHBvcnQgY29uc3QgQklUMjEgPSAxIDw8IDIwXG5leHBvcnQgY29uc3QgQklUMjIgPSAxIDw8IDIxXG5leHBvcnQgY29uc3QgQklUMjMgPSAxIDw8IDIyXG5leHBvcnQgY29uc3QgQklUMjQgPSAxIDw8IDIzXG5leHBvcnQgY29uc3QgQklUMjUgPSAxIDw8IDI0XG5leHBvcnQgY29uc3QgQklUMjYgPSAxIDw8IDI1XG5leHBvcnQgY29uc3QgQklUMjcgPSAxIDw8IDI2XG5leHBvcnQgY29uc3QgQklUMjggPSAxIDw8IDI3XG5leHBvcnQgY29uc3QgQklUMjkgPSAxIDw8IDI4XG5leHBvcnQgY29uc3QgQklUMzAgPSAxIDw8IDI5XG5leHBvcnQgY29uc3QgQklUMzEgPSAxIDw8IDMwXG5leHBvcnQgY29uc3QgQklUMzIgPSAxIDw8IDMxXG5cbi8qKlxuICogRmlyc3QgbiBiaXRzIGFjdGl2YXRlZC5cbiAqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgQklUUzAgPSAwXG5leHBvcnQgY29uc3QgQklUUzEgPSAxXG5leHBvcnQgY29uc3QgQklUUzIgPSAzXG5leHBvcnQgY29uc3QgQklUUzMgPSA3XG5leHBvcnQgY29uc3QgQklUUzQgPSAxNVxuZXhwb3J0IGNvbnN0IEJJVFM1ID0gMzFcbmV4cG9ydCBjb25zdCBCSVRTNiA9IDYzXG5leHBvcnQgY29uc3QgQklUUzcgPSAxMjdcbmV4cG9ydCBjb25zdCBCSVRTOCA9IDI1NVxuZXhwb3J0IGNvbnN0IEJJVFM5ID0gNTExXG5leHBvcnQgY29uc3QgQklUUzEwID0gMTAyM1xuZXhwb3J0IGNvbnN0IEJJVFMxMSA9IDIwNDdcbmV4cG9ydCBjb25zdCBCSVRTMTIgPSA0MDk1XG5leHBvcnQgY29uc3QgQklUUzEzID0gODE5MVxuZXhwb3J0IGNvbnN0IEJJVFMxNCA9IDE2MzgzXG5leHBvcnQgY29uc3QgQklUUzE1ID0gMzI3NjdcbmV4cG9ydCBjb25zdCBCSVRTMTYgPSA2NTUzNVxuZXhwb3J0IGNvbnN0IEJJVFMxNyA9IEJJVDE4IC0gMVxuZXhwb3J0IGNvbnN0IEJJVFMxOCA9IEJJVDE5IC0gMVxuZXhwb3J0IGNvbnN0IEJJVFMxOSA9IEJJVDIwIC0gMVxuZXhwb3J0IGNvbnN0IEJJVFMyMCA9IEJJVDIxIC0gMVxuZXhwb3J0IGNvbnN0IEJJVFMyMSA9IEJJVDIyIC0gMVxuZXhwb3J0IGNvbnN0IEJJVFMyMiA9IEJJVDIzIC0gMVxuZXhwb3J0IGNvbnN0IEJJVFMyMyA9IEJJVDI0IC0gMVxuZXhwb3J0IGNvbnN0IEJJVFMyNCA9IEJJVDI1IC0gMVxuZXhwb3J0IGNvbnN0IEJJVFMyNSA9IEJJVDI2IC0gMVxuZXhwb3J0IGNvbnN0IEJJVFMyNiA9IEJJVDI3IC0gMVxuZXhwb3J0IGNvbnN0IEJJVFMyNyA9IEJJVDI4IC0gMVxuZXhwb3J0IGNvbnN0IEJJVFMyOCA9IEJJVDI5IC0gMVxuZXhwb3J0IGNvbnN0IEJJVFMyOSA9IEJJVDMwIC0gMVxuZXhwb3J0IGNvbnN0IEJJVFMzMCA9IEJJVDMxIC0gMVxuLyoqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgQklUUzMxID0gMHg3RkZGRkZGRlxuLyoqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgQklUUzMyID0gMHhGRkZGRkZGRlxuIiwiLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9ucyB0byB3b3JrIHdpdGggYnVmZmVycyAoVWludDhBcnJheSkuXG4gKlxuICogQG1vZHVsZSBidWZmZXJcbiAqL1xuXG5pbXBvcnQgKiBhcyBzdHJpbmcgZnJvbSAnLi9zdHJpbmcuanMnXG5pbXBvcnQgKiBhcyBlbnYgZnJvbSAnLi9lbnZpcm9ubWVudC5qcydcbmltcG9ydCAqIGFzIGVuY29kaW5nIGZyb20gJy4vZW5jb2RpbmcuanMnXG5pbXBvcnQgKiBhcyBkZWNvZGluZyBmcm9tICcuL2RlY29kaW5nLmpzJ1xuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZW5cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVVpbnQ4QXJyYXlGcm9tTGVuID0gbGVuID0+IG5ldyBVaW50OEFycmF5KGxlbilcblxuLyoqXG4gKiBDcmVhdGUgVWludDhBcnJheSB3aXRoIGluaXRpYWwgY29udGVudCBmcm9tIGJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGJ1ZmZlclxuICogQHBhcmFtIHtudW1iZXJ9IGJ5dGVPZmZzZXRcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGhcbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVVpbnQ4QXJyYXlWaWV3RnJvbUFycmF5QnVmZmVyID0gKGJ1ZmZlciwgYnl0ZU9mZnNldCwgbGVuZ3RoKSA9PiBuZXcgVWludDhBcnJheShidWZmZXIsIGJ5dGVPZmZzZXQsIGxlbmd0aClcblxuLyoqXG4gKiBDcmVhdGUgVWludDhBcnJheSB3aXRoIGluaXRpYWwgY29udGVudCBmcm9tIGJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGJ1ZmZlclxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlVWludDhBcnJheUZyb21BcnJheUJ1ZmZlciA9IGJ1ZmZlciA9PiBuZXcgVWludDhBcnJheShidWZmZXIpXG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4vKipcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnl0ZXNcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuY29uc3QgdG9CYXNlNjRCcm93c2VyID0gYnl0ZXMgPT4ge1xuICBsZXQgcyA9ICcnXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMuYnl0ZUxlbmd0aDsgaSsrKSB7XG4gICAgcyArPSBzdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldKVxuICB9XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICByZXR1cm4gYnRvYShzKVxufVxuXG4vKipcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnl0ZXNcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuY29uc3QgdG9CYXNlNjROb2RlID0gYnl0ZXMgPT4gQnVmZmVyLmZyb20oYnl0ZXMuYnVmZmVyLCBieXRlcy5ieXRlT2Zmc2V0LCBieXRlcy5ieXRlTGVuZ3RoKS50b1N0cmluZygnYmFzZTY0JylcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHNcbiAqIEByZXR1cm4ge1VpbnQ4QXJyYXl9XG4gKi9cbmNvbnN0IGZyb21CYXNlNjRCcm93c2VyID0gcyA9PiB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICBjb25zdCBhID0gYXRvYihzKVxuICBjb25zdCBieXRlcyA9IGNyZWF0ZVVpbnQ4QXJyYXlGcm9tTGVuKGEubGVuZ3RoKVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICBieXRlc1tpXSA9IGEuY2hhckNvZGVBdChpKVxuICB9XG4gIHJldHVybiBieXRlc1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzXG4gKi9cbmNvbnN0IGZyb21CYXNlNjROb2RlID0gcyA9PiB7XG4gIGNvbnN0IGJ1ZiA9IEJ1ZmZlci5mcm9tKHMsICdiYXNlNjQnKVxuICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYnVmLmJ1ZmZlciwgYnVmLmJ5dGVPZmZzZXQsIGJ1Zi5ieXRlTGVuZ3RoKVxufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGNvbnN0IHRvQmFzZTY0ID0gZW52LmlzQnJvd3NlciA/IHRvQmFzZTY0QnJvd3NlciA6IHRvQmFzZTY0Tm9kZVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGNvbnN0IGZyb21CYXNlNjQgPSBlbnYuaXNCcm93c2VyID8gZnJvbUJhc2U2NEJyb3dzZXIgOiBmcm9tQmFzZTY0Tm9kZVxuXG4vKipcbiAqIENvcHkgdGhlIGNvbnRlbnQgb2YgYW4gVWludDhBcnJheSB2aWV3IHRvIGEgbmV3IEFycmF5QnVmZmVyLlxuICpcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gdWludDhBcnJheVxuICogQHJldHVybiB7VWludDhBcnJheX1cbiAqL1xuZXhwb3J0IGNvbnN0IGNvcHlVaW50OEFycmF5ID0gdWludDhBcnJheSA9PiB7XG4gIGNvbnN0IG5ld0J1ZiA9IGNyZWF0ZVVpbnQ4QXJyYXlGcm9tTGVuKHVpbnQ4QXJyYXkuYnl0ZUxlbmd0aClcbiAgbmV3QnVmLnNldCh1aW50OEFycmF5KVxuICByZXR1cm4gbmV3QnVmXG59XG5cbi8qKlxuICogRW5jb2RlIGFueXRoaW5nIGFzIGEgVUludDhBcnJheS4gSXQncyBhIHB1biBvbiB0eXBlc2NyaXB0cydzIGBhbnlgIHR5cGUuXG4gKiBTZWUgZW5jb2Rpbmcud3JpdGVBbnkgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogQHBhcmFtIHthbnl9IGRhdGFcbiAqIEByZXR1cm4ge1VpbnQ4QXJyYXl9XG4gKi9cbmV4cG9ydCBjb25zdCBlbmNvZGVBbnkgPSBkYXRhID0+IHtcbiAgY29uc3QgZW5jb2RlciA9IGVuY29kaW5nLmNyZWF0ZUVuY29kZXIoKVxuICBlbmNvZGluZy53cml0ZUFueShlbmNvZGVyLCBkYXRhKVxuICByZXR1cm4gZW5jb2RpbmcudG9VaW50OEFycmF5KGVuY29kZXIpXG59XG5cbi8qKlxuICogRGVjb2RlIGFuIGFueS1lbmNvZGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmXG4gKiBAcmV0dXJuIHthbnl9XG4gKi9cbmV4cG9ydCBjb25zdCBkZWNvZGVBbnkgPSBidWYgPT4gZGVjb2RpbmcucmVhZEFueShkZWNvZGluZy5jcmVhdGVEZWNvZGVyKGJ1ZikpXG4iLCIvKipcbiAqIFV0aWxpdHkgaGVscGVycyBmb3Igd29ya2luZyB3aXRoIG51bWJlcnMuXG4gKlxuICogQG1vZHVsZSBudW1iZXJcbiAqL1xuXG5pbXBvcnQgKiBhcyBtYXRoIGZyb20gJy4vbWF0aC5qcydcbmltcG9ydCAqIGFzIGJpbmFyeSBmcm9tICcuL2JpbmFyeS5qcydcblxuZXhwb3J0IGNvbnN0IE1BWF9TQUZFX0lOVEVHRVIgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUlxuZXhwb3J0IGNvbnN0IE1JTl9TQUZFX0lOVEVHRVIgPSBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUlxuXG5leHBvcnQgY29uc3QgTE9XRVNUX0lOVDMyID0gMSA8PCAzMVxuLyoqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgSElHSEVTVF9JTlQzMiA9IGJpbmFyeS5CSVRTMzFcblxuLyoqXG4gKiBAbW9kdWxlIG51bWJlclxuICovXG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgY29uc3QgaXNJbnRlZ2VyID0gTnVtYmVyLmlzSW50ZWdlciB8fCAobnVtID0+IHR5cGVvZiBudW0gPT09ICdudW1iZXInICYmIGlzRmluaXRlKG51bSkgJiYgbWF0aC5mbG9vcihudW0pID09PSBudW0pXG5leHBvcnQgY29uc3QgaXNOYU4gPSBOdW1iZXIuaXNOYU5cbmV4cG9ydCBjb25zdCBwYXJzZUludCA9IE51bWJlci5wYXJzZUludFxuIiwiLyoqXG4gKiBFZmZpY2llbnQgc2NoZW1hLWxlc3MgYmluYXJ5IGVuY29kaW5nIHdpdGggc3VwcG9ydCBmb3IgdmFyaWFibGUgbGVuZ3RoIGVuY29kaW5nLlxuICpcbiAqIFVzZSBbbGliMC9lbmNvZGluZ10gd2l0aCBbbGliMC9kZWNvZGluZ10uIEV2ZXJ5IGVuY29kaW5nIGZ1bmN0aW9uIGhhcyBhIGNvcnJlc3BvbmRpbmcgZGVjb2RpbmcgZnVuY3Rpb24uXG4gKlxuICogRW5jb2RlcyBudW1iZXJzIGluIGxpdHRsZS1lbmRpYW4gb3JkZXIgKGxlYXN0IHRvIG1vc3Qgc2lnbmlmaWNhbnQgYnl0ZSBvcmRlcilcbiAqIGFuZCBpcyBjb21wYXRpYmxlIHdpdGggR29sYW5nJ3MgYmluYXJ5IGVuY29kaW5nIChodHRwczovL2dvbGFuZy5vcmcvcGtnL2VuY29kaW5nL2JpbmFyeS8pXG4gKiB3aGljaCBpcyBhbHNvIHVzZWQgaW4gUHJvdG9jb2wgQnVmZmVycy5cbiAqXG4gKiBgYGBqc1xuICogLy8gZW5jb2Rpbmcgc3RlcFxuICogY29uc3QgZW5jb2RlciA9IG5ldyBlbmNvZGluZy5jcmVhdGVFbmNvZGVyKClcbiAqIGVuY29kaW5nLndyaXRlVmFyVWludChlbmNvZGVyLCAyNTYpXG4gKiBlbmNvZGluZy53cml0ZVZhclN0cmluZyhlbmNvZGVyLCAnSGVsbG8gd29ybGQhJylcbiAqIGNvbnN0IGJ1ZiA9IGVuY29kaW5nLnRvVWludDhBcnJheShlbmNvZGVyKVxuICogYGBgXG4gKlxuICogYGBganNcbiAqIC8vIGRlY29kaW5nIHN0ZXBcbiAqIGNvbnN0IGRlY29kZXIgPSBuZXcgZGVjb2RpbmcuY3JlYXRlRGVjb2RlcihidWYpXG4gKiBkZWNvZGluZy5yZWFkVmFyVWludChkZWNvZGVyKSAvLyA9PiAyNTZcbiAqIGRlY29kaW5nLnJlYWRWYXJTdHJpbmcoZGVjb2RlcikgLy8gPT4gJ0hlbGxvIHdvcmxkISdcbiAqIGRlY29kaW5nLmhhc0NvbnRlbnQoZGVjb2RlcikgLy8gPT4gZmFsc2UgLSBhbGwgZGF0YSBpcyByZWFkXG4gKiBgYGBcbiAqXG4gKiBAbW9kdWxlIGVuY29kaW5nXG4gKi9cblxuaW1wb3J0ICogYXMgYnVmZmVyIGZyb20gJy4vYnVmZmVyLmpzJ1xuaW1wb3J0ICogYXMgbWF0aCBmcm9tICcuL21hdGguanMnXG5pbXBvcnQgKiBhcyBudW1iZXIgZnJvbSAnLi9udW1iZXIuanMnXG5pbXBvcnQgKiBhcyBiaW5hcnkgZnJvbSAnLi9iaW5hcnkuanMnXG5cbi8qKlxuICogQSBCaW5hcnlFbmNvZGVyIGhhbmRsZXMgdGhlIGVuY29kaW5nIHRvIGFuIFVpbnQ4QXJyYXkuXG4gKi9cbmV4cG9ydCBjbGFzcyBFbmNvZGVyIHtcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHRoaXMuY3BvcyA9IDBcbiAgICB0aGlzLmNidWYgPSBuZXcgVWludDhBcnJheSgxMDApXG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5PFVpbnQ4QXJyYXk+fVxuICAgICAqL1xuICAgIHRoaXMuYnVmcyA9IFtdXG4gIH1cbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEByZXR1cm4ge0VuY29kZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVFbmNvZGVyID0gKCkgPT4gbmV3IEVuY29kZXIoKVxuXG4vKipcbiAqIFRoZSBjdXJyZW50IGxlbmd0aCBvZiB0aGUgZW5jb2RlZCBkYXRhLlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtFbmNvZGVyfSBlbmNvZGVyXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBsZW5ndGggPSBlbmNvZGVyID0+IHtcbiAgbGV0IGxlbiA9IGVuY29kZXIuY3Bvc1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGVuY29kZXIuYnVmcy5sZW5ndGg7IGkrKykge1xuICAgIGxlbiArPSBlbmNvZGVyLmJ1ZnNbaV0ubGVuZ3RoXG4gIH1cbiAgcmV0dXJuIGxlblxufVxuXG4vKipcbiAqIFRyYW5zZm9ybSB0byBVaW50OEFycmF5LlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtFbmNvZGVyfSBlbmNvZGVyXG4gKiBAcmV0dXJuIHtVaW50OEFycmF5fSBUaGUgY3JlYXRlZCBBcnJheUJ1ZmZlci5cbiAqL1xuZXhwb3J0IGNvbnN0IHRvVWludDhBcnJheSA9IGVuY29kZXIgPT4ge1xuICBjb25zdCB1aW50OGFyciA9IG5ldyBVaW50OEFycmF5KGxlbmd0aChlbmNvZGVyKSlcbiAgbGV0IGN1clBvcyA9IDBcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbmNvZGVyLmJ1ZnMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBkID0gZW5jb2Rlci5idWZzW2ldXG4gICAgdWludDhhcnIuc2V0KGQsIGN1clBvcylcbiAgICBjdXJQb3MgKz0gZC5sZW5ndGhcbiAgfVxuICB1aW50OGFyci5zZXQoYnVmZmVyLmNyZWF0ZVVpbnQ4QXJyYXlWaWV3RnJvbUFycmF5QnVmZmVyKGVuY29kZXIuY2J1Zi5idWZmZXIsIDAsIGVuY29kZXIuY3BvcyksIGN1clBvcylcbiAgcmV0dXJuIHVpbnQ4YXJyXG59XG5cbi8qKlxuICogVmVyaWZ5IHRoYXQgaXQgaXMgcG9zc2libGUgdG8gd3JpdGUgYGxlbmAgYnl0ZXMgd3RpaG91dCBjaGVja2luZy4gSWZcbiAqIG5lY2Vzc2FyeSwgYSBuZXcgQnVmZmVyIHdpdGggdGhlIHJlcXVpcmVkIGxlbmd0aCBpcyBhdHRhY2hlZC5cbiAqXG4gKiBAcGFyYW0ge0VuY29kZXJ9IGVuY29kZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZW5cbiAqL1xuY29uc3QgdmVyaWZ5TGVuID0gKGVuY29kZXIsIGxlbikgPT4ge1xuICBjb25zdCBidWZmZXJMZW4gPSBlbmNvZGVyLmNidWYubGVuZ3RoXG4gIGlmIChidWZmZXJMZW4gLSBlbmNvZGVyLmNwb3MgPCBsZW4pIHtcbiAgICBlbmNvZGVyLmJ1ZnMucHVzaChidWZmZXIuY3JlYXRlVWludDhBcnJheVZpZXdGcm9tQXJyYXlCdWZmZXIoZW5jb2Rlci5jYnVmLmJ1ZmZlciwgMCwgZW5jb2Rlci5jcG9zKSlcbiAgICBlbmNvZGVyLmNidWYgPSBuZXcgVWludDhBcnJheShtYXRoLm1heChidWZmZXJMZW4sIGxlbikgKiAyKVxuICAgIGVuY29kZXIuY3BvcyA9IDBcbiAgfVxufVxuXG4vKipcbiAqIFdyaXRlIG9uZSBieXRlIHRvIHRoZSBlbmNvZGVyLlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtFbmNvZGVyfSBlbmNvZGVyXG4gKiBAcGFyYW0ge251bWJlcn0gbnVtIFRoZSBieXRlIHRoYXQgaXMgdG8gYmUgZW5jb2RlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHdyaXRlID0gKGVuY29kZXIsIG51bSkgPT4ge1xuICBjb25zdCBidWZmZXJMZW4gPSBlbmNvZGVyLmNidWYubGVuZ3RoXG4gIGlmIChlbmNvZGVyLmNwb3MgPT09IGJ1ZmZlckxlbikge1xuICAgIGVuY29kZXIuYnVmcy5wdXNoKGVuY29kZXIuY2J1ZilcbiAgICBlbmNvZGVyLmNidWYgPSBuZXcgVWludDhBcnJheShidWZmZXJMZW4gKiAyKVxuICAgIGVuY29kZXIuY3BvcyA9IDBcbiAgfVxuICBlbmNvZGVyLmNidWZbZW5jb2Rlci5jcG9zKytdID0gbnVtXG59XG5cbi8qKlxuICogV3JpdGUgb25lIGJ5dGUgYXQgYSBzcGVjaWZpYyBwb3NpdGlvbi5cbiAqIFBvc2l0aW9uIG11c3QgYWxyZWFkeSBiZSB3cml0dGVuIChpLmUuIGVuY29kZXIubGVuZ3RoID4gcG9zKVxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtFbmNvZGVyfSBlbmNvZGVyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zIFBvc2l0aW9uIHRvIHdoaWNoIHRvIHdyaXRlIGRhdGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBudW0gVW5zaWduZWQgOC1iaXQgaW50ZWdlclxuICovXG5leHBvcnQgY29uc3Qgc2V0ID0gKGVuY29kZXIsIHBvcywgbnVtKSA9PiB7XG4gIGxldCBidWZmZXIgPSBudWxsXG4gIC8vIGl0ZXJhdGUgYWxsIGJ1ZmZlcnMgYW5kIGFkanVzdCBwb3NpdGlvblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGVuY29kZXIuYnVmcy5sZW5ndGggJiYgYnVmZmVyID09PSBudWxsOyBpKyspIHtcbiAgICBjb25zdCBiID0gZW5jb2Rlci5idWZzW2ldXG4gICAgaWYgKHBvcyA8IGIubGVuZ3RoKSB7XG4gICAgICBidWZmZXIgPSBiIC8vIGZvdW5kIGJ1ZmZlclxuICAgIH0gZWxzZSB7XG4gICAgICBwb3MgLT0gYi5sZW5ndGhcbiAgICB9XG4gIH1cbiAgaWYgKGJ1ZmZlciA9PT0gbnVsbCkge1xuICAgIC8vIHVzZSBjdXJyZW50IGJ1ZmZlclxuICAgIGJ1ZmZlciA9IGVuY29kZXIuY2J1ZlxuICB9XG4gIGJ1ZmZlcltwb3NdID0gbnVtXG59XG5cbi8qKlxuICogV3JpdGUgb25lIGJ5dGUgYXMgYW4gdW5zaWduZWQgaW50ZWdlci5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7RW5jb2Rlcn0gZW5jb2RlclxuICogQHBhcmFtIHtudW1iZXJ9IG51bSBUaGUgbnVtYmVyIHRoYXQgaXMgdG8gYmUgZW5jb2RlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHdyaXRlVWludDggPSB3cml0ZVxuXG4vKipcbiAqIFdyaXRlIG9uZSBieXRlIGFzIGFuIHVuc2lnbmVkIEludGVnZXIgYXQgYSBzcGVjaWZpYyBsb2NhdGlvbi5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7RW5jb2Rlcn0gZW5jb2RlclxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyBUaGUgbG9jYXRpb24gd2hlcmUgdGhlIGRhdGEgd2lsbCBiZSB3cml0dGVuLlxuICogQHBhcmFtIHtudW1iZXJ9IG51bSBUaGUgbnVtYmVyIHRoYXQgaXMgdG8gYmUgZW5jb2RlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHNldFVpbnQ4ID0gc2V0XG5cbi8qKlxuICogV3JpdGUgdHdvIGJ5dGVzIGFzIGFuIHVuc2lnbmVkIGludGVnZXIuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0VuY29kZXJ9IGVuY29kZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBudW0gVGhlIG51bWJlciB0aGF0IGlzIHRvIGJlIGVuY29kZWQuXG4gKi9cbmV4cG9ydCBjb25zdCB3cml0ZVVpbnQxNiA9IChlbmNvZGVyLCBudW0pID0+IHtcbiAgd3JpdGUoZW5jb2RlciwgbnVtICYgYmluYXJ5LkJJVFM4KVxuICB3cml0ZShlbmNvZGVyLCAobnVtID4+PiA4KSAmIGJpbmFyeS5CSVRTOClcbn1cbi8qKlxuICogV3JpdGUgdHdvIGJ5dGVzIGFzIGFuIHVuc2lnbmVkIGludGVnZXIgYXQgYSBzcGVjaWZpYyBsb2NhdGlvbi5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7RW5jb2Rlcn0gZW5jb2RlclxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyBUaGUgbG9jYXRpb24gd2hlcmUgdGhlIGRhdGEgd2lsbCBiZSB3cml0dGVuLlxuICogQHBhcmFtIHtudW1iZXJ9IG51bSBUaGUgbnVtYmVyIHRoYXQgaXMgdG8gYmUgZW5jb2RlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHNldFVpbnQxNiA9IChlbmNvZGVyLCBwb3MsIG51bSkgPT4ge1xuICBzZXQoZW5jb2RlciwgcG9zLCBudW0gJiBiaW5hcnkuQklUUzgpXG4gIHNldChlbmNvZGVyLCBwb3MgKyAxLCAobnVtID4+PiA4KSAmIGJpbmFyeS5CSVRTOClcbn1cblxuLyoqXG4gKiBXcml0ZSB0d28gYnl0ZXMgYXMgYW4gdW5zaWduZWQgaW50ZWdlclxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtFbmNvZGVyfSBlbmNvZGVyXG4gKiBAcGFyYW0ge251bWJlcn0gbnVtIFRoZSBudW1iZXIgdGhhdCBpcyB0byBiZSBlbmNvZGVkLlxuICovXG5leHBvcnQgY29uc3Qgd3JpdGVVaW50MzIgPSAoZW5jb2RlciwgbnVtKSA9PiB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgd3JpdGUoZW5jb2RlciwgbnVtICYgYmluYXJ5LkJJVFM4KVxuICAgIG51bSA+Pj49IDhcbiAgfVxufVxuXG4vKipcbiAqIFdyaXRlIHR3byBieXRlcyBhcyBhbiB1bnNpZ25lZCBpbnRlZ2VyIGluIGJpZyBlbmRpYW4gb3JkZXIuXG4gKiAobW9zdCBzaWduaWZpY2FudCBieXRlIGZpcnN0KVxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtFbmNvZGVyfSBlbmNvZGVyXG4gKiBAcGFyYW0ge251bWJlcn0gbnVtIFRoZSBudW1iZXIgdGhhdCBpcyB0byBiZSBlbmNvZGVkLlxuICovXG5leHBvcnQgY29uc3Qgd3JpdGVVaW50MzJCaWdFbmRpYW4gPSAoZW5jb2RlciwgbnVtKSA9PiB7XG4gIGZvciAobGV0IGkgPSAzOyBpID49IDA7IGktLSkge1xuICAgIHdyaXRlKGVuY29kZXIsIChudW0gPj4+ICg4ICogaSkpICYgYmluYXJ5LkJJVFM4KVxuICB9XG59XG5cbi8qKlxuICogV3JpdGUgdHdvIGJ5dGVzIGFzIGFuIHVuc2lnbmVkIGludGVnZXIgYXQgYSBzcGVjaWZpYyBsb2NhdGlvbi5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7RW5jb2Rlcn0gZW5jb2RlclxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyBUaGUgbG9jYXRpb24gd2hlcmUgdGhlIGRhdGEgd2lsbCBiZSB3cml0dGVuLlxuICogQHBhcmFtIHtudW1iZXJ9IG51bSBUaGUgbnVtYmVyIHRoYXQgaXMgdG8gYmUgZW5jb2RlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHNldFVpbnQzMiA9IChlbmNvZGVyLCBwb3MsIG51bSkgPT4ge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgIHNldChlbmNvZGVyLCBwb3MgKyBpLCBudW0gJiBiaW5hcnkuQklUUzgpXG4gICAgbnVtID4+Pj0gOFxuICB9XG59XG5cbi8qKlxuICogV3JpdGUgYSB2YXJpYWJsZSBsZW5ndGggdW5zaWduZWQgaW50ZWdlci5cbiAqXG4gKiBFbmNvZGVzIGludGVnZXJzIGluIHRoZSByYW5nZSBmcm9tIFswLCA0Mjk0OTY3Mjk1XSAvIFswLCAweGZmZmZmZmZmXS4gKG1heCAzMiBiaXQgdW5zaWduZWQgaW50ZWdlcilcbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7RW5jb2Rlcn0gZW5jb2RlclxuICogQHBhcmFtIHtudW1iZXJ9IG51bSBUaGUgbnVtYmVyIHRoYXQgaXMgdG8gYmUgZW5jb2RlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHdyaXRlVmFyVWludCA9IChlbmNvZGVyLCBudW0pID0+IHtcbiAgd2hpbGUgKG51bSA+IGJpbmFyeS5CSVRTNykge1xuICAgIHdyaXRlKGVuY29kZXIsIGJpbmFyeS5CSVQ4IHwgKGJpbmFyeS5CSVRTNyAmIG51bSkpXG4gICAgbnVtID4+Pj0gN1xuICB9XG4gIHdyaXRlKGVuY29kZXIsIGJpbmFyeS5CSVRTNyAmIG51bSlcbn1cblxuLyoqXG4gKiBXcml0ZSBhIHZhcmlhYmxlIGxlbmd0aCBpbnRlZ2VyLlxuICpcbiAqIEVuY29kZXMgaW50ZWdlcnMgaW4gdGhlIHJhbmdlIGZyb20gWy0yMTQ3NDgzNjQ4LCAtMjE0NzQ4MzY0N10uXG4gKlxuICogV2UgZG9uJ3QgdXNlIHppZy16YWcgZW5jb2RpbmcgYmVjYXVzZSB3ZSB3YW50IHRvIGtlZXAgdGhlIG9wdGlvbiBvcGVuXG4gKiB0byB1c2UgdGhlIHNhbWUgZnVuY3Rpb24gZm9yIEJpZ0ludCBhbmQgNTNiaXQgaW50ZWdlcnMgKGRvdWJsZXMpLlxuICpcbiAqIFdlIHVzZSB0aGUgN3RoIGJpdCBpbnN0ZWFkIGZvciBzaWduYWxpbmcgdGhhdCB0aGlzIGlzIGEgbmVnYXRpdmUgbnVtYmVyLlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtFbmNvZGVyfSBlbmNvZGVyXG4gKiBAcGFyYW0ge251bWJlcn0gbnVtIFRoZSBudW1iZXIgdGhhdCBpcyB0byBiZSBlbmNvZGVkLlxuICovXG5leHBvcnQgY29uc3Qgd3JpdGVWYXJJbnQgPSAoZW5jb2RlciwgbnVtKSA9PiB7XG4gIGNvbnN0IGlzTmVnYXRpdmUgPSBtYXRoLmlzTmVnYXRpdmVaZXJvKG51bSlcbiAgaWYgKGlzTmVnYXRpdmUpIHtcbiAgICBudW0gPSAtbnVtXG4gIH1cbiAgLy8gICAgICAgICAgICAgfC0gd2hldGhlciB0byBjb250aW51ZSByZWFkaW5nICAgICAgICAgfC0gd2hldGhlciBpcyBuZWdhdGl2ZSAgICAgfC0gbnVtYmVyXG4gIHdyaXRlKGVuY29kZXIsIChudW0gPiBiaW5hcnkuQklUUzYgPyBiaW5hcnkuQklUOCA6IDApIHwgKGlzTmVnYXRpdmUgPyBiaW5hcnkuQklUNyA6IDApIHwgKGJpbmFyeS5CSVRTNiAmIG51bSkpXG4gIG51bSA+Pj49IDZcbiAgLy8gV2UgZG9uJ3QgbmVlZCB0byBjb25zaWRlciB0aGUgY2FzZSBvZiBudW0gPT09IDAgc28gd2UgY2FuIHVzZSBhIGRpZmZlcmVudFxuICAvLyBwYXR0ZXJuIGhlcmUgdGhhbiBhYm92ZS5cbiAgd2hpbGUgKG51bSA+IDApIHtcbiAgICB3cml0ZShlbmNvZGVyLCAobnVtID4gYmluYXJ5LkJJVFM3ID8gYmluYXJ5LkJJVDggOiAwKSB8IChiaW5hcnkuQklUUzcgJiBudW0pKVxuICAgIG51bSA+Pj49IDdcbiAgfVxufVxuXG4vKipcbiAqIFdyaXRlIGEgdmFyaWFibGUgbGVuZ3RoIHN0cmluZy5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7RW5jb2Rlcn0gZW5jb2RlclxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgc3RyaW5nIHRoYXQgaXMgdG8gYmUgZW5jb2RlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHdyaXRlVmFyU3RyaW5nID0gKGVuY29kZXIsIHN0cikgPT4ge1xuICBjb25zdCBlbmNvZGVkU3RyaW5nID0gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHN0cikpXG4gIGNvbnN0IGxlbiA9IGVuY29kZWRTdHJpbmcubGVuZ3RoXG4gIHdyaXRlVmFyVWludChlbmNvZGVyLCBsZW4pXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICB3cml0ZShlbmNvZGVyLCAvKiogQHR5cGUge251bWJlcn0gKi8gKGVuY29kZWRTdHJpbmcuY29kZVBvaW50QXQoaSkpKVxuICB9XG59XG5cbi8qKlxuICogV3JpdGUgdGhlIGNvbnRlbnQgb2YgYW5vdGhlciBFbmNvZGVyLlxuICpcbiAqIEBUT0RPOiBjYW4gYmUgaW1wcm92ZWQhXG4gKiAgICAgICAgLSBOb3RlOiBTaG91bGQgY29uc2lkZXIgdGhhdCB3aGVuIGFwcGVuZGluZyBhIGxvdCBvZiBzbWFsbCBFbmNvZGVycywgd2Ugc2hvdWxkIHJhdGhlciBjbG9uZSB0aGFuIHJlZmVyZW5jaW5nIHRoZSBvbGQgc3RydWN0dXJlLlxuICogICAgICAgICAgICAgICAgRW5jb2RlcnMgc3RhcnQgd2l0aCBhIHJhdGhlciBiaWcgaW5pdGlhbCBidWZmZXIuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0VuY29kZXJ9IGVuY29kZXIgVGhlIGVuVWludDhBcnJcbiAqIEBwYXJhbSB7RW5jb2Rlcn0gYXBwZW5kIFRoZSBCaW5hcnlFbmNvZGVyIHRvIGJlIHdyaXR0ZW4uXG4gKi9cbmV4cG9ydCBjb25zdCB3cml0ZUJpbmFyeUVuY29kZXIgPSAoZW5jb2RlciwgYXBwZW5kKSA9PiB3cml0ZVVpbnQ4QXJyYXkoZW5jb2RlciwgdG9VaW50OEFycmF5KGFwcGVuZCkpXG5cbi8qKlxuICogQXBwZW5kIGZpeGVkLWxlbmd0aCBVaW50OEFycmF5IHRvIHRoZSBlbmNvZGVyLlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtFbmNvZGVyfSBlbmNvZGVyXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IHVpbnQ4QXJyYXlcbiAqL1xuZXhwb3J0IGNvbnN0IHdyaXRlVWludDhBcnJheSA9IChlbmNvZGVyLCB1aW50OEFycmF5KSA9PiB7XG4gIGNvbnN0IGJ1ZmZlckxlbiA9IGVuY29kZXIuY2J1Zi5sZW5ndGhcbiAgY29uc3QgY3BvcyA9IGVuY29kZXIuY3Bvc1xuICBjb25zdCBsZWZ0Q29weUxlbiA9IG1hdGgubWluKGJ1ZmZlckxlbiAtIGNwb3MsIHVpbnQ4QXJyYXkubGVuZ3RoKVxuICBjb25zdCByaWdodENvcHlMZW4gPSB1aW50OEFycmF5Lmxlbmd0aCAtIGxlZnRDb3B5TGVuXG4gIGVuY29kZXIuY2J1Zi5zZXQodWludDhBcnJheS5zdWJhcnJheSgwLCBsZWZ0Q29weUxlbiksIGNwb3MpXG4gIGVuY29kZXIuY3BvcyArPSBsZWZ0Q29weUxlblxuICBpZiAocmlnaHRDb3B5TGVuID4gMCkge1xuICAgIC8vIFN0aWxsIHNvbWV0aGluZyB0byB3cml0ZSwgd3JpdGUgcmlnaHQgaGFsZi4uXG4gICAgLy8gQXBwZW5kIG5ldyBidWZmZXJcbiAgICBlbmNvZGVyLmJ1ZnMucHVzaChlbmNvZGVyLmNidWYpXG4gICAgLy8gbXVzdCBoYXZlIGF0IGxlYXN0IHNpemUgb2YgcmVtYWluaW5nIGJ1ZmZlclxuICAgIGVuY29kZXIuY2J1ZiA9IG5ldyBVaW50OEFycmF5KG1hdGgubWF4KGJ1ZmZlckxlbiAqIDIsIHJpZ2h0Q29weUxlbikpXG4gICAgLy8gY29weSBhcnJheVxuICAgIGVuY29kZXIuY2J1Zi5zZXQodWludDhBcnJheS5zdWJhcnJheShsZWZ0Q29weUxlbikpXG4gICAgZW5jb2Rlci5jcG9zID0gcmlnaHRDb3B5TGVuXG4gIH1cbn1cblxuLyoqXG4gKiBBcHBlbmQgYW4gVWludDhBcnJheSB0byBFbmNvZGVyLlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtFbmNvZGVyfSBlbmNvZGVyXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IHVpbnQ4QXJyYXlcbiAqL1xuZXhwb3J0IGNvbnN0IHdyaXRlVmFyVWludDhBcnJheSA9IChlbmNvZGVyLCB1aW50OEFycmF5KSA9PiB7XG4gIHdyaXRlVmFyVWludChlbmNvZGVyLCB1aW50OEFycmF5LmJ5dGVMZW5ndGgpXG4gIHdyaXRlVWludDhBcnJheShlbmNvZGVyLCB1aW50OEFycmF5KVxufVxuXG4vKipcbiAqIENyZWF0ZSBhbiBEYXRhVmlldyBvZiB0aGUgbmV4dCBgbGVuYCBieXRlcy4gVXNlIGl0IHRvIHdyaXRlIGRhdGEgYWZ0ZXJcbiAqIGNhbGxpbmcgdGhpcyBmdW5jdGlvbi5cbiAqXG4gKiBgYGBqc1xuICogLy8gd3JpdGUgZmxvYXQzMiB1c2luZyBEYXRhVmlld1xuICogY29uc3QgZHYgPSB3cml0ZU9uRGF0YVZpZXcoZW5jb2RlciwgNClcbiAqIGR2LnNldEZsb2F0MzIoMCwgMS4xKVxuICogLy8gcmVhZCBmbG9hdDMyIHVzaW5nIERhdGFWaWV3XG4gKiBjb25zdCBkdiA9IHJlYWRGcm9tRGF0YVZpZXcoZW5jb2RlciwgNClcbiAqIGR2LmdldEZsb2F0MzIoMCkgLy8gPT4gMS4xMDAwMDAwMjM4NDE4NTggKGxlYXZpbmcgaXQgdG8gdGhlIHJlYWRlciB0byBmaW5kIG91dCB3aHkgdGhpcyBpcyB0aGUgY29ycmVjdCByZXN1bHQpXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge0VuY29kZXJ9IGVuY29kZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZW5cbiAqIEByZXR1cm4ge0RhdGFWaWV3fVxuICovXG5leHBvcnQgY29uc3Qgd3JpdGVPbkRhdGFWaWV3ID0gKGVuY29kZXIsIGxlbikgPT4ge1xuICB2ZXJpZnlMZW4oZW5jb2RlciwgbGVuKVxuICBjb25zdCBkdmlldyA9IG5ldyBEYXRhVmlldyhlbmNvZGVyLmNidWYuYnVmZmVyLCBlbmNvZGVyLmNwb3MsIGxlbilcbiAgZW5jb2Rlci5jcG9zICs9IGxlblxuICByZXR1cm4gZHZpZXdcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VuY29kZXJ9IGVuY29kZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBudW1cbiAqL1xuZXhwb3J0IGNvbnN0IHdyaXRlRmxvYXQzMiA9IChlbmNvZGVyLCBudW0pID0+IHdyaXRlT25EYXRhVmlldyhlbmNvZGVyLCA0KS5zZXRGbG9hdDMyKDAsIG51bSwgZmFsc2UpXG5cbi8qKlxuICogQHBhcmFtIHtFbmNvZGVyfSBlbmNvZGVyXG4gKiBAcGFyYW0ge251bWJlcn0gbnVtXG4gKi9cbmV4cG9ydCBjb25zdCB3cml0ZUZsb2F0NjQgPSAoZW5jb2RlciwgbnVtKSA9PiB3cml0ZU9uRGF0YVZpZXcoZW5jb2RlciwgOCkuc2V0RmxvYXQ2NCgwLCBudW0sIGZhbHNlKVxuXG4vKipcbiAqIEBwYXJhbSB7RW5jb2Rlcn0gZW5jb2RlclxuICogQHBhcmFtIHtiaWdpbnR9IG51bVxuICovXG5leHBvcnQgY29uc3Qgd3JpdGVCaWdJbnQ2NCA9IChlbmNvZGVyLCBudW0pID0+IC8qKiBAdHlwZSB7YW55fSAqLyAod3JpdGVPbkRhdGFWaWV3KGVuY29kZXIsIDgpKS5zZXRCaWdJbnQ2NCgwLCBudW0sIGZhbHNlKVxuXG4vKipcbiAqIEBwYXJhbSB7RW5jb2Rlcn0gZW5jb2RlclxuICogQHBhcmFtIHtiaWdpbnR9IG51bVxuICovXG5leHBvcnQgY29uc3Qgd3JpdGVCaWdVaW50NjQgPSAoZW5jb2RlciwgbnVtKSA9PiAvKiogQHR5cGUge2FueX0gKi8gKHdyaXRlT25EYXRhVmlldyhlbmNvZGVyLCA4KSkuc2V0QmlnVWludDY0KDAsIG51bSwgZmFsc2UpXG5cbmNvbnN0IGZsb2F0VGVzdEJlZCA9IG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoNCkpXG4vKipcbiAqIENoZWNrIGlmIGEgbnVtYmVyIGNhbiBiZSBlbmNvZGVkIGFzIGEgMzIgYml0IGZsb2F0LlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBudW1cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmNvbnN0IGlzRmxvYXQzMiA9IG51bSA9PiB7XG4gIGZsb2F0VGVzdEJlZC5zZXRGbG9hdDMyKDAsIG51bSlcbiAgcmV0dXJuIGZsb2F0VGVzdEJlZC5nZXRGbG9hdDMyKDApID09PSBudW1cbn1cblxuLyoqXG4gKiBFbmNvZGUgZGF0YSB3aXRoIGVmZmljaWVudCBiaW5hcnkgZm9ybWF0LlxuICpcbiAqIERpZmZlcmVuY2VzIHRvIEpTT046XG4gKiDigKIgVHJhbnNmb3JtcyBkYXRhIHRvIGEgYmluYXJ5IGZvcm1hdCAobm90IHRvIGEgc3RyaW5nKVxuICog4oCiIEVuY29kZXMgdW5kZWZpbmVkLCBOYU4sIGFuZCBBcnJheUJ1ZmZlciAodGhlc2UgY2FuJ3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTilcbiAqIOKAoiBOdW1iZXJzIGFyZSBlZmZpY2llbnRseSBlbmNvZGVkIGVpdGhlciBhcyBhIHZhcmlhYmxlIGxlbmd0aCBpbnRlZ2VyLCBhcyBhXG4gKiAgIDMyIGJpdCBmbG9hdCwgYXMgYSA2NCBiaXQgZmxvYXQsIG9yIGFzIGEgNjQgYml0IGJpZ2ludC5cbiAqXG4gKiBFbmNvZGluZyB0YWJsZTpcbiAqXG4gKiB8IERhdGEgVHlwZSAgICAgICAgICAgfCBQcmVmaXggICB8IEVuY29kaW5nIE1ldGhvZCAgICB8IENvbW1lbnQgfFxuICogfCAtLS0tLS0tLS0tLS0tLS0tLS0tIHwgLS0tLS0tLS0gfCAtLS0tLS0tLS0tLS0tLS0tLS0gfCAtLS0tLS0tIHxcbiAqIHwgdW5kZWZpbmVkICAgICAgICAgICB8IDEyNyAgICAgIHwgICAgICAgICAgICAgICAgICAgIHwgRnVuY3Rpb25zLCBzeW1ib2wsIGFuZCBldmVyeXRoaW5nIHRoYXQgY2Fubm90IGJlIGlkZW50aWZpZWQgaXMgZW5jb2RlZCBhcyB1bmRlZmluZWQgfFxuICogfCBudWxsICAgICAgICAgICAgICAgIHwgMTI2ICAgICAgfCAgICAgICAgICAgICAgICAgICAgfCB8XG4gKiB8IGludGVnZXIgICAgICAgICAgICAgfCAxMjUgICAgICB8IHdyaXRlVmFySW50ICAgICAgICB8IE9ubHkgZW5jb2RlcyAzMiBiaXQgc2lnbmVkIGludGVnZXJzIHxcbiAqIHwgZmxvYXQzMiAgICAgICAgICAgICB8IDEyNCAgICAgIHwgd3JpdGVGbG9hdDMyICAgICAgIHwgfFxuICogfCBmbG9hdDY0ICAgICAgICAgICAgIHwgMTIzICAgICAgfCB3cml0ZUZsb2F0NjQgICAgICAgfCB8XG4gKiB8IGJpZ2ludCAgICAgICAgICAgICAgfCAxMjIgICAgICB8IHdyaXRlQmlnSW50NjQgICAgICB8IHxcbiAqIHwgYm9vbGVhbiAoZmFsc2UpICAgICB8IDEyMSAgICAgIHwgICAgICAgICAgICAgICAgICAgIHwgVHJ1ZSBhbmQgZmFsc2UgYXJlIGRpZmZlcmVudCBkYXRhIHR5cGVzIHNvIHdlIHNhdmUgdGhlIGZvbGxvd2luZyBieXRlIHxcbiAqIHwgYm9vbGVhbiAodHJ1ZSkgICAgICB8IDEyMCAgICAgIHwgICAgICAgICAgICAgICAgICAgIHwgLSAwYjAxMTExMDAwIHNvIHRoZSBsYXN0IGJpdCBkZXRlcm1pbmVzIHdoZXRoZXIgdHJ1ZSBvciBmYWxzZSB8XG4gKiB8IHN0cmluZyAgICAgICAgICAgICAgfCAxMTkgICAgICB8IHdyaXRlVmFyU3RyaW5nICAgICB8IHxcbiAqIHwgb2JqZWN0PHN0cmluZyxhbnk+ICB8IDExOCAgICAgIHwgY3VzdG9tICAgICAgICAgICAgIHwgV3JpdGVzIHtsZW5ndGh9IHRoZW4ge2xlbmd0aH0ga2V5LXZhbHVlIHBhaXJzIHxcbiAqIHwgYXJyYXk8YW55PiAgICAgICAgICB8IDExNyAgICAgIHwgY3VzdG9tICAgICAgICAgICAgIHwgV3JpdGVzIHtsZW5ndGh9IHRoZW4ge2xlbmd0aH0ganNvbiB2YWx1ZXMgfFxuICogfCBVaW50OEFycmF5ICAgICAgICAgIHwgMTE2ICAgICAgfCB3cml0ZVZhclVpbnQ4QXJyYXkgfCBXZSB1c2UgVWludDhBcnJheSBmb3IgYW55IGtpbmQgb2YgYmluYXJ5IGRhdGEgfFxuICpcbiAqIFJlYXNvbnMgZm9yIHRoZSBkZWNyZWFzaW5nIHByZWZpeDpcbiAqIFdlIG5lZWQgdGhlIGZpcnN0IGJpdCBmb3IgZXh0ZW5kYWJpbGl0eSAobGF0ZXIgd2UgbWF5IHdhbnQgdG8gZW5jb2RlIHRoZVxuICogcHJlZml4IHdpdGggd3JpdGVWYXJVaW50KS4gVGhlIHJlbWFpbmluZyA3IGJpdHMgYXJlIGRpdmlkZWQgYXMgZm9sbG93czpcbiAqIFswLTMwXSAgIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGRhdGEgcmFuZ2UgaXMgdXNlZCBmb3IgY3VzdG9tIHB1cnBvc2VzXG4gKiAgICAgICAgICAoZGVmaW5lZCBieSB0aGUgZnVuY3Rpb24gdGhhdCB1c2VzIHRoaXMgbGlicmFyeSlcbiAqIFszMS0xMjddIHRoZSBlbmQgb2YgdGhlIGRhdGEgcmFuZ2UgaXMgdXNlZCBmb3IgZGF0YSBlbmNvZGluZyBieVxuICogICAgICAgICAgbGliMC9lbmNvZGluZy5qc1xuICpcbiAqIEBwYXJhbSB7RW5jb2Rlcn0gZW5jb2RlclxuICogQHBhcmFtIHt1bmRlZmluZWR8bnVsbHxudW1iZXJ8YmlnaW50fGJvb2xlYW58c3RyaW5nfE9iamVjdDxzdHJpbmcsYW55PnxBcnJheTxhbnk+fFVpbnQ4QXJyYXl9IGRhdGFcbiAqL1xuZXhwb3J0IGNvbnN0IHdyaXRlQW55ID0gKGVuY29kZXIsIGRhdGEpID0+IHtcbiAgc3dpdGNoICh0eXBlb2YgZGF0YSkge1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAvLyBUWVBFIDExOTogU1RSSU5HXG4gICAgICB3cml0ZShlbmNvZGVyLCAxMTkpXG4gICAgICB3cml0ZVZhclN0cmluZyhlbmNvZGVyLCBkYXRhKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgaWYgKG51bWJlci5pc0ludGVnZXIoZGF0YSkgJiYgbWF0aC5hYnMoZGF0YSkgPD0gYmluYXJ5LkJJVFMzMSkge1xuICAgICAgICAvLyBUWVBFIDEyNTogSU5URUdFUlxuICAgICAgICB3cml0ZShlbmNvZGVyLCAxMjUpXG4gICAgICAgIHdyaXRlVmFySW50KGVuY29kZXIsIGRhdGEpXG4gICAgICB9IGVsc2UgaWYgKGlzRmxvYXQzMihkYXRhKSkge1xuICAgICAgICAvLyBUWVBFIDEyNDogRkxPQVQzMlxuICAgICAgICB3cml0ZShlbmNvZGVyLCAxMjQpXG4gICAgICAgIHdyaXRlRmxvYXQzMihlbmNvZGVyLCBkYXRhKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVFlQRSAxMjM6IEZMT0FUNjRcbiAgICAgICAgd3JpdGUoZW5jb2RlciwgMTIzKVxuICAgICAgICB3cml0ZUZsb2F0NjQoZW5jb2RlciwgZGF0YSlcbiAgICAgIH1cbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnYmlnaW50JzpcbiAgICAgIC8vIFRZUEUgMTIyOiBCaWdJbnRcbiAgICAgIHdyaXRlKGVuY29kZXIsIDEyMilcbiAgICAgIHdyaXRlQmlnSW50NjQoZW5jb2RlciwgZGF0YSlcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgIC8vIFRZUEUgMTI2OiBudWxsXG4gICAgICAgIHdyaXRlKGVuY29kZXIsIDEyNilcbiAgICAgIH0gZWxzZSBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIC8vIFRZUEUgMTE3OiBBcnJheVxuICAgICAgICB3cml0ZShlbmNvZGVyLCAxMTcpXG4gICAgICAgIHdyaXRlVmFyVWludChlbmNvZGVyLCBkYXRhLmxlbmd0aClcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgd3JpdGVBbnkoZW5jb2RlciwgZGF0YVtpXSlcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChkYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICAvLyBUWVBFIDExNjogQXJyYXlCdWZmZXJcbiAgICAgICAgd3JpdGUoZW5jb2RlciwgMTE2KVxuICAgICAgICB3cml0ZVZhclVpbnQ4QXJyYXkoZW5jb2RlciwgZGF0YSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRZUEUgMTE4OiBPYmplY3RcbiAgICAgICAgd3JpdGUoZW5jb2RlciwgMTE4KVxuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZGF0YSlcbiAgICAgICAgd3JpdGVWYXJVaW50KGVuY29kZXIsIGtleXMubGVuZ3RoKVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2ldXG4gICAgICAgICAgd3JpdGVWYXJTdHJpbmcoZW5jb2Rlciwga2V5KVxuICAgICAgICAgIHdyaXRlQW55KGVuY29kZXIsIGRhdGFba2V5XSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIC8vIFRZUEUgMTIwLzEyMTogYm9vbGVhbiAodHJ1ZS9mYWxzZSlcbiAgICAgIHdyaXRlKGVuY29kZXIsIGRhdGEgPyAxMjAgOiAxMjEpXG4gICAgICBicmVha1xuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBUWVBFIDEyNzogdW5kZWZpbmVkXG4gICAgICB3cml0ZShlbmNvZGVyLCAxMjcpXG4gIH1cbn1cblxuLyoqXG4gKiBOb3cgY29tZSBhIGZldyBzdGF0ZWZ1bCBlbmNvZGVyIHRoYXQgaGF2ZSB0aGVpciBvd24gY2xhc3Nlcy5cbiAqL1xuXG4vKipcbiAqIEJhc2ljIFJ1biBMZW5ndGggRW5jb2RlciAtIGEgYmFzaWMgY29tcHJlc3Npb24gaW1wbGVtZW50YXRpb24uXG4gKlxuICogRW5jb2RlcyBbMSwxLDEsN10gdG8gWzEsMyw3LDFdICgzIHRpbWVzIDEsIDEgdGltZSA3KS4gVGhpcyBlbmNvZGVyIG1pZ2h0IGRvIG1vcmUgaGFybSB0aGFuIGdvb2QgaWYgdGhlcmUgYXJlIGEgbG90IG9mIHZhbHVlcyB0aGF0IGFyZSBub3QgcmVwZWF0ZWQuXG4gKlxuICogSXQgd2FzIG9yaWdpbmFsbHkgdXNlZCBmb3IgaW1hZ2UgY29tcHJlc3Npb24uIENvb2wgLi4gYXJ0aWNsZSBodHRwOi8vY3NicnVjZS5jb20vY2JtL3RyYW5zYWN0b3IvcGRmcy90cmFuc192N19pMDYucGRmXG4gKlxuICogQG5vdGUgVCBtdXN0IG5vdCBiZSBudWxsIVxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBjbGFzcyBSbGVFbmNvZGVyIGV4dGVuZHMgRW5jb2RlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKEVuY29kZXIsIFQpOnZvaWR9IHdyaXRlclxuICAgKi9cbiAgY29uc3RydWN0b3IgKHdyaXRlcikge1xuICAgIHN1cGVyKClcbiAgICAvKipcbiAgICAgKiBUaGUgd3JpdGVyXG4gICAgICovXG4gICAgdGhpcy53ID0gd3JpdGVyXG4gICAgLyoqXG4gICAgICogQ3VycmVudCBzdGF0ZVxuICAgICAqIEB0eXBlIHtUfG51bGx9XG4gICAgICovXG4gICAgdGhpcy5zID0gbnVsbFxuICAgIHRoaXMuY291bnQgPSAwXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtUfSB2XG4gICAqL1xuICB3cml0ZSAodikge1xuICAgIGlmICh0aGlzLnMgPT09IHYpIHtcbiAgICAgIHRoaXMuY291bnQrK1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5jb3VudCA+IDApIHtcbiAgICAgICAgLy8gZmx1c2ggY291bnRlciwgdW5sZXNzIHRoaXMgaXMgdGhlIGZpcnN0IHZhbHVlIChjb3VudCA9IDApXG4gICAgICAgIHdyaXRlVmFyVWludCh0aGlzLCB0aGlzLmNvdW50IC0gMSkgLy8gc2luY2UgY291bnQgaXMgYWx3YXlzID4gMCwgd2UgY2FuIGRlY3JlbWVudCBieSBvbmUuIG5vbi1zdGFuZGFyZCBlbmNvZGluZyBmdHdcbiAgICAgIH1cbiAgICAgIHRoaXMuY291bnQgPSAxXG4gICAgICAvLyB3cml0ZSBmaXJzdCB2YWx1ZVxuICAgICAgdGhpcy53KHRoaXMsIHYpXG4gICAgICB0aGlzLnMgPSB2XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQmFzaWMgZGlmZiBkZWNvZGVyIHVzaW5nIHZhcmlhYmxlIGxlbmd0aCBlbmNvZGluZy5cbiAqXG4gKiBFbmNvZGVzIHRoZSB2YWx1ZXMgWzMsIDExMDAsIDExMDEsIDEwNTAsIDBdIHRvIFszLCAxMDk3LCAxLCAtNTEsIC0xMDUwXSB1c2luZyB3cml0ZVZhckludC5cbiAqL1xuZXhwb3J0IGNsYXNzIEludERpZmZFbmNvZGVyIGV4dGVuZHMgRW5jb2RlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRcbiAgICovXG4gIGNvbnN0cnVjdG9yIChzdGFydCkge1xuICAgIHN1cGVyKClcbiAgICAvKipcbiAgICAgKiBDdXJyZW50IHN0YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnMgPSBzdGFydFxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2XG4gICAqL1xuICB3cml0ZSAodikge1xuICAgIHdyaXRlVmFySW50KHRoaXMsIHYgLSB0aGlzLnMpXG4gICAgdGhpcy5zID0gdlxuICB9XG59XG5cbi8qKlxuICogQSBjb21iaW5hdGlvbiBvZiBJbnREaWZmRW5jb2RlciBhbmQgUmxlRW5jb2Rlci5cbiAqXG4gKiBCYXNpY2FsbHkgZmlyc3Qgd3JpdGVzIHRoZSBJbnREaWZmRW5jb2RlciBhbmQgdGhlbiBjb3VudHMgZHVwbGljYXRlIGRpZmZzIHVzaW5nIFJsZUVuY29kaW5nLlxuICpcbiAqIEVuY29kZXMgdGhlIHZhbHVlcyBbMSwxLDEsMiwzLDQsNSw2XSBhcyBbMSwxLDAsMiwxLDVdIChSTEUoWzEsMCwwLDEsMSwxLDEsMV0pIOKHkiBSbGVJbnREaWZmWzEsMSwwLDIsMSw1XSlcbiAqL1xuZXhwb3J0IGNsYXNzIFJsZUludERpZmZFbmNvZGVyIGV4dGVuZHMgRW5jb2RlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRcbiAgICovXG4gIGNvbnN0cnVjdG9yIChzdGFydCkge1xuICAgIHN1cGVyKClcbiAgICAvKipcbiAgICAgKiBDdXJyZW50IHN0YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnMgPSBzdGFydFxuICAgIHRoaXMuY291bnQgPSAwXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHZcbiAgICovXG4gIHdyaXRlICh2KSB7XG4gICAgaWYgKHRoaXMucyA9PT0gdiAmJiB0aGlzLmNvdW50ID4gMCkge1xuICAgICAgdGhpcy5jb3VudCsrXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLmNvdW50ID4gMCkge1xuICAgICAgICAvLyBmbHVzaCBjb3VudGVyLCB1bmxlc3MgdGhpcyBpcyB0aGUgZmlyc3QgdmFsdWUgKGNvdW50ID0gMClcbiAgICAgICAgd3JpdGVWYXJVaW50KHRoaXMsIHRoaXMuY291bnQgLSAxKSAvLyBzaW5jZSBjb3VudCBpcyBhbHdheXMgPiAwLCB3ZSBjYW4gZGVjcmVtZW50IGJ5IG9uZS4gbm9uLXN0YW5kYXJkIGVuY29kaW5nIGZ0d1xuICAgICAgfVxuICAgICAgdGhpcy5jb3VudCA9IDFcbiAgICAgIC8vIHdyaXRlIGZpcnN0IHZhbHVlXG4gICAgICB3cml0ZVZhckludCh0aGlzLCB2IC0gdGhpcy5zKVxuICAgICAgdGhpcy5zID0gdlxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7VWludE9wdFJsZUVuY29kZXJ9IGVuY29kZXJcbiAqL1xuY29uc3QgZmx1c2hVaW50T3B0UmxlRW5jb2RlciA9IGVuY29kZXIgPT4ge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoZW5jb2Rlci5jb3VudCA+IDApIHtcbiAgICAvLyBmbHVzaCBjb3VudGVyLCB1bmxlc3MgdGhpcyBpcyB0aGUgZmlyc3QgdmFsdWUgKGNvdW50ID0gMClcbiAgICAvLyBjYXNlIDE6IGp1c3QgYSBzaW5nbGUgdmFsdWUuIHNldCBzaWduIHRvIHBvc2l0aXZlXG4gICAgLy8gY2FzZSAyOiB3cml0ZSBzZXZlcmFsIHZhbHVlcy4gc2V0IHNpZ24gdG8gbmVnYXRpdmUgdG8gaW5kaWNhdGUgdGhhdCB0aGVyZSBpcyBhIGxlbmd0aCBjb21pbmdcbiAgICB3cml0ZVZhckludChlbmNvZGVyLmVuY29kZXIsIGVuY29kZXIuY291bnQgPT09IDEgPyBlbmNvZGVyLnMgOiAtZW5jb2Rlci5zKVxuICAgIGlmIChlbmNvZGVyLmNvdW50ID4gMSkge1xuICAgICAgd3JpdGVWYXJVaW50KGVuY29kZXIuZW5jb2RlciwgZW5jb2Rlci5jb3VudCAtIDIpIC8vIHNpbmNlIGNvdW50IGlzIGFsd2F5cyA+IDEsIHdlIGNhbiBkZWNyZW1lbnQgYnkgb25lLiBub24tc3RhbmRhcmQgZW5jb2RpbmcgZnR3XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogT3B0aW1pemVkIFJsZSBlbmNvZGVyIHRoYXQgZG9lcyBub3Qgc3VmZmVyIGZyb20gdGhlIG1lbnRpb25lZCBwcm9ibGVtIG9mIHRoZSBiYXNpYyBSbGUgZW5jb2Rlci5cbiAqXG4gKiBJbnRlcm5hbGx5IHVzZXMgVmFySW50IGVuY29kZXIgdG8gd3JpdGUgdW5zaWduZWQgaW50ZWdlcnMuIElmIHRoZSBpbnB1dCBvY2N1cnMgbXVsdGlwbGUgdGltZXMsIHdlIHdyaXRlXG4gKiB3cml0ZSBpdCBhcyBhIG5lZ2F0aXZlIG51bWJlci4gVGhlIFVpbnRPcHRSbGVEZWNvZGVyIHRoZW4gdW5kZXJzdGFuZHMgdGhhdCBpdCBuZWVkcyB0byByZWFkIGEgY291bnQuXG4gKlxuICogRW5jb2RlcyBbMSwyLDMsMywzXSBhcyBbMSwyLC0zLDNdIChvbmNlIDEsIG9uY2UgMiwgdGhyZWUgdGltZXMgMylcbiAqL1xuZXhwb3J0IGNsYXNzIFVpbnRPcHRSbGVFbmNvZGVyIHtcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHRoaXMuZW5jb2RlciA9IG5ldyBFbmNvZGVyKClcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucyA9IDBcbiAgICB0aGlzLmNvdW50ID0gMFxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2XG4gICAqL1xuICB3cml0ZSAodikge1xuICAgIGlmICh0aGlzLnMgPT09IHYpIHtcbiAgICAgIHRoaXMuY291bnQrK1xuICAgIH0gZWxzZSB7XG4gICAgICBmbHVzaFVpbnRPcHRSbGVFbmNvZGVyKHRoaXMpXG4gICAgICB0aGlzLmNvdW50ID0gMVxuICAgICAgdGhpcy5zID0gdlxuICAgIH1cbiAgfVxuXG4gIHRvVWludDhBcnJheSAoKSB7XG4gICAgZmx1c2hVaW50T3B0UmxlRW5jb2Rlcih0aGlzKVxuICAgIHJldHVybiB0b1VpbnQ4QXJyYXkodGhpcy5lbmNvZGVyKVxuICB9XG59XG5cbi8qKlxuICogSW5jcmVhc2luZyBVaW50IE9wdGltaXplZCBSTEUgRW5jb2RlclxuICpcbiAqIFRoZSBSTEUgZW5jb2RlciBjb3VudHMgdGhlIG51bWJlciBvZiBzYW1lIG9jY3VyZW5jZXMgb2YgdGhlIHNhbWUgdmFsdWUuXG4gKiBUaGUgSW5jVWludE9wdFJsZSBlbmNvZGVyIGNvdW50cyBpZiB0aGUgdmFsdWUgaW5jcmVhc2VzLlxuICogSS5lLiA3LCA4LCA5LCAxMCB3aWxsIGJlIGVuY29kZWQgYXMgWy03LCA0XS4gMSwgMywgNSB3aWxsIGJlIGVuY29kZWRcbiAqIGFzIFsxLCAzLCA1XS5cbiAqL1xuZXhwb3J0IGNsYXNzIEluY1VpbnRPcHRSbGVFbmNvZGVyIHtcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHRoaXMuZW5jb2RlciA9IG5ldyBFbmNvZGVyKClcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucyA9IDBcbiAgICB0aGlzLmNvdW50ID0gMFxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2XG4gICAqL1xuICB3cml0ZSAodikge1xuICAgIGlmICh0aGlzLnMgKyB0aGlzLmNvdW50ID09PSB2KSB7XG4gICAgICB0aGlzLmNvdW50KytcbiAgICB9IGVsc2Uge1xuICAgICAgZmx1c2hVaW50T3B0UmxlRW5jb2Rlcih0aGlzKVxuICAgICAgdGhpcy5jb3VudCA9IDFcbiAgICAgIHRoaXMucyA9IHZcbiAgICB9XG4gIH1cblxuICB0b1VpbnQ4QXJyYXkgKCkge1xuICAgIGZsdXNoVWludE9wdFJsZUVuY29kZXIodGhpcylcbiAgICByZXR1cm4gdG9VaW50OEFycmF5KHRoaXMuZW5jb2RlcilcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7SW50RGlmZk9wdFJsZUVuY29kZXJ9IGVuY29kZXJcbiAqL1xuY29uc3QgZmx1c2hJbnREaWZmT3B0UmxlRW5jb2RlciA9IGVuY29kZXIgPT4ge1xuICBpZiAoZW5jb2Rlci5jb3VudCA+IDApIHtcbiAgICAvLyAgICAgICAgICAzMSBiaXQgbWFraW5nIHVwIHRoZSBkaWZmIHwgd2V0aGVyIHRvIHdyaXRlIHRoZSBjb3VudGVyXG4gICAgY29uc3QgZW5jb2RlZERpZmYgPSBlbmNvZGVyLmRpZmYgPDwgMSB8IChlbmNvZGVyLmNvdW50ID09PSAxID8gMCA6IDEpXG4gICAgLy8gZmx1c2ggY291bnRlciwgdW5sZXNzIHRoaXMgaXMgdGhlIGZpcnN0IHZhbHVlIChjb3VudCA9IDApXG4gICAgLy8gY2FzZSAxOiBqdXN0IGEgc2luZ2xlIHZhbHVlLiBzZXQgZmlyc3QgYml0IHRvIHBvc2l0aXZlXG4gICAgLy8gY2FzZSAyOiB3cml0ZSBzZXZlcmFsIHZhbHVlcy4gc2V0IGZpcnN0IGJpdCB0byBuZWdhdGl2ZSB0byBpbmRpY2F0ZSB0aGF0IHRoZXJlIGlzIGEgbGVuZ3RoIGNvbWluZ1xuICAgIHdyaXRlVmFySW50KGVuY29kZXIuZW5jb2RlciwgZW5jb2RlZERpZmYpXG4gICAgaWYgKGVuY29kZXIuY291bnQgPiAxKSB7XG4gICAgICB3cml0ZVZhclVpbnQoZW5jb2Rlci5lbmNvZGVyLCBlbmNvZGVyLmNvdW50IC0gMikgLy8gc2luY2UgY291bnQgaXMgYWx3YXlzID4gMSwgd2UgY2FuIGRlY3JlbWVudCBieSBvbmUuIG5vbi1zdGFuZGFyZCBlbmNvZGluZyBmdHdcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBBIGNvbWJpbmF0aW9uIG9mIHRoZSBJbnREaWZmRW5jb2RlciBhbmQgdGhlIFVpbnRPcHRSbGVFbmNvZGVyLlxuICpcbiAqIFRoZSBjb3VudCBhcHByb2FjaCBpcyBzaW1pbGFyIHRvIHRoZSBVaW50RGlmZk9wdFJsZUVuY29kZXIsIGJ1dCBpbnN0ZWFkIG9mIHVzaW5nIHRoZSBuZWdhdGl2ZSBiaXRmbGFnLCBpdCBlbmNvZGVzXG4gKiBpbiB0aGUgTFNCIHdoZXRoZXIgYSBjb3VudCBpcyB0byBiZSByZWFkLiBUaGVyZWZvcmUgdGhpcyBFbmNvZGVyIG9ubHkgc3VwcG9ydHMgMzEgYml0IGludGVnZXJzIVxuICpcbiAqIEVuY29kZXMgWzEsIDIsIDMsIDJdIGFzIFszLCAxLCA2LCAtMV0gKG1vcmUgc3BlY2lmaWNhbGx5IFsoMSA8PCAxKSB8IDEsICgzIDw8IDApIHwgMCwgLTFdKVxuICpcbiAqIEludGVybmFsbHkgdXNlcyB2YXJpYWJsZSBsZW5ndGggZW5jb2RpbmcuIENvbnRyYXJ5IHRvIG5vcm1hbCBVaW50VmFyIGVuY29kaW5nLCB0aGUgZmlyc3QgYnl0ZSBjb250YWluczpcbiAqICogMSBiaXQgdGhhdCBkZW5vdGVzIHdoZXRoZXIgdGhlIG5leHQgdmFsdWUgaXMgYSBjb3VudCAoTFNCKVxuICogKiAxIGJpdCB0aGF0IGRlbm90ZXMgd2hldGhlciB0aGlzIHZhbHVlIGlzIG5lZ2F0aXZlIChNU0IgLSAxKVxuICogKiAxIGJpdCB0aGF0IGRlbm90ZXMgd2hldGhlciB0byBjb250aW51ZSByZWFkaW5nIHRoZSB2YXJpYWJsZSBsZW5ndGggaW50ZWdlciAoTVNCKVxuICpcbiAqIFRoZXJlZm9yZSwgb25seSBmaXZlIGJpdHMgcmVtYWluIHRvIGVuY29kZSBkaWZmIHJhbmdlcy5cbiAqXG4gKiBVc2UgdGhpcyBFbmNvZGVyIG9ubHkgd2hlbiBhcHByb3ByaWF0ZS4gSW4gbW9zdCBjYXNlcywgdGhpcyBpcyBwcm9iYWJseSBhIGJhZCBpZGVhLlxuICovXG5leHBvcnQgY2xhc3MgSW50RGlmZk9wdFJsZUVuY29kZXIge1xuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgdGhpcy5lbmNvZGVyID0gbmV3IEVuY29kZXIoKVxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5zID0gMFxuICAgIHRoaXMuY291bnQgPSAwXG4gICAgdGhpcy5kaWZmID0gMFxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2XG4gICAqL1xuICB3cml0ZSAodikge1xuICAgIGlmICh0aGlzLmRpZmYgPT09IHYgLSB0aGlzLnMpIHtcbiAgICAgIHRoaXMucyA9IHZcbiAgICAgIHRoaXMuY291bnQrK1xuICAgIH0gZWxzZSB7XG4gICAgICBmbHVzaEludERpZmZPcHRSbGVFbmNvZGVyKHRoaXMpXG4gICAgICB0aGlzLmNvdW50ID0gMVxuICAgICAgdGhpcy5kaWZmID0gdiAtIHRoaXMuc1xuICAgICAgdGhpcy5zID0gdlxuICAgIH1cbiAgfVxuXG4gIHRvVWludDhBcnJheSAoKSB7XG4gICAgZmx1c2hJbnREaWZmT3B0UmxlRW5jb2Rlcih0aGlzKVxuICAgIHJldHVybiB0b1VpbnQ4QXJyYXkodGhpcy5lbmNvZGVyKVxuICB9XG59XG5cbi8qKlxuICogT3B0aW1pemVkIFN0cmluZyBFbmNvZGVyLlxuICpcbiAqIEVuY29kaW5nIG1hbnkgc21hbGwgc3RyaW5ncyBpbiBhIHNpbXBsZSBFbmNvZGVyIGlzIG5vdCB2ZXJ5IGVmZmljaWVudC4gVGhlIGZ1bmN0aW9uIGNhbGwgdG8gZGVjb2RlIGEgc3RyaW5nIHRha2VzIHNvbWUgdGltZSBhbmQgY3JlYXRlcyByZWZlcmVuY2VzIHRoYXQgbXVzdCBiZSBldmVudHVhbGx5IGRlbGV0ZWQuXG4gKiBJbiBwcmFjdGljZSwgd2hlbiBkZWNvZGluZyBzZXZlcmFsIG1pbGxpb24gc21hbGwgc3RyaW5ncywgdGhlIEdDIHdpbGwga2ljayBpbiBtb3JlIGFuZCBtb3JlIG9mdGVuIHRvIGNvbGxlY3Qgb3JwaGFuZWQgc3RyaW5nIG9iamVjdHMgKG9yIG1heWJlIHRoZXJlIGlzIGFub3RoZXIgcmVhc29uPykuXG4gKlxuICogVGhpcyBzdHJpbmcgZW5jb2RlciBzb2x2ZXMgdGhlIGFib3ZlIHByb2JsZW0uIEFsbCBzdHJpbmdzIGFyZSBjb25jYXRlbmF0ZWQgYW5kIHdyaXR0ZW4gYXMgYSBzaW5nbGUgc3RyaW5nIHVzaW5nIGEgc2luZ2xlIGVuY29kaW5nIGNhbGwuXG4gKlxuICogVGhlIGxlbmd0aHMgYXJlIGVuY29kZWQgdXNpbmcgYSBVaW50T3B0UmxlRW5jb2Rlci5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0cmluZ0VuY29kZXIge1xuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAgICovXG4gICAgdGhpcy5zYXJyID0gW11cbiAgICB0aGlzLnMgPSAnJ1xuICAgIHRoaXMubGVuc0UgPSBuZXcgVWludE9wdFJsZUVuY29kZXIoKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdcbiAgICovXG4gIHdyaXRlIChzdHJpbmcpIHtcbiAgICB0aGlzLnMgKz0gc3RyaW5nXG4gICAgaWYgKHRoaXMucy5sZW5ndGggPiAxOSkge1xuICAgICAgdGhpcy5zYXJyLnB1c2godGhpcy5zKVxuICAgICAgdGhpcy5zID0gJydcbiAgICB9XG4gICAgdGhpcy5sZW5zRS53cml0ZShzdHJpbmcubGVuZ3RoKVxuICB9XG5cbiAgdG9VaW50OEFycmF5ICgpIHtcbiAgICBjb25zdCBlbmNvZGVyID0gbmV3IEVuY29kZXIoKVxuICAgIHRoaXMuc2Fyci5wdXNoKHRoaXMucylcbiAgICB0aGlzLnMgPSAnJ1xuICAgIHdyaXRlVmFyU3RyaW5nKGVuY29kZXIsIHRoaXMuc2Fyci5qb2luKCcnKSlcbiAgICB3cml0ZVVpbnQ4QXJyYXkoZW5jb2RlciwgdGhpcy5sZW5zRS50b1VpbnQ4QXJyYXkoKSlcbiAgICByZXR1cm4gdG9VaW50OEFycmF5KGVuY29kZXIpXG4gIH1cbn1cbiIsIi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuZXhwb3J0IGNvbnN0IHBlcmZvcm1hbmNlID0gdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogKHR5cGVvZiB3aW5kb3cucGVyZm9ybWFuY2UgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wZXJmb3JtYW5jZSkgfHwgbnVsbFxuXG5jb25zdCBpc29DcnlwdG8gPSB0eXBlb2YgY3J5cHRvID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiBjcnlwdG9cblxuLyoqXG4gKiBAdHlwZSB7ZnVuY3Rpb24obnVtYmVyKTpBcnJheUJ1ZmZlcn1cbiAqL1xuZXhwb3J0IGNvbnN0IGNyeXB0b1JhbmRvbUJ1ZmZlciA9IGlzb0NyeXB0byAhPT0gbnVsbFxuICA/IGxlbiA9PiB7XG4gICAgLy8gYnJvd3NlclxuICAgIGNvbnN0IGJ1ZiA9IG5ldyBBcnJheUJ1ZmZlcihsZW4pXG4gICAgY29uc3QgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYnVmKVxuICAgIGlzb0NyeXB0by5nZXRSYW5kb21WYWx1ZXMoYXJyKVxuICAgIHJldHVybiBidWZcbiAgfVxuICA6IGxlbiA9PiB7XG4gICAgLy8gcG9seWZpbGxcbiAgICBjb25zdCBidWYgPSBuZXcgQXJyYXlCdWZmZXIobGVuKVxuICAgIGNvbnN0IGFyciA9IG5ldyBVaW50OEFycmF5KGJ1ZilcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhcnJbaV0gPSBNYXRoLmNlaWwoKE1hdGgucmFuZG9tKCkgKiAweEZGRkZGRkZGKSA+Pj4gMClcbiAgICB9XG4gICAgcmV0dXJuIGJ1ZlxuICB9XG4iLCJcbi8qKlxuICogSXNvbW9ycGhpYyBtb2R1bGUgZm9yIHRydWUgcmFuZG9tIG51bWJlcnMgLyBidWZmZXJzIC8gdXVpZHMuXG4gKlxuICogQXR0ZW50aW9uOiBmYWxscyBiYWNrIHRvIE1hdGgucmFuZG9tIGlmIHRoZSBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgY3J5cHRvLlxuICpcbiAqIEBtb2R1bGUgcmFuZG9tXG4gKi9cblxuaW1wb3J0ICogYXMgbWF0aCBmcm9tICcuL21hdGguanMnXG5pbXBvcnQgeyBjcnlwdG9SYW5kb21CdWZmZXIgfSBmcm9tICcuL2lzb21vcnBoaWMuanMnXG5cbmV4cG9ydCBjb25zdCByYW5kID0gTWF0aC5yYW5kb21cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBjb25zdCB1aW50MzIgPSAoKSA9PiBuZXcgVWludDMyQXJyYXkoY3J5cHRvUmFuZG9tQnVmZmVyKDQpKVswXVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge0FycmF5PFQ+fSBhcnJcbiAqIEByZXR1cm4ge1R9XG4gKi9cbmV4cG9ydCBjb25zdCBvbmVPZiA9IGFyciA9PiBhcnJbbWF0aC5mbG9vcihyYW5kKCkgKiBhcnIubGVuZ3RoKV1cblxuLy8gQHRzLWlnbm9yZVxuY29uc3QgdXVpZHY0VGVtcGxhdGUgPSBbMWU3XSArIC0xZTMgKyAtNGUzICsgLThlMyArIC0xZTExXG5leHBvcnQgY29uc3QgdXVpZHY0ID0gKCkgPT4gdXVpZHY0VGVtcGxhdGUucmVwbGFjZSgvWzAxOF0vZywgLyoqIEBwYXJhbSB7bnVtYmVyfSBjICovIGMgPT5cbiAgKGMgXiB1aW50MzIoKSAmIDE1ID4+IGMgLyA0KS50b1N0cmluZygxNilcbilcbiIsIi8qKlxuICogVXRpbGl0eSBtb2R1bGUgdG8gd29yayB3aXRoIHRpbWUuXG4gKlxuICogQG1vZHVsZSB0aW1lXG4gKi9cblxuaW1wb3J0ICogYXMgbWV0cmljIGZyb20gJy4vbWV0cmljLmpzJ1xuaW1wb3J0ICogYXMgbWF0aCBmcm9tICcuL21hdGguanMnXG5cbi8qKlxuICogUmV0dXJuIGN1cnJlbnQgdGltZS5cbiAqXG4gKiBAcmV0dXJuIHtEYXRlfVxuICovXG5leHBvcnQgY29uc3QgZ2V0RGF0ZSA9ICgpID0+IG5ldyBEYXRlKClcblxuLyoqXG4gKiBSZXR1cm4gY3VycmVudCB1bml4IHRpbWUuXG4gKlxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgZ2V0VW5peFRpbWUgPSBEYXRlLm5vd1xuXG4vKipcbiAqIFRyYW5zZm9ybSB0aW1lIChpbiBtcykgdG8gYSBodW1hbiByZWFkYWJsZSBmb3JtYXQuIEUuZy4gMTEwMCA9PiAxLjFzLiA2MHMgPT4gMW1pbi4gLjAwMSA9PiAxMM68cy5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gZCBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHNcbiAqIEByZXR1cm4ge3N0cmluZ30gaHVtYW5pemVkIGFwcHJveGltYXRpb24gb2YgdGltZVxuICovXG5leHBvcnQgY29uc3QgaHVtYW5pemVEdXJhdGlvbiA9IGQgPT4ge1xuICBpZiAoZCA8IDYwMDAwKSB7XG4gICAgY29uc3QgcCA9IG1ldHJpYy5wcmVmaXgoZCwgLTEpXG4gICAgcmV0dXJuIG1hdGgucm91bmQocC5uICogMTAwKSAvIDEwMCArIHAucHJlZml4ICsgJ3MnXG4gIH1cbiAgZCA9IG1hdGguZmxvb3IoZCAvIDEwMDApXG4gIGNvbnN0IHNlY29uZHMgPSBkICUgNjBcbiAgY29uc3QgbWludXRlcyA9IG1hdGguZmxvb3IoZCAvIDYwKSAlIDYwXG4gIGNvbnN0IGhvdXJzID0gbWF0aC5mbG9vcihkIC8gMzYwMCkgJSAyNFxuICBjb25zdCBkYXlzID0gbWF0aC5mbG9vcihkIC8gODY0MDApXG4gIGlmIChkYXlzID4gMCkge1xuICAgIHJldHVybiBkYXlzICsgJ2QnICsgKChob3VycyA+IDAgfHwgbWludXRlcyA+IDMwKSA/ICcgJyArIChtaW51dGVzID4gMzAgPyBob3VycyArIDEgOiBob3VycykgKyAnaCcgOiAnJylcbiAgfVxuICBpZiAoaG91cnMgPiAwKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICByZXR1cm4gaG91cnMgKyAnaCcgKyAoKG1pbnV0ZXMgPiAwIHx8IHNlY29uZHMgPiAzMCkgPyAnICcgKyAoc2Vjb25kcyA+IDMwID8gbWludXRlcyArIDEgOiBtaW51dGVzKSArICdtaW4nIDogJycpXG4gIH1cbiAgcmV0dXJuIG1pbnV0ZXMgKyAnbWluJyArIChzZWNvbmRzID4gMCA/ICcgJyArIHNlY29uZHMgKyAncycgOiAnJylcbn1cbiIsIi8qKlxuICogRXJyb3IgaGVscGVycy5cbiAqXG4gKiBAbW9kdWxlIGVycm9yXG4gKi9cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHNcbiAqIEByZXR1cm4ge0Vycm9yfVxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlID0gcyA9PiBuZXcgRXJyb3IocylcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbi8qKlxuICogQHRocm93cyB7RXJyb3J9XG4gKiBAcmV0dXJuIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGNvbnN0IG1ldGhvZFVuaW1wbGVtZW50ZWQgPSAoKSA9PiB7XG4gIHRocm93IGNyZWF0ZSgnTWV0aG9kIHVuaW1wbGVtZW50ZWQnKVxufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuLyoqXG4gKiBAdGhyb3dzIHtFcnJvcn1cbiAqIEByZXR1cm4ge25ldmVyfVxuICovXG5leHBvcnQgY29uc3QgdW5leHBlY3RlZENhc2UgPSAoKSA9PiB7XG4gIHRocm93IGNyZWF0ZSgnVW5leHBlY3RlZCBjYXNlJylcbn1cbiIsIi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbnMgZm9yIHdvcmtpbmcgd2l0aCBFY21hU2NyaXB0IG9iamVjdHMuXG4gKlxuICogQG1vZHVsZSBvYmplY3RcbiAqL1xuXG4vKipcbiAqIEByZXR1cm4ge09iamVjdDxzdHJpbmcsYW55Pn0gb2JqXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGUgPSAoKSA9PiBPYmplY3QuY3JlYXRlKG51bGwpXG5cbi8qKlxuICogT2JqZWN0LmFzc2lnblxuICovXG5leHBvcnQgY29uc3QgYXNzaWduID0gT2JqZWN0LmFzc2lnblxuXG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZyxhbnk+fSBvYmpcbiAqL1xuZXhwb3J0IGNvbnN0IGtleXMgPSBPYmplY3Qua2V5c1xuXG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZyxhbnk+fSBvYmpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oYW55LHN0cmluZyk6YW55fSBmXG4gKi9cbmV4cG9ydCBjb25zdCBmb3JFYWNoID0gKG9iaiwgZikgPT4ge1xuICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICBmKG9ialtrZXldLCBrZXkpXG4gIH1cbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgUlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLGFueT59IG9ialxuICogQHBhcmFtIHtmdW5jdGlvbihhbnksc3RyaW5nKTpSfSBmXG4gKiBAcmV0dXJuIHtBcnJheTxSPn1cbiAqL1xuZXhwb3J0IGNvbnN0IG1hcCA9IChvYmosIGYpID0+IHtcbiAgY29uc3QgcmVzdWx0cyA9IFtdXG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgIHJlc3VsdHMucHVzaChmKG9ialtrZXldLCBrZXkpKVxuICB9XG4gIHJldHVybiByZXN1bHRzXG59XG5cbi8qKlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLGFueT59IG9ialxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgbGVuZ3RoID0gb2JqID0+IGtleXMob2JqKS5sZW5ndGhcblxuLyoqXG4gKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsYW55Pn0gb2JqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGFueSxzdHJpbmcpOmJvb2xlYW59IGZcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBjb25zdCBzb21lID0gKG9iaiwgZikgPT4ge1xuICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICBpZiAoZihvYmpba2V5XSwga2V5KSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbi8qKlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLGFueT59IG9ialxuICogQHBhcmFtIHtmdW5jdGlvbihhbnksc3RyaW5nKTpib29sZWFufSBmXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgY29uc3QgZXZlcnkgPSAob2JqLCBmKSA9PiB7XG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgIGlmICghZihvYmpba2V5XSwga2V5KSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlXG59XG5cbi8qKlxuICogQ2FsbHMgYE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlgLlxuICpcbiAqIEBwYXJhbSB7YW55fSBvYmpcbiAqIEBwYXJhbSB7c3RyaW5nfHN5bWJvbH0ga2V5XG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgY29uc3QgaGFzUHJvcGVydHkgPSAob2JqLCBrZXkpID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSlcblxuLyoqXG4gKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsYW55Pn0gYVxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLGFueT59IGJcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBjb25zdCBlcXVhbEZsYXQgPSAoYSwgYikgPT4gYSA9PT0gYiB8fCAobGVuZ3RoKGEpID09PSBsZW5ndGgoYikgJiYgZXZlcnkoYSwgKHZhbCwga2V5KSA9PiAodmFsICE9PSB1bmRlZmluZWQgfHwgaGFzUHJvcGVydHkoYiwga2V5KSkgJiYgYltrZXldID09PSB2YWwpKVxuIiwiLyoqXG4gKiBDb21tb24gZnVuY3Rpb25zIGFuZCBmdW5jdGlvbiBjYWxsIGhlbHBlcnMuXG4gKlxuICogQG1vZHVsZSBmdW5jdGlvblxuICovXG5cbmltcG9ydCAqIGFzIGFycmF5IGZyb20gJy4vYXJyYXkuanMnXG5pbXBvcnQgKiBhcyBvYmplY3QgZnJvbSAnLi9vYmplY3QuanMnXG5cbi8qKlxuICogQ2FsbHMgYWxsIGZ1bmN0aW9ucyBpbiBgZnNgIHdpdGggYXJncy4gT25seSB0aHJvd3MgYWZ0ZXIgYWxsIGZ1bmN0aW9ucyB3ZXJlIGNhbGxlZC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PGZ1bmN0aW9uPn0gZnNcbiAqIEBwYXJhbSB7QXJyYXk8YW55Pn0gYXJnc1xuICovXG5leHBvcnQgY29uc3QgY2FsbEFsbCA9IChmcywgYXJncywgaSA9IDApID0+IHtcbiAgdHJ5IHtcbiAgICBmb3IgKDsgaSA8IGZzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmc1tpXSguLi5hcmdzKVxuICAgIH1cbiAgfSBmaW5hbGx5IHtcbiAgICBpZiAoaSA8IGZzLmxlbmd0aCkge1xuICAgICAgY2FsbEFsbChmcywgYXJncywgaSArIDEpXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBub3AgPSAoKSA9PiB7fVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCk6VH0gZlxuICogQHJldHVybiB7VH1cbiAqL1xuZXhwb3J0IGNvbnN0IGFwcGx5ID0gZiA9PiBmKClcblxuLyoqXG4gKiBAdGVtcGxhdGUgQVxuICpcbiAqIEBwYXJhbSB7QX0gYVxuICogQHJldHVybiB7QX1cbiAqL1xuZXhwb3J0IGNvbnN0IGlkID0gYSA9PiBhXG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqXG4gKiBAcGFyYW0ge1R9IGFcbiAqIEBwYXJhbSB7VH0gYlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGNvbnN0IGVxdWFsaXR5U3RyaWN0ID0gKGEsIGIpID0+IGEgPT09IGJcblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICpcbiAqIEBwYXJhbSB7QXJyYXk8VD58b2JqZWN0fSBhXG4gKiBAcGFyYW0ge0FycmF5PFQ+fG9iamVjdH0gYlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGNvbnN0IGVxdWFsaXR5RmxhdCA9IChhLCBiKSA9PiBhID09PSBiIHx8IChhICE9IG51bGwgJiYgYiAhPSBudWxsICYmIGEuY29uc3RydWN0b3IgPT09IGIuY29uc3RydWN0b3IgJiYgKChhIGluc3RhbmNlb2YgQXJyYXkgJiYgYXJyYXkuZXF1YWxGbGF0KGEsIC8qKiBAdHlwZSB7QXJyYXk8VD59ICovIChiKSkpIHx8ICh0eXBlb2YgYSA9PT0gJ29iamVjdCcgJiYgb2JqZWN0LmVxdWFsRmxhdChhLCBiKSkpKVxuXG4vKipcbiAqIEBwYXJhbSB7YW55fSBhXG4gKiBAcGFyYW0ge2FueX0gYlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGNvbnN0IGVxdWFsaXR5RGVlcCA9IChhLCBiKSA9PiB7XG4gIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGVxdWFsaXR5U3RyaWN0KGEsIGIpXG4gIH1cbiAgaWYgKGEuY29uc3RydWN0b3IgIT09IGIuY29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICBpZiAoYSA9PT0gYikge1xuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgc3dpdGNoIChhLmNvbnN0cnVjdG9yKSB7XG4gICAgY2FzZSBBcnJheUJ1ZmZlcjpcbiAgICAgIGEgPSBuZXcgVWludDhBcnJheShhKVxuICAgICAgYiA9IG5ldyBVaW50OEFycmF5KGIpXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWZhbGx0aHJvdWdoXG4gICAgY2FzZSBVaW50OEFycmF5OiB7XG4gICAgICBpZiAoYS5ieXRlTGVuZ3RoICE9PSBiLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGFbaV0gIT09IGJbaV0pIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYnJlYWtcbiAgICB9XG4gICAgY2FzZSBTZXQ6IHtcbiAgICAgIGlmIChhLnNpemUgIT09IGIuc2l6ZSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgYSkge1xuICAgICAgICBpZiAoIWIuaGFzKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVha1xuICAgIH1cbiAgICBjYXNlIE1hcDoge1xuICAgICAgaWYgKGEuc2l6ZSAhPT0gYi5zaXplKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBrZXkgb2YgYS5rZXlzKCkpIHtcbiAgICAgICAgaWYgKCFiLmhhcyhrZXkpIHx8ICFlcXVhbGl0eURlZXAoYS5nZXQoa2V5KSwgYi5nZXQoa2V5KSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYnJlYWtcbiAgICB9XG4gICAgY2FzZSBPYmplY3Q6XG4gICAgICBpZiAob2JqZWN0Lmxlbmd0aChhKSAhPT0gb2JqZWN0Lmxlbmd0aChiKSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3Qga2V5IGluIGEpIHtcbiAgICAgICAgaWYgKCFvYmplY3QuaGFzUHJvcGVydHkoYSwga2V5KSB8fCAhZXF1YWxpdHlEZWVwKGFba2V5XSwgYltrZXldKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVha1xuICAgIGNhc2UgQXJyYXk6XG4gICAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghZXF1YWxpdHlEZWVwKGFbaV0sIGJbaV0pKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZVxuICB9XG4gIHJldHVybiB0cnVlXG59XG4iLCIvKipcbiAqIFV0aWxpdHkgbW9kdWxlIHRvIHdvcmsgd2l0aCBFY21hU2NyaXB0IFN5bWJvbHMuXG4gKlxuICogQG1vZHVsZSBzeW1ib2xcbiAqL1xuXG4vKipcbiAqIFJldHVybiBmcmVzaCBzeW1ib2wuXG4gKlxuICogQHJldHVybiB7U3ltYm9sfVxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlID0gU3ltYm9sXG5cbi8qKlxuICogQHBhcmFtIHthbnl9IHNcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBjb25zdCBpc1N5bWJvbCA9IHMgPT4gdHlwZW9mIHMgPT09ICdzeW1ib2wnXG4iLCIvKipcbiAqIFdvcmtpbmcgd2l0aCB2YWx1ZSBwYWlycy5cbiAqXG4gKiBAbW9kdWxlIHBhaXJcbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBMLFJcbiAqL1xuZXhwb3J0IGNsYXNzIFBhaXIge1xuICAvKipcbiAgICogQHBhcmFtIHtMfSBsZWZ0XG4gICAqIEBwYXJhbSB7Un0gcmlnaHRcbiAgICovXG4gIGNvbnN0cnVjdG9yIChsZWZ0LCByaWdodCkge1xuICAgIHRoaXMubGVmdCA9IGxlZnRcbiAgICB0aGlzLnJpZ2h0ID0gcmlnaHRcbiAgfVxufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBMLFJcbiAqIEBwYXJhbSB7TH0gbGVmdFxuICogQHBhcmFtIHtSfSByaWdodFxuICogQHJldHVybiB7UGFpcjxMLFI+fVxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlID0gKGxlZnQsIHJpZ2h0KSA9PiBuZXcgUGFpcihsZWZ0LCByaWdodClcblxuLyoqXG4gKiBAdGVtcGxhdGUgTCxSXG4gKiBAcGFyYW0ge1J9IHJpZ2h0XG4gKiBAcGFyYW0ge0x9IGxlZnRcbiAqIEByZXR1cm4ge1BhaXI8TCxSPn1cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVJldmVyc2VkID0gKHJpZ2h0LCBsZWZ0KSA9PiBuZXcgUGFpcihsZWZ0LCByaWdodClcblxuLyoqXG4gKiBAdGVtcGxhdGUgTCxSXG4gKiBAcGFyYW0ge0FycmF5PFBhaXI8TCxSPj59IGFyclxuICogQHBhcmFtIHtmdW5jdGlvbihMLCBSKTphbnl9IGZcbiAqL1xuZXhwb3J0IGNvbnN0IGZvckVhY2ggPSAoYXJyLCBmKSA9PiBhcnIuZm9yRWFjaChwID0+IGYocC5sZWZ0LCBwLnJpZ2h0KSlcblxuLyoqXG4gKiBAdGVtcGxhdGUgTCxSLFhcbiAqIEBwYXJhbSB7QXJyYXk8UGFpcjxMLFI+Pn0gYXJyXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKEwsIFIpOlh9IGZcbiAqIEByZXR1cm4ge0FycmF5PFg+fVxuICovXG5leHBvcnQgY29uc3QgbWFwID0gKGFyciwgZikgPT4gYXJyLm1hcChwID0+IGYocC5sZWZ0LCBwLnJpZ2h0KSlcbiIsIi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuXG4vKipcbiAqIFV0aWxpdHkgbW9kdWxlIHRvIHdvcmsgd2l0aCB0aGUgRE9NLlxuICpcbiAqIEBtb2R1bGUgZG9tXG4gKi9cblxuaW1wb3J0ICogYXMgcGFpciBmcm9tICcuL3BhaXIuanMnXG5pbXBvcnQgKiBhcyBtYXAgZnJvbSAnLi9tYXAuanMnXG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4vKipcbiAqIEB0eXBlIHtEb2N1bWVudH1cbiAqL1xuZXhwb3J0IGNvbnN0IGRvYyA9IC8qKiBAdHlwZSB7RG9jdW1lbnR9ICovICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnID8gZG9jdW1lbnQgOiB7fSlcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHJldHVybiB7SFRNTEVsZW1lbnR9XG4gKi9cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgY29uc3QgY3JlYXRlRWxlbWVudCA9IG5hbWUgPT4gZG9jLmNyZWF0ZUVsZW1lbnQobmFtZSlcblxuLyoqXG4gKiBAcmV0dXJuIHtEb2N1bWVudEZyYWdtZW50fVxuICovXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZURvY3VtZW50RnJhZ21lbnQgPSAoKSA9PiBkb2MuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAqIEByZXR1cm4ge1RleHR9XG4gKi9cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgY29uc3QgY3JlYXRlVGV4dE5vZGUgPSB0ZXh0ID0+IGRvYy5jcmVhdGVUZXh0Tm9kZSh0ZXh0KVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGNvbnN0IGRvbVBhcnNlciA9IC8qKiBAdHlwZSB7RE9NUGFyc2VyfSAqLyAodHlwZW9mIERPTVBhcnNlciAhPT0gJ3VuZGVmaW5lZCcgPyBuZXcgRE9NUGFyc2VyKCkgOiBudWxsKVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdHNcbiAqL1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBjb25zdCBlbWl0Q3VzdG9tRXZlbnQgPSAoZWwsIG5hbWUsIG9wdHMpID0+IGVsLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KG5hbWUsIG9wdHMpKVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAqIEBwYXJhbSB7QXJyYXk8cGFpci5QYWlyPHN0cmluZyxzdHJpbmd8Ym9vbGVhbj4+fSBhdHRycyBBcnJheSBvZiBrZXktdmFsdWUgcGFpcnNcbiAqIEByZXR1cm4ge0VsZW1lbnR9XG4gKi9cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgY29uc3Qgc2V0QXR0cmlidXRlcyA9IChlbCwgYXR0cnMpID0+IHtcbiAgcGFpci5mb3JFYWNoKGF0dHJzLCAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShrZXkpXG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKGtleSwgJycpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGVsLnNldEF0dHJpYnV0ZShrZXksIHZhbHVlKVxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIGVsXG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICogQHBhcmFtIHtNYXA8c3RyaW5nLCBzdHJpbmc+fSBhdHRycyBBcnJheSBvZiBrZXktdmFsdWUgcGFpcnNcbiAqIEByZXR1cm4ge0VsZW1lbnR9XG4gKi9cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgY29uc3Qgc2V0QXR0cmlidXRlc01hcCA9IChlbCwgYXR0cnMpID0+IHtcbiAgYXR0cnMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4geyBlbC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSkgfSlcbiAgcmV0dXJuIGVsXG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxOb2RlPnxIVE1MQ29sbGVjdGlvbn0gY2hpbGRyZW5cbiAqIEByZXR1cm4ge0RvY3VtZW50RnJhZ21lbnR9XG4gKi9cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgY29uc3QgZnJhZ21lbnQgPSBjaGlsZHJlbiA9PiB7XG4gIGNvbnN0IGZyYWdtZW50ID0gY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICBhcHBlbmRDaGlsZChmcmFnbWVudCwgY2hpbGRyZW5baV0pXG4gIH1cbiAgcmV0dXJuIGZyYWdtZW50XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBwYXJlbnRcbiAqIEBwYXJhbSB7QXJyYXk8Tm9kZT59IG5vZGVzXG4gKiBAcmV0dXJuIHtFbGVtZW50fVxuICovXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGNvbnN0IGFwcGVuZCA9IChwYXJlbnQsIG5vZGVzKSA9PiB7XG4gIGFwcGVuZENoaWxkKHBhcmVudCwgZnJhZ21lbnQobm9kZXMpKVxuICByZXR1cm4gcGFyZW50XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxcbiAqL1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBjb25zdCByZW1vdmUgPSBlbCA9PiBlbC5yZW1vdmUoKVxuXG4vKipcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IGVsXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHtFdmVudExpc3RlbmVyfSBmXG4gKi9cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgY29uc3QgYWRkRXZlbnRMaXN0ZW5lciA9IChlbCwgbmFtZSwgZikgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBmKVxuXG4vKipcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IGVsXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHtFdmVudExpc3RlbmVyfSBmXG4gKi9cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgY29uc3QgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IChlbCwgbmFtZSwgZikgPT4gZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCBmKVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICogQHBhcmFtIHtBcnJheTxwYWlyLlBhaXI8c3RyaW5nLEV2ZW50TGlzdGVuZXI+Pn0gbGlzdGVuZXJzXG4gKiBAcmV0dXJuIHtOb2RlfVxuICovXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGNvbnN0IGFkZEV2ZW50TGlzdGVuZXJzID0gKG5vZGUsIGxpc3RlbmVycykgPT4ge1xuICBwYWlyLmZvckVhY2gobGlzdGVuZXJzLCAobmFtZSwgZikgPT4gYWRkRXZlbnRMaXN0ZW5lcihub2RlLCBuYW1lLCBmKSlcbiAgcmV0dXJuIG5vZGVcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEBwYXJhbSB7QXJyYXk8cGFpci5QYWlyPHN0cmluZyxFdmVudExpc3RlbmVyPj59IGxpc3RlbmVyc1xuICogQHJldHVybiB7Tm9kZX1cbiAqL1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBjb25zdCByZW1vdmVFdmVudExpc3RlbmVycyA9IChub2RlLCBsaXN0ZW5lcnMpID0+IHtcbiAgcGFpci5mb3JFYWNoKGxpc3RlbmVycywgKG5hbWUsIGYpID0+IHJlbW92ZUV2ZW50TGlzdGVuZXIobm9kZSwgbmFtZSwgZikpXG4gIHJldHVybiBub2RlXG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7QXJyYXk8cGFpci5QYWlyPHN0cmluZyxzdHJpbmc+fHBhaXIuUGFpcjxzdHJpbmcsYm9vbGVhbj4+fSBhdHRycyBBcnJheSBvZiBrZXktdmFsdWUgcGFpcnNcbiAqIEBwYXJhbSB7QXJyYXk8Tm9kZT59IGNoaWxkcmVuXG4gKiBAcmV0dXJuIHtFbGVtZW50fVxuICovXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGNvbnN0IGVsZW1lbnQgPSAobmFtZSwgYXR0cnMgPSBbXSwgY2hpbGRyZW4gPSBbXSkgPT5cbiAgYXBwZW5kKHNldEF0dHJpYnV0ZXMoY3JlYXRlRWxlbWVudChuYW1lKSwgYXR0cnMpLCBjaGlsZHJlbilcblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gd2lkdGhcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHRcbiAqL1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBjb25zdCBjYW52YXMgPSAod2lkdGgsIGhlaWdodCkgPT4ge1xuICBjb25zdCBjID0gLyoqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudH0gKi8gKGNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpKVxuICBjLmhlaWdodCA9IGhlaWdodFxuICBjLndpZHRoID0gd2lkdGhcbiAgcmV0dXJuIGNcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdFxuICogQHJldHVybiB7VGV4dH1cbiAqL1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBjb25zdCB0ZXh0ID0gY3JlYXRlVGV4dE5vZGVcblxuLyoqXG4gKiBAcGFyYW0ge3BhaXIuUGFpcjxzdHJpbmcsc3RyaW5nPn0gcGFpclxuICovXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGNvbnN0IHBhaXJUb1N0eWxlU3RyaW5nID0gcGFpciA9PiBgJHtwYWlyLmxlZnR9OiR7cGFpci5yaWdodH07YFxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8cGFpci5QYWlyPHN0cmluZyxzdHJpbmc+Pn0gcGFpcnNcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBjb25zdCBwYWlyc1RvU3R5bGVTdHJpbmcgPSBwYWlycyA9PiBwYWlycy5tYXAocGFpclRvU3R5bGVTdHJpbmcpLmpvaW4oJycpXG5cbi8qKlxuICogQHBhcmFtIHtNYXA8c3RyaW5nLHN0cmluZz59IG1cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBjb25zdCBtYXBUb1N0eWxlU3RyaW5nID0gbSA9PiBtYXAubWFwKG0sICh2YWx1ZSwga2V5KSA9PiBgJHtrZXl9OiR7dmFsdWV9O2ApLmpvaW4oJycpXG5cbi8qKlxuICogQHRvZG8gc2hvdWxkIGFsd2F5cyBxdWVyeSBvbiBhIGRvbSBlbGVtZW50XG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudHxTaGFkb3dSb290fSBlbFxuICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5XG4gKiBAcmV0dXJuIHtIVE1MRWxlbWVudCB8IG51bGx9XG4gKi9cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgY29uc3QgcXVlcnlTZWxlY3RvciA9IChlbCwgcXVlcnkpID0+IGVsLnF1ZXJ5U2VsZWN0b3IocXVlcnkpXG5cbi8qKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudHxTaGFkb3dSb290fSBlbFxuICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5XG4gKiBAcmV0dXJuIHtOb2RlTGlzdE9mPEhUTUxFbGVtZW50Pn1cbiAqL1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBjb25zdCBxdWVyeVNlbGVjdG9yQWxsID0gKGVsLCBxdWVyeSkgPT4gZWwucXVlcnlTZWxlY3RvckFsbChxdWVyeSlcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqIEByZXR1cm4ge0hUTUxFbGVtZW50fVxuICovXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGNvbnN0IGdldEVsZW1lbnRCeUlkID0gaWQgPT4gLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi8gKGRvYy5nZXRFbGVtZW50QnlJZChpZCkpXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcbiAqIEByZXR1cm4ge0hUTUxFbGVtZW50fVxuICovXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuY29uc3QgX3BhcnNlID0gaHRtbCA9PiBkb21QYXJzZXIucGFyc2VGcm9tU3RyaW5nKGA8aHRtbD48Ym9keT4ke2h0bWx9PC9ib2R5PjwvaHRtbD5gLCAndGV4dC9odG1sJykuYm9keVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG4gKiBAcmV0dXJuIHtEb2N1bWVudEZyYWdtZW50fVxuICovXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGNvbnN0IHBhcnNlRnJhZ21lbnQgPSBodG1sID0+IGZyYWdtZW50KC8qKiBAdHlwZSB7YW55fSAqLyAoX3BhcnNlKGh0bWwpLmNoaWxkTm9kZXMpKVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG4gKiBAcmV0dXJuIHtIVE1MRWxlbWVudH1cbiAqL1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBjb25zdCBwYXJzZUVsZW1lbnQgPSBodG1sID0+IC8qKiBAdHlwZSBIVE1MRWxlbWVudCAqLyAoX3BhcnNlKGh0bWwpLmZpcnN0RWxlbWVudENoaWxkKVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG9sZEVsXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fERvY3VtZW50RnJhZ21lbnR9IG5ld0VsXG4gKi9cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgY29uc3QgcmVwbGFjZVdpdGggPSAob2xkRWwsIG5ld0VsKSA9PiBvbGRFbC5yZXBsYWNlV2l0aChuZXdFbClcblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsXG4gKiBAcGFyYW0ge05vZGV8bnVsbH0gcmVmXG4gKiBAcmV0dXJuIHtIVE1MRWxlbWVudH1cbiAqL1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBjb25zdCBpbnNlcnRCZWZvcmUgPSAocGFyZW50LCBlbCwgcmVmKSA9PiBwYXJlbnQuaW5zZXJ0QmVmb3JlKGVsLCByZWYpXG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSBwYXJlbnRcbiAqIEBwYXJhbSB7Tm9kZX0gY2hpbGRcbiAqIEByZXR1cm4ge05vZGV9XG4gKi9cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgY29uc3QgYXBwZW5kQ2hpbGQgPSAocGFyZW50LCBjaGlsZCkgPT4gcGFyZW50LmFwcGVuZENoaWxkKGNoaWxkKVxuXG5leHBvcnQgY29uc3QgRUxFTUVOVF9OT0RFID0gZG9jLkVMRU1FTlRfTk9ERVxuZXhwb3J0IGNvbnN0IFRFWFRfTk9ERSA9IGRvYy5URVhUX05PREVcbmV4cG9ydCBjb25zdCBDREFUQV9TRUNUSU9OX05PREUgPSBkb2MuQ0RBVEFfU0VDVElPTl9OT0RFXG5leHBvcnQgY29uc3QgQ09NTUVOVF9OT0RFID0gZG9jLkNPTU1FTlRfTk9ERVxuZXhwb3J0IGNvbnN0IERPQ1VNRU5UX05PREUgPSBkb2MuRE9DVU1FTlRfTk9ERVxuZXhwb3J0IGNvbnN0IERPQ1VNRU5UX1RZUEVfTk9ERSA9IGRvYy5ET0NVTUVOVF9UWVBFX05PREVcbmV4cG9ydCBjb25zdCBET0NVTUVOVF9GUkFHTUVOVF9OT0RFID0gZG9jLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREVcblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gbm9kZVxuICogQHBhcmFtIHtudW1iZXJ9IHR5cGVcbiAqL1xuZXhwb3J0IGNvbnN0IGNoZWNrTm9kZVR5cGUgPSAobm9kZSwgdHlwZSkgPT4gbm9kZS5ub2RlVHlwZSA9PT0gdHlwZVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gcGFyZW50XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjaGlsZFxuICovXG5leHBvcnQgY29uc3QgaXNQYXJlbnRPZiA9IChwYXJlbnQsIGNoaWxkKSA9PiB7XG4gIGxldCBwID0gY2hpbGQucGFyZW50Tm9kZVxuICB3aGlsZSAocCAmJiBwICE9PSBwYXJlbnQpIHtcbiAgICBwID0gcC5wYXJlbnROb2RlXG4gIH1cbiAgcmV0dXJuIHAgPT09IHBhcmVudFxufVxuIiwiLyoqXG4gKiBJc29tb3JwaGljIGxvZ2dpbmcgbW9kdWxlIHdpdGggc3VwcG9ydCBmb3IgY29sb3JzIVxuICpcbiAqIEBtb2R1bGUgbG9nZ2luZ1xuICovXG5cbmltcG9ydCAqIGFzIGVudiBmcm9tICcuL2Vudmlyb25tZW50LmpzJ1xuaW1wb3J0ICogYXMgc3ltYm9sIGZyb20gJy4vc3ltYm9sLmpzJ1xuaW1wb3J0ICogYXMgcGFpciBmcm9tICcuL3BhaXIuanMnXG5pbXBvcnQgKiBhcyBkb20gZnJvbSAnLi9kb20uanMnXG5pbXBvcnQgKiBhcyBqc29uIGZyb20gJy4vanNvbi5qcydcbmltcG9ydCAqIGFzIG1hcCBmcm9tICcuL21hcC5qcydcbmltcG9ydCAqIGFzIGV2ZW50bG9vcCBmcm9tICcuL2V2ZW50bG9vcC5qcydcbmltcG9ydCAqIGFzIG1hdGggZnJvbSAnLi9tYXRoLmpzJ1xuaW1wb3J0ICogYXMgdGltZSBmcm9tICcuL3RpbWUuanMnXG5pbXBvcnQgKiBhcyBmdW5jIGZyb20gJy4vZnVuY3Rpb24uanMnXG5cbmV4cG9ydCBjb25zdCBCT0xEID0gc3ltYm9sLmNyZWF0ZSgpXG5leHBvcnQgY29uc3QgVU5CT0xEID0gc3ltYm9sLmNyZWF0ZSgpXG5leHBvcnQgY29uc3QgQkxVRSA9IHN5bWJvbC5jcmVhdGUoKVxuZXhwb3J0IGNvbnN0IEdSRVkgPSBzeW1ib2wuY3JlYXRlKClcbmV4cG9ydCBjb25zdCBHUkVFTiA9IHN5bWJvbC5jcmVhdGUoKVxuZXhwb3J0IGNvbnN0IFJFRCA9IHN5bWJvbC5jcmVhdGUoKVxuZXhwb3J0IGNvbnN0IFBVUlBMRSA9IHN5bWJvbC5jcmVhdGUoKVxuZXhwb3J0IGNvbnN0IE9SQU5HRSA9IHN5bWJvbC5jcmVhdGUoKVxuZXhwb3J0IGNvbnN0IFVOQ09MT1IgPSBzeW1ib2wuY3JlYXRlKClcblxuLyoqXG4gKiBAdHlwZSB7T2JqZWN0PFN5bWJvbCxwYWlyLlBhaXI8c3RyaW5nLHN0cmluZz4+fVxuICovXG5jb25zdCBfYnJvd3NlclN0eWxlTWFwID0ge1xuICBbQk9MRF06IHBhaXIuY3JlYXRlKCdmb250LXdlaWdodCcsICdib2xkJyksXG4gIFtVTkJPTERdOiBwYWlyLmNyZWF0ZSgnZm9udC13ZWlnaHQnLCAnbm9ybWFsJyksXG4gIFtCTFVFXTogcGFpci5jcmVhdGUoJ2NvbG9yJywgJ2JsdWUnKSxcbiAgW0dSRUVOXTogcGFpci5jcmVhdGUoJ2NvbG9yJywgJ2dyZWVuJyksXG4gIFtHUkVZXTogcGFpci5jcmVhdGUoJ2NvbG9yJywgJ2dyZXknKSxcbiAgW1JFRF06IHBhaXIuY3JlYXRlKCdjb2xvcicsICdyZWQnKSxcbiAgW1BVUlBMRV06IHBhaXIuY3JlYXRlKCdjb2xvcicsICdwdXJwbGUnKSxcbiAgW09SQU5HRV06IHBhaXIuY3JlYXRlKCdjb2xvcicsICdvcmFuZ2UnKSwgLy8gbm90IHdlbGwgc3VwcG9ydGVkIGluIGNocm9tZSB3aGVuIGRlYnVnZ2luZyBub2RlIHdpdGggaW5zcGVjdG9yIC0gVE9ETzogZGVwcmVjYXRlXG4gIFtVTkNPTE9SXTogcGFpci5jcmVhdGUoJ2NvbG9yJywgJ2JsYWNrJylcbn1cblxuY29uc3QgX25vZGVTdHlsZU1hcCA9IHtcbiAgW0JPTERdOiAnXFx1MDAxYlsxbScsXG4gIFtVTkJPTERdOiAnXFx1MDAxYlsybScsXG4gIFtCTFVFXTogJ1xceDFiWzM0bScsXG4gIFtHUkVFTl06ICdcXHgxYlszMm0nLFxuICBbR1JFWV06ICdcXHUwMDFiWzM3bScsXG4gIFtSRURdOiAnXFx4MWJbMzFtJyxcbiAgW1BVUlBMRV06ICdcXHgxYlszNW0nLFxuICBbT1JBTkdFXTogJ1xceDFiWzM4OzU7MjA4bScsXG4gIFtVTkNPTE9SXTogJ1xceDFiWzBtJ1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuLyoqXG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZ3xTeW1ib2x8T2JqZWN0fG51bWJlcj59IGFyZ3NcbiAqIEByZXR1cm4ge0FycmF5PHN0cmluZ3xvYmplY3R8bnVtYmVyPn1cbiAqL1xuY29uc3QgY29tcHV0ZUJyb3dzZXJMb2dnaW5nQXJncyA9IGFyZ3MgPT4ge1xuICBjb25zdCBzdHJCdWlsZGVyID0gW11cbiAgY29uc3Qgc3R5bGVzID0gW11cbiAgY29uc3QgY3VycmVudFN0eWxlID0gbWFwLmNyZWF0ZSgpXG4gIC8qKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nfE9iamVjdHxudW1iZXI+fVxuICAgKi9cbiAgbGV0IGxvZ0FyZ3MgPSBbXVxuICAvLyB0cnkgd2l0aCBmb3JtYXR0aW5nIHVudGlsIHdlIGZpbmQgc29tZXRoaW5nIHVuc3VwcG9ydGVkXG4gIGxldCBpID0gMFxuXG4gIGZvciAoOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGFyZyA9IGFyZ3NbaV1cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgY29uc3Qgc3R5bGUgPSBfYnJvd3NlclN0eWxlTWFwW2FyZ11cbiAgICBpZiAoc3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY3VycmVudFN0eWxlLnNldChzdHlsZS5sZWZ0LCBzdHlsZS5yaWdodClcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGFyZy5jb25zdHJ1Y3RvciA9PT0gU3RyaW5nIHx8IGFyZy5jb25zdHJ1Y3RvciA9PT0gTnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gZG9tLm1hcFRvU3R5bGVTdHJpbmcoY3VycmVudFN0eWxlKVxuICAgICAgICBpZiAoaSA+IDAgfHwgc3R5bGUubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHN0ckJ1aWxkZXIucHVzaCgnJWMnICsgYXJnKVxuICAgICAgICAgIHN0eWxlcy5wdXNoKHN0eWxlKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ckJ1aWxkZXIucHVzaChhcmcpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGkgPiAwKSB7XG4gICAgLy8gY3JlYXRlIGxvZ0FyZ3Mgd2l0aCB3aGF0IHdlIGhhdmUgc28gZmFyXG4gICAgbG9nQXJncyA9IHN0eWxlc1xuICAgIGxvZ0FyZ3MudW5zaGlmdChzdHJCdWlsZGVyLmpvaW4oJycpKVxuICB9XG4gIC8vIGFwcGVuZCB0aGUgcmVzdFxuICBmb3IgKDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBhcmcgPSBhcmdzW2ldXG4gICAgaWYgKCEoYXJnIGluc3RhbmNlb2YgU3ltYm9sKSkge1xuICAgICAgbG9nQXJncy5wdXNoKGFyZylcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxvZ0FyZ3Ncbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZ3xTeW1ib2x8T2JqZWN0fG51bWJlcj59IGFyZ3NcbiAqIEByZXR1cm4ge0FycmF5PHN0cmluZ3xvYmplY3R8bnVtYmVyPn1cbiAqL1xuY29uc3QgY29tcHV0ZU5vZGVMb2dnaW5nQXJncyA9IGFyZ3MgPT4ge1xuICBjb25zdCBzdHJCdWlsZGVyID0gW11cbiAgY29uc3QgbG9nQXJncyA9IFtdXG5cbiAgLy8gdHJ5IHdpdGggZm9ybWF0dGluZyB1bnRpbCB3ZSBmaW5kIHNvbWV0aGluZyB1bnN1cHBvcnRlZFxuICBsZXQgaSA9IDBcblxuICBmb3IgKDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBhcmcgPSBhcmdzW2ldXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IHN0eWxlID0gX25vZGVTdHlsZU1hcFthcmddXG4gICAgaWYgKHN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHN0ckJ1aWxkZXIucHVzaChzdHlsZSlcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGFyZy5jb25zdHJ1Y3RvciA9PT0gU3RyaW5nIHx8IGFyZy5jb25zdHJ1Y3RvciA9PT0gTnVtYmVyKSB7XG4gICAgICAgIHN0ckJ1aWxkZXIucHVzaChhcmcpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoaSA+IDApIHtcbiAgICAvLyBjcmVhdGUgbG9nQXJncyB3aXRoIHdoYXQgd2UgaGF2ZSBzbyBmYXJcbiAgICBzdHJCdWlsZGVyLnB1c2goJ1xceDFiWzBtJylcbiAgICBsb2dBcmdzLnB1c2goc3RyQnVpbGRlci5qb2luKCcnKSlcbiAgfVxuICAvLyBhcHBlbmQgdGhlIHJlc3RcbiAgZm9yICg7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgYXJnID0gYXJnc1tpXVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKCEoYXJnIGluc3RhbmNlb2YgU3ltYm9sKSkge1xuICAgICAgbG9nQXJncy5wdXNoKGFyZylcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxvZ0FyZ3Ncbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmNvbnN0IGNvbXB1dGVMb2dnaW5nQXJncyA9IGVudi5pc05vZGUgPyBjb21wdXRlTm9kZUxvZ2dpbmdBcmdzIDogY29tcHV0ZUJyb3dzZXJMb2dnaW5nQXJnc1xuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nfFN5bWJvbHxPYmplY3R8bnVtYmVyPn0gYXJnc1xuICovXG5leHBvcnQgY29uc3QgcHJpbnQgPSAoLi4uYXJncykgPT4ge1xuICBjb25zb2xlLmxvZyguLi5jb21wdXRlTG9nZ2luZ0FyZ3MoYXJncykpXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHZjb25zb2xlcy5mb3JFYWNoKHZjID0+IHZjLnByaW50KGFyZ3MpKVxufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuLyoqXG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZ3xTeW1ib2x8T2JqZWN0fG51bWJlcj59IGFyZ3NcbiAqL1xuZXhwb3J0IGNvbnN0IHdhcm4gPSAoLi4uYXJncykgPT4ge1xuICBjb25zb2xlLndhcm4oLi4uY29tcHV0ZUxvZ2dpbmdBcmdzKGFyZ3MpKVxuICBhcmdzLnVuc2hpZnQoT1JBTkdFKVxuICB2Y29uc29sZXMuZm9yRWFjaCh2YyA9PiB2Yy5wcmludChhcmdzKSlcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbi8qKlxuICogQHBhcmFtIHtFcnJvcn0gZXJyXG4gKi9cbmV4cG9ydCBjb25zdCBwcmludEVycm9yID0gZXJyID0+IHtcbiAgY29uc29sZS5lcnJvcihlcnIpXG4gIHZjb25zb2xlcy5mb3JFYWNoKHZjID0+IHZjLnByaW50RXJyb3IoZXJyKSlcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBpbWFnZSBsb2NhdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBoZWlnaHQgb2YgdGhlIGltYWdlIGluIHBpeGVsXG4gKi9cbmV4cG9ydCBjb25zdCBwcmludEltZyA9ICh1cmwsIGhlaWdodCkgPT4ge1xuICBpZiAoZW52LmlzQnJvd3Nlcikge1xuICAgIGNvbnNvbGUubG9nKCclYyAgICAgICAgICAgICAgICAgICAgICAnLCBgZm9udC1zaXplOiAke2hlaWdodH1weDsgYmFja2dyb3VuZC1zaXplOiBjb250YWluOyBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJHt1cmx9KWApXG4gICAgLy8gY29uc29sZS5sb2coJyVjICAgICAgICAgICAgICAgICcsIGBmb250LXNpemU6ICR7aGVpZ2h0fXg7IGJhY2tncm91bmQ6IHVybCgke3VybH0pIG5vLXJlcGVhdDtgKVxuICB9XG4gIHZjb25zb2xlcy5mb3JFYWNoKHZjID0+IHZjLnByaW50SW1nKHVybCwgaGVpZ2h0KSlcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2U2NFxuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodFxuICovXG5leHBvcnQgY29uc3QgcHJpbnRJbWdCYXNlNjQgPSAoYmFzZTY0LCBoZWlnaHQpID0+IHByaW50SW1nKGBkYXRhOmltYWdlL2dpZjtiYXNlNjQsJHtiYXNlNjR9YCwgaGVpZ2h0KVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nfFN5bWJvbHxPYmplY3R8bnVtYmVyPn0gYXJnc1xuICovXG5leHBvcnQgY29uc3QgZ3JvdXAgPSAoLi4uYXJncykgPT4ge1xuICBjb25zb2xlLmdyb3VwKC4uLmNvbXB1dGVMb2dnaW5nQXJncyhhcmdzKSlcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgdmNvbnNvbGVzLmZvckVhY2godmMgPT4gdmMuZ3JvdXAoYXJncykpXG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxzdHJpbmd8U3ltYm9sfE9iamVjdHxudW1iZXI+fSBhcmdzXG4gKi9cbmV4cG9ydCBjb25zdCBncm91cENvbGxhcHNlZCA9ICguLi5hcmdzKSA9PiB7XG4gIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoLi4uY29tcHV0ZUxvZ2dpbmdBcmdzKGFyZ3MpKVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICB2Y29uc29sZXMuZm9yRWFjaCh2YyA9PiB2Yy5ncm91cENvbGxhcHNlZChhcmdzKSlcbn1cblxuZXhwb3J0IGNvbnN0IGdyb3VwRW5kID0gKCkgPT4ge1xuICBjb25zb2xlLmdyb3VwRW5kKClcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgdmNvbnNvbGVzLmZvckVhY2godmMgPT4gdmMuZ3JvdXBFbmQoKSlcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbi8qKlxuICogQHBhcmFtIHtmdW5jdGlvbigpOk5vZGV9IGNyZWF0ZU5vZGVcbiAqL1xuZXhwb3J0IGNvbnN0IHByaW50RG9tID0gY3JlYXRlTm9kZSA9PlxuICB2Y29uc29sZXMuZm9yRWFjaCh2YyA9PiB2Yy5wcmludERvbShjcmVhdGVOb2RlKCkpKVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuLyoqXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHRcbiAqL1xuZXhwb3J0IGNvbnN0IHByaW50Q2FudmFzID0gKGNhbnZhcywgaGVpZ2h0KSA9PiBwcmludEltZyhjYW52YXMudG9EYXRhVVJMKCksIGhlaWdodClcblxuZXhwb3J0IGNvbnN0IHZjb25zb2xlcyA9IG5ldyBTZXQoKVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuLyoqXG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZ3xTeW1ib2x8T2JqZWN0fG51bWJlcj59IGFyZ3NcbiAqIEByZXR1cm4ge0FycmF5PEVsZW1lbnQ+fVxuICovXG5jb25zdCBfY29tcHV0ZUxpbmVTcGFucyA9IGFyZ3MgPT4ge1xuICBjb25zdCBzcGFucyA9IFtdXG4gIGNvbnN0IGN1cnJlbnRTdHlsZSA9IG5ldyBNYXAoKVxuICAvLyB0cnkgd2l0aCBmb3JtYXR0aW5nIHVudGlsIHdlIGZpbmQgc29tZXRoaW5nIHVuc3VwcG9ydGVkXG4gIGxldCBpID0gMFxuICBmb3IgKDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBhcmcgPSBhcmdzW2ldXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IHN0eWxlID0gX2Jyb3dzZXJTdHlsZU1hcFthcmddXG4gICAgaWYgKHN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGN1cnJlbnRTdHlsZS5zZXQoc3R5bGUubGVmdCwgc3R5bGUucmlnaHQpXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChhcmcuY29uc3RydWN0b3IgPT09IFN0cmluZyB8fCBhcmcuY29uc3RydWN0b3IgPT09IE51bWJlcikge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvbnN0IHNwYW4gPSBkb20uZWxlbWVudCgnc3BhbicsIFtwYWlyLmNyZWF0ZSgnc3R5bGUnLCBkb20ubWFwVG9TdHlsZVN0cmluZyhjdXJyZW50U3R5bGUpKV0sIFtkb20udGV4dChhcmcpXSlcbiAgICAgICAgaWYgKHNwYW4uaW5uZXJIVE1MID09PSAnJykge1xuICAgICAgICAgIHNwYW4uaW5uZXJIVE1MID0gJyZuYnNwOydcbiAgICAgICAgfVxuICAgICAgICBzcGFucy5wdXNoKHNwYW4pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyBhcHBlbmQgdGhlIHJlc3RcbiAgZm9yICg7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGNvbnRlbnQgPSBhcmdzW2ldXG4gICAgaWYgKCEoY29udGVudCBpbnN0YW5jZW9mIFN5bWJvbCkpIHtcbiAgICAgIGlmIChjb250ZW50LmNvbnN0cnVjdG9yICE9PSBTdHJpbmcgJiYgY29udGVudC5jb25zdHJ1Y3RvciAhPT0gTnVtYmVyKSB7XG4gICAgICAgIGNvbnRlbnQgPSAnICcgKyBqc29uLnN0cmluZ2lmeShjb250ZW50KSArICcgJ1xuICAgICAgfVxuICAgICAgc3BhbnMucHVzaChkb20uZWxlbWVudCgnc3BhbicsIFtdLCBbZG9tLnRleHQoLyoqIEB0eXBlIHtzdHJpbmd9ICovIChjb250ZW50KSldKSlcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNwYW5zXG59XG5cbmNvbnN0IGxpbmVTdHlsZSA9ICdmb250LWZhbWlseTptb25vc3BhY2U7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2UyZTJlMjtwYWRkaW5nOjJweDsnXG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgY2xhc3MgVkNvbnNvbGUge1xuICAvKipcbiAgICogQHBhcmFtIHtFbGVtZW50fSBkb21cbiAgICovXG4gIGNvbnN0cnVjdG9yIChkb20pIHtcbiAgICB0aGlzLmRvbSA9IGRvbVxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMuY2NvbnRhaW5lciA9IHRoaXMuZG9tXG4gICAgdGhpcy5kZXB0aCA9IDBcbiAgICB2Y29uc29sZXMuYWRkKHRoaXMpXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtBcnJheTxzdHJpbmd8U3ltYm9sfE9iamVjdHxudW1iZXI+fSBhcmdzXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gY29sbGFwc2VkXG4gICAqL1xuICBncm91cCAoYXJncywgY29sbGFwc2VkID0gZmFsc2UpIHtcbiAgICBldmVudGxvb3AuZW5xdWV1ZSgoKSA9PiB7XG4gICAgICBjb25zdCB0cmlhbmdsZURvd24gPSBkb20uZWxlbWVudCgnc3BhbicsIFtwYWlyLmNyZWF0ZSgnaGlkZGVuJywgY29sbGFwc2VkKSwgcGFpci5jcmVhdGUoJ3N0eWxlJywgJ2NvbG9yOmdyZXk7Zm9udC1zaXplOjEyMCU7JyldLCBbZG9tLnRleHQoJ+KWvCcpXSlcbiAgICAgIGNvbnN0IHRyaWFuZ2xlUmlnaHQgPSBkb20uZWxlbWVudCgnc3BhbicsIFtwYWlyLmNyZWF0ZSgnaGlkZGVuJywgIWNvbGxhcHNlZCksIHBhaXIuY3JlYXRlKCdzdHlsZScsICdjb2xvcjpncmV5O2ZvbnQtc2l6ZToxMjUlOycpXSwgW2RvbS50ZXh0KCfilrYnKV0pXG4gICAgICBjb25zdCBjb250ZW50ID0gZG9tLmVsZW1lbnQoJ2RpdicsIFtwYWlyLmNyZWF0ZSgnc3R5bGUnLCBgJHtsaW5lU3R5bGV9O3BhZGRpbmctbGVmdDoke3RoaXMuZGVwdGggKiAxMH1weGApXSwgW3RyaWFuZ2xlRG93biwgdHJpYW5nbGVSaWdodCwgZG9tLnRleHQoJyAnKV0uY29uY2F0KF9jb21wdXRlTGluZVNwYW5zKGFyZ3MpKSlcbiAgICAgIGNvbnN0IG5leHRDb250YWluZXIgPSBkb20uZWxlbWVudCgnZGl2JywgW3BhaXIuY3JlYXRlKCdoaWRkZW4nLCBjb2xsYXBzZWQpXSlcbiAgICAgIGNvbnN0IG5leHRMaW5lID0gZG9tLmVsZW1lbnQoJ2RpdicsIFtdLCBbY29udGVudCwgbmV4dENvbnRhaW5lcl0pXG4gICAgICBkb20uYXBwZW5kKHRoaXMuY2NvbnRhaW5lciwgW25leHRMaW5lXSlcbiAgICAgIHRoaXMuY2NvbnRhaW5lciA9IG5leHRDb250YWluZXJcbiAgICAgIHRoaXMuZGVwdGgrK1xuICAgICAgLy8gd2hlbiBoZWFkZXIgaXMgY2xpY2tlZCwgY29sbGFwc2UvdW5jb2xsYXBzZSBjb250YWluZXJcbiAgICAgIGRvbS5hZGRFdmVudExpc3RlbmVyKGNvbnRlbnQsICdjbGljaycsIGV2ZW50ID0+IHtcbiAgICAgICAgbmV4dENvbnRhaW5lci50b2dnbGVBdHRyaWJ1dGUoJ2hpZGRlbicpXG4gICAgICAgIHRyaWFuZ2xlRG93bi50b2dnbGVBdHRyaWJ1dGUoJ2hpZGRlbicpXG4gICAgICAgIHRyaWFuZ2xlUmlnaHQudG9nZ2xlQXR0cmlidXRlKCdoaWRkZW4nKVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nfFN5bWJvbHxPYmplY3R8bnVtYmVyPn0gYXJnc1xuICAgKi9cbiAgZ3JvdXBDb2xsYXBzZWQgKGFyZ3MpIHtcbiAgICB0aGlzLmdyb3VwKGFyZ3MsIHRydWUpXG4gIH1cblxuICBncm91cEVuZCAoKSB7XG4gICAgZXZlbnRsb29wLmVucXVldWUoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuZGVwdGggPiAwKSB7XG4gICAgICAgIHRoaXMuZGVwdGgtLVxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMuY2NvbnRhaW5lciA9IHRoaXMuY2NvbnRhaW5lci5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnRcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nfFN5bWJvbHxPYmplY3R8bnVtYmVyPn0gYXJnc1xuICAgKi9cbiAgcHJpbnQgKGFyZ3MpIHtcbiAgICBldmVudGxvb3AuZW5xdWV1ZSgoKSA9PiB7XG4gICAgICBkb20uYXBwZW5kKHRoaXMuY2NvbnRhaW5lciwgW2RvbS5lbGVtZW50KCdkaXYnLCBbcGFpci5jcmVhdGUoJ3N0eWxlJywgYCR7bGluZVN0eWxlfTtwYWRkaW5nLWxlZnQ6JHt0aGlzLmRlcHRoICogMTB9cHhgKV0sIF9jb21wdXRlTGluZVNwYW5zKGFyZ3MpKV0pXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0Vycm9yfSBlcnJcbiAgICovXG4gIHByaW50RXJyb3IgKGVycikge1xuICAgIHRoaXMucHJpbnQoW1JFRCwgQk9MRCwgZXJyLnRvU3RyaW5nKCldKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodFxuICAgKi9cbiAgcHJpbnRJbWcgKHVybCwgaGVpZ2h0KSB7XG4gICAgZXZlbnRsb29wLmVucXVldWUoKCkgPT4ge1xuICAgICAgZG9tLmFwcGVuZCh0aGlzLmNjb250YWluZXIsIFtkb20uZWxlbWVudCgnaW1nJywgW3BhaXIuY3JlYXRlKCdzcmMnLCB1cmwpLCBwYWlyLmNyZWF0ZSgnaGVpZ2h0JywgYCR7bWF0aC5yb3VuZChoZWlnaHQgKiAxLjUpfXB4YCldKV0pXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAgICovXG4gIHByaW50RG9tIChub2RlKSB7XG4gICAgZXZlbnRsb29wLmVucXVldWUoKCkgPT4ge1xuICAgICAgZG9tLmFwcGVuZCh0aGlzLmNjb250YWluZXIsIFtub2RlXSlcbiAgICB9KVxuICB9XG5cbiAgZGVzdHJveSAoKSB7XG4gICAgZXZlbnRsb29wLmVucXVldWUoKCkgPT4ge1xuICAgICAgdmNvbnNvbGVzLmRlbGV0ZSh0aGlzKVxuICAgIH0pXG4gIH1cbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBkb21cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVZDb25zb2xlID0gZG9tID0+IG5ldyBWQ29uc29sZShkb20pXG5cbmNvbnN0IGxvZ2dpbmdDb2xvcnMgPSBbR1JFRU4sIFBVUlBMRSwgT1JBTkdFLCBCTFVFXVxubGV0IG5leHRDb2xvciA9IDBcbmxldCBsYXN0TG9nZ2luZ1RpbWUgPSB0aW1lLmdldFVuaXhUaW1lKClcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9kdWxlTmFtZVxuICogQHJldHVybiB7ZnVuY3Rpb24oLi4uYW55KTp2b2lkfVxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlTW9kdWxlTG9nZ2VyID0gbW9kdWxlTmFtZSA9PiB7XG4gIGNvbnN0IGNvbG9yID0gbG9nZ2luZ0NvbG9yc1tuZXh0Q29sb3JdXG4gIGNvbnN0IGRlYnVnUmVnZXhWYXIgPSBlbnYuZ2V0VmFyaWFibGUoJ2xvZycpXG4gIGNvbnN0IGRvTG9nZ2luZyA9IGRlYnVnUmVnZXhWYXIgIT09IG51bGwgJiYgKGRlYnVnUmVnZXhWYXIgPT09ICcqJyB8fCBkZWJ1Z1JlZ2V4VmFyID09PSAndHJ1ZScgfHwgbmV3IFJlZ0V4cChkZWJ1Z1JlZ2V4VmFyLCAnZ2knKS50ZXN0KG1vZHVsZU5hbWUpKVxuICBuZXh0Q29sb3IgPSAobmV4dENvbG9yICsgMSkgJSBsb2dnaW5nQ29sb3JzLmxlbmd0aFxuICBtb2R1bGVOYW1lICs9ICc6ICdcblxuICByZXR1cm4gIWRvTG9nZ2luZyA/IGZ1bmMubm9wIDogKC4uLmFyZ3MpID0+IHtcbiAgICBjb25zdCB0aW1lTm93ID0gdGltZS5nZXRVbml4VGltZSgpXG4gICAgY29uc3QgdGltZURpZmYgPSB0aW1lTm93IC0gbGFzdExvZ2dpbmdUaW1lXG4gICAgbGFzdExvZ2dpbmdUaW1lID0gdGltZU5vd1xuICAgIHByaW50KGNvbG9yLCBtb2R1bGVOYW1lLCBVTkNPTE9SLCAuLi5hcmdzLm1hcChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnKSA/IGFyZyA6IEpTT04uc3RyaW5naWZ5KGFyZykpLCBjb2xvciwgJyArJyArIHRpbWVEaWZmICsgJ21zJylcbiAgfVxufVxuIiwiLyoqXG4gKiBVdGlsaXR5IG1vZHVsZSB0byBjcmVhdGUgYW5kIG1hbmlwdWxhdGUgSXRlcmF0b3JzLlxuICpcbiAqIEBtb2R1bGUgaXRlcmF0b3JcbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBULFJcbiAqIEBwYXJhbSB7SXRlcmF0b3I8VD59IGl0ZXJhdG9yXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKFQpOlJ9IGZcbiAqIEByZXR1cm4ge0l0ZXJhYmxlSXRlcmF0b3I8Uj59XG4gKi9cbmV4cG9ydCBjb25zdCBtYXBJdGVyYXRvciA9IChpdGVyYXRvciwgZikgPT4gKHtcbiAgW1N5bWJvbC5pdGVyYXRvcl0gKCkge1xuICAgIHJldHVybiB0aGlzXG4gIH0sXG4gIC8vIEB0cy1pZ25vcmVcbiAgbmV4dCAoKSB7XG4gICAgY29uc3QgciA9IGl0ZXJhdG9yLm5leHQoKVxuICAgIHJldHVybiB7IHZhbHVlOiByLmRvbmUgPyB1bmRlZmluZWQgOiBmKHIudmFsdWUpLCBkb25lOiByLmRvbmUgfVxuICB9XG59KVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCk6SXRlcmF0b3JSZXN1bHQ8VD59IG5leHRcbiAqIEByZXR1cm4ge0l0ZXJhYmxlSXRlcmF0b3I8VD59XG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVJdGVyYXRvciA9IG5leHQgPT4gKHtcbiAgLyoqXG4gICAqIEByZXR1cm4ge0l0ZXJhYmxlSXRlcmF0b3I8VD59XG4gICAqL1xuICBbU3ltYm9sLml0ZXJhdG9yXSAoKSB7XG4gICAgcmV0dXJuIHRoaXNcbiAgfSxcbiAgLy8gQHRzLWlnbm9yZVxuICBuZXh0XG59KVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge0l0ZXJhdG9yPFQ+fSBpdGVyYXRvclxuICogQHBhcmFtIHtmdW5jdGlvbihUKTpib29sZWFufSBmaWx0ZXJcbiAqL1xuZXhwb3J0IGNvbnN0IGl0ZXJhdG9yRmlsdGVyID0gKGl0ZXJhdG9yLCBmaWx0ZXIpID0+IGNyZWF0ZUl0ZXJhdG9yKCgpID0+IHtcbiAgbGV0IHJlc1xuICBkbyB7XG4gICAgcmVzID0gaXRlcmF0b3IubmV4dCgpXG4gIH0gd2hpbGUgKCFyZXMuZG9uZSAmJiAhZmlsdGVyKHJlcy52YWx1ZSkpXG4gIHJldHVybiByZXNcbn0pXG5cbi8qKlxuICogQHRlbXBsYXRlIFQsTVxuICogQHBhcmFtIHtJdGVyYXRvcjxUPn0gaXRlcmF0b3JcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oVCk6TX0gZm1hcFxuICovXG5leHBvcnQgY29uc3QgaXRlcmF0b3JNYXAgPSAoaXRlcmF0b3IsIGZtYXApID0+IGNyZWF0ZUl0ZXJhdG9yKCgpID0+IHtcbiAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gaXRlcmF0b3IubmV4dCgpXG4gIHJldHVybiB7IGRvbmUsIHZhbHVlOiBkb25lID8gdW5kZWZpbmVkIDogZm1hcCh2YWx1ZSkgfVxufSlcbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdsaWIwL29ic2VydmFibGUnO1xuaW1wb3J0ICogYXMgYXJyYXkgZnJvbSAnbGliMC9hcnJheSc7XG5pbXBvcnQgKiBhcyBtYXRoIGZyb20gJ2xpYjAvbWF0aCc7XG5pbXBvcnQgKiBhcyBtYXAgZnJvbSAnbGliMC9tYXAnO1xuaW1wb3J0ICogYXMgZW5jb2RpbmcgZnJvbSAnbGliMC9lbmNvZGluZyc7XG5pbXBvcnQgKiBhcyBkZWNvZGluZyBmcm9tICdsaWIwL2RlY29kaW5nJztcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tICdsaWIwL3JhbmRvbSc7XG5pbXBvcnQgKiBhcyBwcm9taXNlIGZyb20gJ2xpYjAvcHJvbWlzZSc7XG5pbXBvcnQgKiBhcyBidWZmZXIgZnJvbSAnbGliMC9idWZmZXInO1xuaW1wb3J0ICogYXMgZXJyb3IgZnJvbSAnbGliMC9lcnJvcic7XG5pbXBvcnQgKiBhcyBiaW5hcnkgZnJvbSAnbGliMC9iaW5hcnknO1xuaW1wb3J0ICogYXMgZiBmcm9tICdsaWIwL2Z1bmN0aW9uJztcbmltcG9ydCB7IGNhbGxBbGwgfSBmcm9tICdsaWIwL2Z1bmN0aW9uJztcbmltcG9ydCAqIGFzIHNldCBmcm9tICdsaWIwL3NldCc7XG5pbXBvcnQgKiBhcyBsb2dnaW5nIGZyb20gJ2xpYjAvbG9nZ2luZyc7XG5pbXBvcnQgKiBhcyB0aW1lIGZyb20gJ2xpYjAvdGltZSc7XG5pbXBvcnQgKiBhcyBpdGVyYXRvciBmcm9tICdsaWIwL2l0ZXJhdG9yJztcbmltcG9ydCAqIGFzIG9iamVjdCBmcm9tICdsaWIwL29iamVjdCc7XG5cbi8qKlxuICogVGhpcyBpcyBhbiBhYnN0cmFjdCBpbnRlcmZhY2UgdGhhdCBhbGwgQ29ubmVjdG9ycyBzaG91bGQgaW1wbGVtZW50IHRvIGtlZXAgdGhlbSBpbnRlcmNoYW5nZWFibGUuXG4gKlxuICogQG5vdGUgVGhpcyBpbnRlcmZhY2UgaXMgZXhwZXJpbWVudGFsIGFuZCBpdCBpcyBub3QgYWR2aXNlZCB0byBhY3R1YWxseSBpbmhlcml0IHRoaXMgY2xhc3MuXG4gKiAgICAgICBJdCBqdXN0IHNlcnZlcyBhcyB0eXBpbmcgaW5mb3JtYXRpb24uXG4gKlxuICogQGV4dGVuZHMge09ic2VydmFibGU8YW55Pn1cbiAqL1xuY2xhc3MgQWJzdHJhY3RDb25uZWN0b3IgZXh0ZW5kcyBPYnNlcnZhYmxlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7RG9jfSB5ZG9jXG4gICAqIEBwYXJhbSB7YW55fSBhd2FyZW5lc3NcbiAgICovXG4gIGNvbnN0cnVjdG9yICh5ZG9jLCBhd2FyZW5lc3MpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZG9jID0geWRvYztcbiAgICB0aGlzLmF3YXJlbmVzcyA9IGF3YXJlbmVzcztcbiAgfVxufVxuXG5jbGFzcyBEZWxldGVJdGVtIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjbG9ja1xuICAgKiBAcGFyYW0ge251bWJlcn0gbGVuXG4gICAqL1xuICBjb25zdHJ1Y3RvciAoY2xvY2ssIGxlbikge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5jbG9jayA9IGNsb2NrO1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5sZW4gPSBsZW47XG4gIH1cbn1cblxuLyoqXG4gKiBXZSBubyBsb25nZXIgbWFpbnRhaW4gYSBEZWxldGVTdG9yZS4gRGVsZXRlU2V0IGlzIGEgdGVtcG9yYXJ5IG9iamVjdCB0aGF0IGlzIGNyZWF0ZWQgd2hlbiBuZWVkZWQuXG4gKiAtIFdoZW4gY3JlYXRlZCBpbiBhIHRyYW5zYWN0aW9uLCBpdCBtdXN0IG9ubHkgYmUgYWNjZXNzZWQgYWZ0ZXIgc29ydGluZywgYW5kIG1lcmdpbmdcbiAqICAgLSBUaGlzIERlbGV0ZVNldCBpcyBzZW5kIHRvIG90aGVyIGNsaWVudHNcbiAqIC0gV2UgZG8gbm90IGNyZWF0ZSBhIERlbGV0ZVNldCB3aGVuIHdlIHNlbmQgYSBzeW5jIG1lc3NhZ2UuIFRoZSBEZWxldGVTZXQgbWVzc2FnZSBpcyBjcmVhdGVkIGRpcmVjdGx5IGZyb20gU3RydWN0U3RvcmVcbiAqIC0gV2UgcmVhZCBhIERlbGV0ZVNldCBhcyBwYXJ0IG9mIGEgc3luYy91cGRhdGUgbWVzc2FnZS4gSW4gdGhpcyBjYXNlIHRoZSBEZWxldGVTZXQgaXMgYWxyZWFkeSBzb3J0ZWQgYW5kIG1lcmdlZC5cbiAqL1xuY2xhc3MgRGVsZXRlU2V0IHtcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtNYXA8bnVtYmVyLEFycmF5PERlbGV0ZUl0ZW0+Pn1cbiAgICAgKi9cbiAgICB0aGlzLmNsaWVudHMgPSBuZXcgTWFwKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYWxsIHN0cnVjdHMgdGhhdCB0aGUgRGVsZXRlU2V0IGdjJ3MuXG4gKlxuICogQHBhcmFtIHtUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAqIEBwYXJhbSB7RGVsZXRlU2V0fSBkc1xuICogQHBhcmFtIHtmdW5jdGlvbihHQ3xJdGVtKTp2b2lkfSBmXG4gKlxuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IGl0ZXJhdGVEZWxldGVkU3RydWN0cyA9ICh0cmFuc2FjdGlvbiwgZHMsIGYpID0+XG4gIGRzLmNsaWVudHMuZm9yRWFjaCgoZGVsZXRlcywgY2xpZW50aWQpID0+IHtcbiAgICBjb25zdCBzdHJ1Y3RzID0gLyoqIEB0eXBlIHtBcnJheTxHQ3xJdGVtPn0gKi8gKHRyYW5zYWN0aW9uLmRvYy5zdG9yZS5jbGllbnRzLmdldChjbGllbnRpZCkpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVsZXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZGVsID0gZGVsZXRlc1tpXTtcbiAgICAgIGl0ZXJhdGVTdHJ1Y3RzKHRyYW5zYWN0aW9uLCBzdHJ1Y3RzLCBkZWwuY2xvY2ssIGRlbC5sZW4sIGYpO1xuICAgIH1cbiAgfSk7XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxEZWxldGVJdGVtPn0gZGlzXG4gKiBAcGFyYW0ge251bWJlcn0gY2xvY2tcbiAqIEByZXR1cm4ge251bWJlcnxudWxsfVxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgZmluZEluZGV4RFMgPSAoZGlzLCBjbG9jaykgPT4ge1xuICBsZXQgbGVmdCA9IDA7XG4gIGxldCByaWdodCA9IGRpcy5sZW5ndGggLSAxO1xuICB3aGlsZSAobGVmdCA8PSByaWdodCkge1xuICAgIGNvbnN0IG1pZGluZGV4ID0gbWF0aC5mbG9vcigobGVmdCArIHJpZ2h0KSAvIDIpO1xuICAgIGNvbnN0IG1pZCA9IGRpc1ttaWRpbmRleF07XG4gICAgY29uc3QgbWlkY2xvY2sgPSBtaWQuY2xvY2s7XG4gICAgaWYgKG1pZGNsb2NrIDw9IGNsb2NrKSB7XG4gICAgICBpZiAoY2xvY2sgPCBtaWRjbG9jayArIG1pZC5sZW4pIHtcbiAgICAgICAgcmV0dXJuIG1pZGluZGV4XG4gICAgICB9XG4gICAgICBsZWZ0ID0gbWlkaW5kZXggKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICByaWdodCA9IG1pZGluZGV4IC0gMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGxcbn07XG5cbi8qKlxuICogQHBhcmFtIHtEZWxldGVTZXR9IGRzXG4gKiBAcGFyYW0ge0lEfSBpZFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IGlzRGVsZXRlZCA9IChkcywgaWQpID0+IHtcbiAgY29uc3QgZGlzID0gZHMuY2xpZW50cy5nZXQoaWQuY2xpZW50KTtcbiAgcmV0dXJuIGRpcyAhPT0gdW5kZWZpbmVkICYmIGZpbmRJbmRleERTKGRpcywgaWQuY2xvY2spICE9PSBudWxsXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7RGVsZXRlU2V0fSBkc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3Qgc29ydEFuZE1lcmdlRGVsZXRlU2V0ID0gZHMgPT4ge1xuICBkcy5jbGllbnRzLmZvckVhY2goZGVscyA9PiB7XG4gICAgZGVscy5zb3J0KChhLCBiKSA9PiBhLmNsb2NrIC0gYi5jbG9jayk7XG4gICAgLy8gbWVyZ2UgaXRlbXMgd2l0aG91dCBmaWx0ZXJpbmcgb3Igc3BsaWNpbmcgdGhlIGFycmF5XG4gICAgLy8gaSBpcyB0aGUgY3VycmVudCBwb2ludGVyXG4gICAgLy8gaiByZWZlcnMgdG8gdGhlIGN1cnJlbnQgaW5zZXJ0IHBvc2l0aW9uIGZvciB0aGUgcG9pbnRlZCBpdGVtXG4gICAgLy8gdHJ5IHRvIG1lcmdlIGRlbHNbaV0gaW50byBkZWxzW2otMV0gb3Igc2V0IGRlbHNbal09ZGVsc1tpXVxuICAgIGxldCBpLCBqO1xuICAgIGZvciAoaSA9IDEsIGogPSAxOyBpIDwgZGVscy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgbGVmdCA9IGRlbHNbaiAtIDFdO1xuICAgICAgY29uc3QgcmlnaHQgPSBkZWxzW2ldO1xuICAgICAgaWYgKGxlZnQuY2xvY2sgKyBsZWZ0LmxlbiA+PSByaWdodC5jbG9jaykge1xuICAgICAgICBsZWZ0LmxlbiA9IG1hdGgubWF4KGxlZnQubGVuLCByaWdodC5jbG9jayArIHJpZ2h0LmxlbiAtIGxlZnQuY2xvY2spO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGogPCBpKSB7XG4gICAgICAgICAgZGVsc1tqXSA9IHJpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGorKztcbiAgICAgIH1cbiAgICB9XG4gICAgZGVscy5sZW5ndGggPSBqO1xuICB9KTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxEZWxldGVTZXQ+fSBkc3NcbiAqIEByZXR1cm4ge0RlbGV0ZVNldH0gQSBmcmVzaCBEZWxldGVTZXRcbiAqL1xuY29uc3QgbWVyZ2VEZWxldGVTZXRzID0gZHNzID0+IHtcbiAgY29uc3QgbWVyZ2VkID0gbmV3IERlbGV0ZVNldCgpO1xuICBmb3IgKGxldCBkc3NJID0gMDsgZHNzSSA8IGRzcy5sZW5ndGg7IGRzc0krKykge1xuICAgIGRzc1tkc3NJXS5jbGllbnRzLmZvckVhY2goKGRlbHNMZWZ0LCBjbGllbnQpID0+IHtcbiAgICAgIGlmICghbWVyZ2VkLmNsaWVudHMuaGFzKGNsaWVudCkpIHtcbiAgICAgICAgLy8gV3JpdGUgYWxsIG1pc3Npbmcga2V5cyBmcm9tIGN1cnJlbnQgZHMgYW5kIGFsbCBmb2xsb3dpbmcuXG4gICAgICAgIC8vIElmIG1lcmdlZCBhbHJlYWR5IGNvbnRhaW5zIGBjbGllbnRgIGN1cnJlbnQgZHMgaGFzIGFscmVhZHkgYmVlbiBhZGRlZC5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxEZWxldGVJdGVtPn1cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGRlbHMgPSBkZWxzTGVmdC5zbGljZSgpO1xuICAgICAgICBmb3IgKGxldCBpID0gZHNzSSArIDE7IGkgPCBkc3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBhcnJheS5hcHBlbmRUbyhkZWxzLCBkc3NbaV0uY2xpZW50cy5nZXQoY2xpZW50KSB8fCBbXSk7XG4gICAgICAgIH1cbiAgICAgICAgbWVyZ2VkLmNsaWVudHMuc2V0KGNsaWVudCwgZGVscyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgc29ydEFuZE1lcmdlRGVsZXRlU2V0KG1lcmdlZCk7XG4gIHJldHVybiBtZXJnZWRcbn07XG5cbi8qKlxuICogQHBhcmFtIHtEZWxldGVTZXR9IGRzXG4gKiBAcGFyYW0ge251bWJlcn0gY2xpZW50XG4gKiBAcGFyYW0ge251bWJlcn0gY2xvY2tcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGhcbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IGFkZFRvRGVsZXRlU2V0ID0gKGRzLCBjbGllbnQsIGNsb2NrLCBsZW5ndGgpID0+IHtcbiAgbWFwLnNldElmVW5kZWZpbmVkKGRzLmNsaWVudHMsIGNsaWVudCwgKCkgPT4gW10pLnB1c2gobmV3IERlbGV0ZUl0ZW0oY2xvY2ssIGxlbmd0aCkpO1xufTtcblxuY29uc3QgY3JlYXRlRGVsZXRlU2V0ID0gKCkgPT4gbmV3IERlbGV0ZVNldCgpO1xuXG4vKipcbiAqIEBwYXJhbSB7U3RydWN0U3RvcmV9IHNzXG4gKiBAcmV0dXJuIHtEZWxldGVTZXR9IE1lcmdlZCBhbmQgc29ydGVkIERlbGV0ZVNldFxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgY3JlYXRlRGVsZXRlU2V0RnJvbVN0cnVjdFN0b3JlID0gc3MgPT4ge1xuICBjb25zdCBkcyA9IGNyZWF0ZURlbGV0ZVNldCgpO1xuICBzcy5jbGllbnRzLmZvckVhY2goKHN0cnVjdHMsIGNsaWVudCkgPT4ge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheTxEZWxldGVJdGVtPn1cbiAgICAgKi9cbiAgICBjb25zdCBkc2l0ZW1zID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJ1Y3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBzdHJ1Y3QgPSBzdHJ1Y3RzW2ldO1xuICAgICAgaWYgKHN0cnVjdC5kZWxldGVkKSB7XG4gICAgICAgIGNvbnN0IGNsb2NrID0gc3RydWN0LmlkLmNsb2NrO1xuICAgICAgICBsZXQgbGVuID0gc3RydWN0Lmxlbmd0aDtcbiAgICAgICAgaWYgKGkgKyAxIDwgc3RydWN0cy5sZW5ndGgpIHtcbiAgICAgICAgICBmb3IgKGxldCBuZXh0ID0gc3RydWN0c1tpICsgMV07IGkgKyAxIDwgc3RydWN0cy5sZW5ndGggJiYgbmV4dC5kZWxldGVkOyBuZXh0ID0gc3RydWN0c1srK2kgKyAxXSkge1xuICAgICAgICAgICAgbGVuICs9IG5leHQubGVuZ3RoO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkc2l0ZW1zLnB1c2gobmV3IERlbGV0ZUl0ZW0oY2xvY2ssIGxlbikpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZHNpdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICBkcy5jbGllbnRzLnNldChjbGllbnQsIGRzaXRlbXMpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBkc1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge0RTRW5jb2RlclYxIHwgRFNFbmNvZGVyVjJ9IGVuY29kZXJcbiAqIEBwYXJhbSB7RGVsZXRlU2V0fSBkc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3Qgd3JpdGVEZWxldGVTZXQgPSAoZW5jb2RlciwgZHMpID0+IHtcbiAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KGVuY29kZXIucmVzdEVuY29kZXIsIGRzLmNsaWVudHMuc2l6ZSk7XG4gIGRzLmNsaWVudHMuZm9yRWFjaCgoZHNpdGVtcywgY2xpZW50KSA9PiB7XG4gICAgZW5jb2Rlci5yZXNldERzQ3VyVmFsKCk7XG4gICAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KGVuY29kZXIucmVzdEVuY29kZXIsIGNsaWVudCk7XG4gICAgY29uc3QgbGVuID0gZHNpdGVtcy5sZW5ndGg7XG4gICAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KGVuY29kZXIucmVzdEVuY29kZXIsIGxlbik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgY29uc3QgaXRlbSA9IGRzaXRlbXNbaV07XG4gICAgICBlbmNvZGVyLndyaXRlRHNDbG9jayhpdGVtLmNsb2NrKTtcbiAgICAgIGVuY29kZXIud3JpdGVEc0xlbihpdGVtLmxlbik7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtEU0RlY29kZXJWMSB8IERTRGVjb2RlclYyfSBkZWNvZGVyXG4gKiBAcmV0dXJuIHtEZWxldGVTZXR9XG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCByZWFkRGVsZXRlU2V0ID0gZGVjb2RlciA9PiB7XG4gIGNvbnN0IGRzID0gbmV3IERlbGV0ZVNldCgpO1xuICBjb25zdCBudW1DbGllbnRzID0gZGVjb2RpbmcucmVhZFZhclVpbnQoZGVjb2Rlci5yZXN0RGVjb2Rlcik7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtQ2xpZW50czsgaSsrKSB7XG4gICAgZGVjb2Rlci5yZXNldERzQ3VyVmFsKCk7XG4gICAgY29uc3QgY2xpZW50ID0gZGVjb2RpbmcucmVhZFZhclVpbnQoZGVjb2Rlci5yZXN0RGVjb2Rlcik7XG4gICAgY29uc3QgbnVtYmVyT2ZEZWxldGVzID0gZGVjb2RpbmcucmVhZFZhclVpbnQoZGVjb2Rlci5yZXN0RGVjb2Rlcik7XG4gICAgaWYgKG51bWJlck9mRGVsZXRlcyA+IDApIHtcbiAgICAgIGNvbnN0IGRzRmllbGQgPSBtYXAuc2V0SWZVbmRlZmluZWQoZHMuY2xpZW50cywgY2xpZW50LCAoKSA9PiBbXSk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bWJlck9mRGVsZXRlczsgaSsrKSB7XG4gICAgICAgIGRzRmllbGQucHVzaChuZXcgRGVsZXRlSXRlbShkZWNvZGVyLnJlYWREc0Nsb2NrKCksIGRlY29kZXIucmVhZERzTGVuKCkpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRzXG59O1xuXG4vKipcbiAqIEB0b2RvIFlEZWNvZGVyIGFsc28gY29udGFpbnMgcmVmZXJlbmNlcyB0byBTdHJpbmcgYW5kIG90aGVyIERlY29kZXJzLiBXb3VsZCBtYWtlIHNlbnNlIHRvIGV4Y2hhbmdlIFlEZWNvZGVyLnRvVWludDhBcnJheSBmb3IgWURlY29kZXIuRHNUb1VpbnQ4QXJyYXkoKS4uXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge0RTRGVjb2RlclYxIHwgRFNEZWNvZGVyVjJ9IGRlY29kZXJcbiAqIEBwYXJhbSB7VHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gKiBAcGFyYW0ge1N0cnVjdFN0b3JlfSBzdG9yZVxuICogQHJldHVybiB7VWludDhBcnJheXxudWxsfSBSZXR1cm5zIGEgdjIgdXBkYXRlIGNvbnRhaW5pbmcgYWxsIGRlbGV0ZXMgdGhhdCBjb3VsZG4ndCBiZSBhcHBsaWVkIHlldDsgb3IgbnVsbCBpZiBhbGwgZGVsZXRlcyB3ZXJlIGFwcGxpZWQgc3VjY2Vzc2Z1bGx5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgcmVhZEFuZEFwcGx5RGVsZXRlU2V0ID0gKGRlY29kZXIsIHRyYW5zYWN0aW9uLCBzdG9yZSkgPT4ge1xuICBjb25zdCB1bmFwcGxpZWREUyA9IG5ldyBEZWxldGVTZXQoKTtcbiAgY29uc3QgbnVtQ2xpZW50cyA9IGRlY29kaW5nLnJlYWRWYXJVaW50KGRlY29kZXIucmVzdERlY29kZXIpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUNsaWVudHM7IGkrKykge1xuICAgIGRlY29kZXIucmVzZXREc0N1clZhbCgpO1xuICAgIGNvbnN0IGNsaWVudCA9IGRlY29kaW5nLnJlYWRWYXJVaW50KGRlY29kZXIucmVzdERlY29kZXIpO1xuICAgIGNvbnN0IG51bWJlck9mRGVsZXRlcyA9IGRlY29kaW5nLnJlYWRWYXJVaW50KGRlY29kZXIucmVzdERlY29kZXIpO1xuICAgIGNvbnN0IHN0cnVjdHMgPSBzdG9yZS5jbGllbnRzLmdldChjbGllbnQpIHx8IFtdO1xuICAgIGNvbnN0IHN0YXRlID0gZ2V0U3RhdGUoc3RvcmUsIGNsaWVudCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1iZXJPZkRlbGV0ZXM7IGkrKykge1xuICAgICAgY29uc3QgY2xvY2sgPSBkZWNvZGVyLnJlYWREc0Nsb2NrKCk7XG4gICAgICBjb25zdCBjbG9ja0VuZCA9IGNsb2NrICsgZGVjb2Rlci5yZWFkRHNMZW4oKTtcbiAgICAgIGlmIChjbG9jayA8IHN0YXRlKSB7XG4gICAgICAgIGlmIChzdGF0ZSA8IGNsb2NrRW5kKSB7XG4gICAgICAgICAgYWRkVG9EZWxldGVTZXQodW5hcHBsaWVkRFMsIGNsaWVudCwgc3RhdGUsIGNsb2NrRW5kIC0gc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpbmRleCA9IGZpbmRJbmRleFNTKHN0cnVjdHMsIGNsb2NrKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdlIGNhbiBpZ25vcmUgdGhlIGNhc2Ugb2YgR0MgYW5kIERlbGV0ZSBzdHJ1Y3RzLCBiZWNhdXNlIHdlIGFyZSBnb2luZyB0byBza2lwIHRoZW1cbiAgICAgICAgICogQHR5cGUge0l0ZW19XG4gICAgICAgICAqL1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGxldCBzdHJ1Y3QgPSBzdHJ1Y3RzW2luZGV4XTtcbiAgICAgICAgLy8gc3BsaXQgdGhlIGZpcnN0IGl0ZW0gaWYgbmVjZXNzYXJ5XG4gICAgICAgIGlmICghc3RydWN0LmRlbGV0ZWQgJiYgc3RydWN0LmlkLmNsb2NrIDwgY2xvY2spIHtcbiAgICAgICAgICBzdHJ1Y3RzLnNwbGljZShpbmRleCArIDEsIDAsIHNwbGl0SXRlbSh0cmFuc2FjdGlvbiwgc3RydWN0LCBjbG9jayAtIHN0cnVjdC5pZC5jbG9jaykpO1xuICAgICAgICAgIGluZGV4Kys7IC8vIGluY3JlYXNlIHdlIG5vdyB3YW50IHRvIHVzZSB0aGUgbmV4dCBzdHJ1Y3RcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoaW5kZXggPCBzdHJ1Y3RzLmxlbmd0aCkge1xuICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICBzdHJ1Y3QgPSBzdHJ1Y3RzW2luZGV4KytdO1xuICAgICAgICAgIGlmIChzdHJ1Y3QuaWQuY2xvY2sgPCBjbG9ja0VuZCkge1xuICAgICAgICAgICAgaWYgKCFzdHJ1Y3QuZGVsZXRlZCkge1xuICAgICAgICAgICAgICBpZiAoY2xvY2tFbmQgPCBzdHJ1Y3QuaWQuY2xvY2sgKyBzdHJ1Y3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc3RydWN0cy5zcGxpY2UoaW5kZXgsIDAsIHNwbGl0SXRlbSh0cmFuc2FjdGlvbiwgc3RydWN0LCBjbG9ja0VuZCAtIHN0cnVjdC5pZC5jbG9jaykpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHN0cnVjdC5kZWxldGUodHJhbnNhY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWRkVG9EZWxldGVTZXQodW5hcHBsaWVkRFMsIGNsaWVudCwgY2xvY2ssIGNsb2NrRW5kIC0gY2xvY2spO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAodW5hcHBsaWVkRFMuY2xpZW50cy5zaXplID4gMCkge1xuICAgIGNvbnN0IGRzID0gbmV3IFVwZGF0ZUVuY29kZXJWMigpO1xuICAgIGVuY29kaW5nLndyaXRlVmFyVWludChkcy5yZXN0RW5jb2RlciwgMCk7IC8vIGVuY29kZSAwIHN0cnVjdHNcbiAgICB3cml0ZURlbGV0ZVNldChkcywgdW5hcHBsaWVkRFMpO1xuICAgIHJldHVybiBkcy50b1VpbnQ4QXJyYXkoKVxuICB9XG4gIHJldHVybiBudWxsXG59O1xuXG4vKipcbiAqIEBtb2R1bGUgWVxuICovXG5cbmNvbnN0IGdlbmVyYXRlTmV3Q2xpZW50SWQgPSByYW5kb20udWludDMyO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IERvY09wdHNcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW0RvY09wdHMuZ2M9dHJ1ZV0gRGlzYWJsZSBnYXJiYWdlIGNvbGxlY3Rpb24gKGRlZmF1bHQ6IGdjPXRydWUpXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKEl0ZW0pOmJvb2xlYW59IFtEb2NPcHRzLmdjRmlsdGVyXSBXaWxsIGJlIGNhbGxlZCBiZWZvcmUgYW4gSXRlbSBpcyBnYXJiYWdlIGNvbGxlY3RlZC4gUmV0dXJuIGZhbHNlIHRvIGtlZXAgdGhlIEl0ZW0uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW0RvY09wdHMuZ3VpZF0gRGVmaW5lIGEgZ2xvYmFsbHkgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgZG9jdW1lbnRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nIHwgbnVsbH0gW0RvY09wdHMuY29sbGVjdGlvbmlkXSBBc3NvY2lhdGUgdGhpcyBkb2N1bWVudCB3aXRoIGEgY29sbGVjdGlvbi4gVGhpcyBvbmx5IHBsYXlzIGEgcm9sZSBpZiB5b3VyIHByb3ZpZGVyIGhhcyBhIGNvbmNlcHQgb2YgY29sbGVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7YW55fSBbRG9jT3B0cy5tZXRhXSBBbnkga2luZCBvZiBtZXRhIGluZm9ybWF0aW9uIHlvdSB3YW50IHRvIGFzc29jaWF0ZSB3aXRoIHRoaXMgZG9jdW1lbnQuIElmIHRoaXMgaXMgYSBzdWJkb2N1bWVudCwgcmVtb3RlIHBlZXJzIHdpbGwgc3RvcmUgdGhlIG1ldGEgaW5mb3JtYXRpb24gYXMgd2VsbC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW0RvY09wdHMuYXV0b0xvYWRdIElmIGEgc3ViZG9jdW1lbnQsIGF1dG9tYXRpY2FsbHkgbG9hZCBkb2N1bWVudC4gSWYgdGhpcyBpcyBhIHN1YmRvY3VtZW50LCByZW1vdGUgcGVlcnMgd2lsbCBsb2FkIHRoZSBkb2N1bWVudCBhcyB3ZWxsIGF1dG9tYXRpY2FsbHkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtEb2NPcHRzLnNob3VsZExvYWRdIFdoZXRoZXIgdGhlIGRvY3VtZW50IHNob3VsZCBiZSBzeW5jZWQgYnkgdGhlIHByb3ZpZGVyIG5vdy4gVGhpcyBpcyB0b2dnbGVkIHRvIHRydWUgd2hlbiB5b3UgY2FsbCB5ZG9jLmxvYWQoKVxuICovXG5cbi8qKlxuICogQSBZanMgaW5zdGFuY2UgaGFuZGxlcyB0aGUgc3RhdGUgb2Ygc2hhcmVkIGRhdGEuXG4gKiBAZXh0ZW5kcyBPYnNlcnZhYmxlPHN0cmluZz5cbiAqL1xuY2xhc3MgRG9jIGV4dGVuZHMgT2JzZXJ2YWJsZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0RvY09wdHN9IFtvcHRzXSBjb25maWd1cmF0aW9uXG4gICAqL1xuICBjb25zdHJ1Y3RvciAoeyBndWlkID0gcmFuZG9tLnV1aWR2NCgpLCBjb2xsZWN0aW9uaWQgPSBudWxsLCBnYyA9IHRydWUsIGdjRmlsdGVyID0gKCkgPT4gdHJ1ZSwgbWV0YSA9IG51bGwsIGF1dG9Mb2FkID0gZmFsc2UsIHNob3VsZExvYWQgPSB0cnVlIH0gPSB7fSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5nYyA9IGdjO1xuICAgIHRoaXMuZ2NGaWx0ZXIgPSBnY0ZpbHRlcjtcbiAgICB0aGlzLmNsaWVudElEID0gZ2VuZXJhdGVOZXdDbGllbnRJZCgpO1xuICAgIHRoaXMuZ3VpZCA9IGd1aWQ7XG4gICAgdGhpcy5jb2xsZWN0aW9uaWQgPSBjb2xsZWN0aW9uaWQ7XG4gICAgLyoqXG4gICAgICogQHR5cGUge01hcDxzdHJpbmcsIEFic3RyYWN0VHlwZTxZRXZlbnQ8YW55Pj4+fVxuICAgICAqL1xuICAgIHRoaXMuc2hhcmUgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5zdG9yZSA9IG5ldyBTdHJ1Y3RTdG9yZSgpO1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtUcmFuc2FjdGlvbiB8IG51bGx9XG4gICAgICovXG4gICAgdGhpcy5fdHJhbnNhY3Rpb24gPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheTxUcmFuc2FjdGlvbj59XG4gICAgICovXG4gICAgdGhpcy5fdHJhbnNhY3Rpb25DbGVhbnVwcyA9IFtdO1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtTZXQ8RG9jPn1cbiAgICAgKi9cbiAgICB0aGlzLnN1YmRvY3MgPSBuZXcgU2V0KCk7XG4gICAgLyoqXG4gICAgICogSWYgdGhpcyBkb2N1bWVudCBpcyBhIHN1YmRvY3VtZW50IC0gYSBkb2N1bWVudCBpbnRlZ3JhdGVkIGludG8gYW5vdGhlciBkb2N1bWVudCAtIHRoZW4gX2l0ZW0gaXMgZGVmaW5lZC5cbiAgICAgKiBAdHlwZSB7SXRlbT99XG4gICAgICovXG4gICAgdGhpcy5faXRlbSA9IG51bGw7XG4gICAgdGhpcy5zaG91bGRMb2FkID0gc2hvdWxkTG9hZDtcbiAgICB0aGlzLmF1dG9Mb2FkID0gYXV0b0xvYWQ7XG4gICAgdGhpcy5tZXRhID0gbWV0YTtcbiAgICB0aGlzLmlzTG9hZGVkID0gZmFsc2U7XG4gICAgdGhpcy53aGVuTG9hZGVkID0gcHJvbWlzZS5jcmVhdGUocmVzb2x2ZSA9PiB7XG4gICAgICB0aGlzLm9uKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmlzTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgcmVzb2x2ZSh0aGlzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIE5vdGlmeSB0aGUgcGFyZW50IGRvY3VtZW50IHRoYXQgeW91IHJlcXVlc3QgdG8gbG9hZCBkYXRhIGludG8gdGhpcyBzdWJkb2N1bWVudCAoaWYgaXQgaXMgYSBzdWJkb2N1bWVudCkuXG4gICAqXG4gICAqIGBsb2FkKClgIG1pZ2h0IGJlIHVzZWQgaW4gdGhlIGZ1dHVyZSB0byByZXF1ZXN0IGFueSBwcm92aWRlciB0byBsb2FkIHRoZSBtb3N0IGN1cnJlbnQgZGF0YS5cbiAgICpcbiAgICogSXQgaXMgc2FmZSB0byBjYWxsIGBsb2FkKClgIG11bHRpcGxlIHRpbWVzLlxuICAgKi9cbiAgbG9hZCAoKSB7XG4gICAgY29uc3QgaXRlbSA9IHRoaXMuX2l0ZW07XG4gICAgaWYgKGl0ZW0gIT09IG51bGwgJiYgIXRoaXMuc2hvdWxkTG9hZCkge1xuICAgICAgdHJhbnNhY3QoLyoqIEB0eXBlIHthbnl9ICovIChpdGVtLnBhcmVudCkuZG9jLCB0cmFuc2FjdGlvbiA9PiB7XG4gICAgICAgIHRyYW5zYWN0aW9uLnN1YmRvY3NMb2FkZWQuYWRkKHRoaXMpO1xuICAgICAgfSwgbnVsbCwgdHJ1ZSk7XG4gICAgfVxuICAgIHRoaXMuc2hvdWxkTG9hZCA9IHRydWU7XG4gIH1cblxuICBnZXRTdWJkb2NzICgpIHtcbiAgICByZXR1cm4gdGhpcy5zdWJkb2NzXG4gIH1cblxuICBnZXRTdWJkb2NHdWlkcyAoKSB7XG4gICAgcmV0dXJuIG5ldyBTZXQoQXJyYXkuZnJvbSh0aGlzLnN1YmRvY3MpLm1hcChkb2MgPT4gZG9jLmd1aWQpKVxuICB9XG5cbiAgLyoqXG4gICAqIENoYW5nZXMgdGhhdCBoYXBwZW4gaW5zaWRlIG9mIGEgdHJhbnNhY3Rpb24gYXJlIGJ1bmRsZWQuIFRoaXMgbWVhbnMgdGhhdFxuICAgKiB0aGUgb2JzZXJ2ZXIgZmlyZXMgX2FmdGVyXyB0aGUgdHJhbnNhY3Rpb24gaXMgZmluaXNoZWQgYW5kIHRoYXQgYWxsIGNoYW5nZXNcbiAgICogdGhhdCBoYXBwZW5lZCBpbnNpZGUgb2YgdGhlIHRyYW5zYWN0aW9uIGFyZSBzZW50IGFzIG9uZSBtZXNzYWdlIHRvIHRoZVxuICAgKiBvdGhlciBwZWVycy5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbihUcmFuc2FjdGlvbik6dm9pZH0gZiBUaGUgZnVuY3Rpb24gdGhhdCBzaG91bGQgYmUgZXhlY3V0ZWQgYXMgYSB0cmFuc2FjdGlvblxuICAgKiBAcGFyYW0ge2FueX0gW29yaWdpbl0gT3JpZ2luIG9mIHdobyBzdGFydGVkIHRoZSB0cmFuc2FjdGlvbi4gV2lsbCBiZSBzdG9yZWQgb24gdHJhbnNhY3Rpb24ub3JpZ2luXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHRyYW5zYWN0IChmLCBvcmlnaW4gPSBudWxsKSB7XG4gICAgdHJhbnNhY3QodGhpcywgZiwgb3JpZ2luKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWZpbmUgYSBzaGFyZWQgZGF0YSB0eXBlLlxuICAgKlxuICAgKiBNdWx0aXBsZSBjYWxscyBvZiBgeS5nZXQobmFtZSwgVHlwZUNvbnN0cnVjdG9yKWAgeWllbGQgdGhlIHNhbWUgcmVzdWx0XG4gICAqIGFuZCBkbyBub3Qgb3ZlcndyaXRlIGVhY2ggb3RoZXIuIEkuZS5cbiAgICogYHkuZGVmaW5lKG5hbWUsIFkuQXJyYXkpID09PSB5LmRlZmluZShuYW1lLCBZLkFycmF5KWBcbiAgICpcbiAgICogQWZ0ZXIgdGhpcyBtZXRob2QgaXMgY2FsbGVkLCB0aGUgdHlwZSBpcyBhbHNvIGF2YWlsYWJsZSBvbiBgeS5zaGFyZS5nZXQobmFtZSlgLlxuICAgKlxuICAgKiAqQmVzdCBQcmFjdGljZXM6KlxuICAgKiBEZWZpbmUgYWxsIHR5cGVzIHJpZ2h0IGFmdGVyIHRoZSBZanMgaW5zdGFuY2UgaXMgY3JlYXRlZCBhbmQgc3RvcmUgdGhlbSBpbiBhIHNlcGFyYXRlIG9iamVjdC5cbiAgICogQWxzbyB1c2UgdGhlIHR5cGVkIG1ldGhvZHMgYGdldFRleHQobmFtZSlgLCBgZ2V0QXJyYXkobmFtZSlgLCAuLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiAgIGNvbnN0IHkgPSBuZXcgWSguLilcbiAgICogICBjb25zdCBhcHBTdGF0ZSA9IHtcbiAgICogICAgIGRvY3VtZW50OiB5LmdldFRleHQoJ2RvY3VtZW50JylcbiAgICogICAgIGNvbW1lbnRzOiB5LmdldEFycmF5KCdjb21tZW50cycpXG4gICAqICAgfVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBUeXBlQ29uc3RydWN0b3IgVGhlIGNvbnN0cnVjdG9yIG9mIHRoZSB0eXBlIGRlZmluaXRpb24uIEUuZy4gWS5UZXh0LCBZLkFycmF5LCBZLk1hcCwgLi4uXG4gICAqIEByZXR1cm4ge0Fic3RyYWN0VHlwZTxhbnk+fSBUaGUgY3JlYXRlZCB0eXBlLiBDb25zdHJ1Y3RlZCB3aXRoIFR5cGVDb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBnZXQgKG5hbWUsIFR5cGVDb25zdHJ1Y3RvciA9IEFic3RyYWN0VHlwZSkge1xuICAgIGNvbnN0IHR5cGUgPSBtYXAuc2V0SWZVbmRlZmluZWQodGhpcy5zaGFyZSwgbmFtZSwgKCkgPT4ge1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY29uc3QgdCA9IG5ldyBUeXBlQ29uc3RydWN0b3IoKTtcbiAgICAgIHQuX2ludGVncmF0ZSh0aGlzLCBudWxsKTtcbiAgICAgIHJldHVybiB0XG4gICAgfSk7XG4gICAgY29uc3QgQ29uc3RyID0gdHlwZS5jb25zdHJ1Y3RvcjtcbiAgICBpZiAoVHlwZUNvbnN0cnVjdG9yICE9PSBBYnN0cmFjdFR5cGUgJiYgQ29uc3RyICE9PSBUeXBlQ29uc3RydWN0b3IpIHtcbiAgICAgIGlmIChDb25zdHIgPT09IEFic3RyYWN0VHlwZSkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvbnN0IHQgPSBuZXcgVHlwZUNvbnN0cnVjdG9yKCk7XG4gICAgICAgIHQuX21hcCA9IHR5cGUuX21hcDtcbiAgICAgICAgdHlwZS5fbWFwLmZvckVhY2goLyoqIEBwYXJhbSB7SXRlbT99IG4gKi8gbiA9PiB7XG4gICAgICAgICAgZm9yICg7IG4gIT09IG51bGw7IG4gPSBuLmxlZnQpIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIG4ucGFyZW50ID0gdDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0Ll9zdGFydCA9IHR5cGUuX3N0YXJ0O1xuICAgICAgICBmb3IgKGxldCBuID0gdC5fc3RhcnQ7IG4gIT09IG51bGw7IG4gPSBuLnJpZ2h0KSB7XG4gICAgICAgICAgbi5wYXJlbnQgPSB0O1xuICAgICAgICB9XG4gICAgICAgIHQuX2xlbmd0aCA9IHR5cGUuX2xlbmd0aDtcbiAgICAgICAgdGhpcy5zaGFyZS5zZXQobmFtZSwgdCk7XG4gICAgICAgIHQuX2ludGVncmF0ZSh0aGlzLCBudWxsKTtcbiAgICAgICAgcmV0dXJuIHRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVHlwZSB3aXRoIHRoZSBuYW1lICR7bmFtZX0gaGFzIGFscmVhZHkgYmVlbiBkZWZpbmVkIHdpdGggYSBkaWZmZXJlbnQgY29uc3RydWN0b3JgKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHlwZVxuICB9XG5cbiAgLyoqXG4gICAqIEB0ZW1wbGF0ZSBUXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV1cbiAgICogQHJldHVybiB7WUFycmF5PFQ+fVxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBnZXRBcnJheSAobmFtZSA9ICcnKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJldHVybiB0aGlzLmdldChuYW1lLCBZQXJyYXkpXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lXVxuICAgKiBAcmV0dXJuIHtZVGV4dH1cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgZ2V0VGV4dCAobmFtZSA9ICcnKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJldHVybiB0aGlzLmdldChuYW1lLCBZVGV4dClcbiAgfVxuXG4gIC8qKlxuICAgKiBAdGVtcGxhdGUgVFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW25hbWVdXG4gICAqIEByZXR1cm4ge1lNYXA8VD59XG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGdldE1hcCAobmFtZSA9ICcnKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJldHVybiB0aGlzLmdldChuYW1lLCBZTWFwKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV1cbiAgICogQHJldHVybiB7WVhtbEZyYWdtZW50fVxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBnZXRYbWxGcmFnbWVudCAobmFtZSA9ICcnKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJldHVybiB0aGlzLmdldChuYW1lLCBZWG1sRnJhZ21lbnQpXG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgdGhlIGVudGlyZSBkb2N1bWVudCBpbnRvIGEganMgb2JqZWN0LCByZWN1cnNpdmVseSB0cmF2ZXJzaW5nIGVhY2ggeWpzIHR5cGVcbiAgICogRG9lc24ndCBsb2cgdHlwZXMgdGhhdCBoYXZlIG5vdCBiZWVuIGRlZmluZWQgKHVzaW5nIHlkb2MuZ2V0VHlwZSguLikpLlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCBEbyBub3QgdXNlIHRoaXMgbWV0aG9kIGFuZCByYXRoZXIgY2FsbCB0b0pTT04gZGlyZWN0bHkgb24gdGhlIHNoYXJlZCB0eXBlcy5cbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0PHN0cmluZywgYW55Pn1cbiAgICovXG4gIHRvSlNPTiAoKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIGFueT59XG4gICAgICovXG4gICAgY29uc3QgZG9jID0ge307XG5cbiAgICB0aGlzLnNoYXJlLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgIGRvY1trZXldID0gdmFsdWUudG9KU09OKCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZG9jXG4gIH1cblxuICAvKipcbiAgICogRW1pdCBgZGVzdHJveWAgZXZlbnQgYW5kIHVucmVnaXN0ZXIgYWxsIGV2ZW50IGhhbmRsZXJzLlxuICAgKi9cbiAgZGVzdHJveSAoKSB7XG4gICAgYXJyYXkuZnJvbSh0aGlzLnN1YmRvY3MpLmZvckVhY2goc3ViZG9jID0+IHN1YmRvYy5kZXN0cm95KCkpO1xuICAgIGNvbnN0IGl0ZW0gPSB0aGlzLl9pdGVtO1xuICAgIGlmIChpdGVtICE9PSBudWxsKSB7XG4gICAgICB0aGlzLl9pdGVtID0gbnVsbDtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSAvKiogQHR5cGUge0NvbnRlbnREb2N9ICovIChpdGVtLmNvbnRlbnQpO1xuICAgICAgY29udGVudC5kb2MgPSBuZXcgRG9jKHsgZ3VpZDogdGhpcy5ndWlkLCAuLi5jb250ZW50Lm9wdHMsIHNob3VsZExvYWQ6IGZhbHNlIH0pO1xuICAgICAgY29udGVudC5kb2MuX2l0ZW0gPSBpdGVtO1xuICAgICAgdHJhbnNhY3QoLyoqIEB0eXBlIHthbnl9ICovIChpdGVtKS5wYXJlbnQuZG9jLCB0cmFuc2FjdGlvbiA9PiB7XG4gICAgICAgIGNvbnN0IGRvYyA9IGNvbnRlbnQuZG9jO1xuICAgICAgICBpZiAoIWl0ZW0uZGVsZXRlZCkge1xuICAgICAgICAgIHRyYW5zYWN0aW9uLnN1YmRvY3NBZGRlZC5hZGQoZG9jKTtcbiAgICAgICAgfVxuICAgICAgICB0cmFuc2FjdGlvbi5zdWJkb2NzUmVtb3ZlZC5hZGQodGhpcyk7XG4gICAgICB9LCBudWxsLCB0cnVlKTtcbiAgICB9XG4gICAgdGhpcy5lbWl0KCdkZXN0cm95ZWQnLCBbdHJ1ZV0pO1xuICAgIHRoaXMuZW1pdCgnZGVzdHJveScsIFt0aGlzXSk7XG4gICAgc3VwZXIuZGVzdHJveSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVcbiAgICogQHBhcmFtIHtmdW5jdGlvbiguLi5hbnkpOmFueX0gZlxuICAgKi9cbiAgb24gKGV2ZW50TmFtZSwgZikge1xuICAgIHN1cGVyLm9uKGV2ZW50TmFtZSwgZik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmXG4gICAqL1xuICBvZmYgKGV2ZW50TmFtZSwgZikge1xuICAgIHN1cGVyLm9mZihldmVudE5hbWUsIGYpO1xuICB9XG59XG5cbmNsYXNzIERTRGVjb2RlclYxIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7ZGVjb2RpbmcuRGVjb2Rlcn0gZGVjb2RlclxuICAgKi9cbiAgY29uc3RydWN0b3IgKGRlY29kZXIpIHtcbiAgICB0aGlzLnJlc3REZWNvZGVyID0gZGVjb2RlcjtcbiAgfVxuXG4gIHJlc2V0RHNDdXJWYWwgKCkge1xuICAgIC8vIG5vcFxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIHJlYWREc0Nsb2NrICgpIHtcbiAgICByZXR1cm4gZGVjb2RpbmcucmVhZFZhclVpbnQodGhpcy5yZXN0RGVjb2RlcilcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqL1xuICByZWFkRHNMZW4gKCkge1xuICAgIHJldHVybiBkZWNvZGluZy5yZWFkVmFyVWludCh0aGlzLnJlc3REZWNvZGVyKVxuICB9XG59XG5cbmNsYXNzIFVwZGF0ZURlY29kZXJWMSBleHRlbmRzIERTRGVjb2RlclYxIHtcbiAgLyoqXG4gICAqIEByZXR1cm4ge0lEfVxuICAgKi9cbiAgcmVhZExlZnRJRCAoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUlEKGRlY29kaW5nLnJlYWRWYXJVaW50KHRoaXMucmVzdERlY29kZXIpLCBkZWNvZGluZy5yZWFkVmFyVWludCh0aGlzLnJlc3REZWNvZGVyKSlcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtJRH1cbiAgICovXG4gIHJlYWRSaWdodElEICgpIHtcbiAgICByZXR1cm4gY3JlYXRlSUQoZGVjb2RpbmcucmVhZFZhclVpbnQodGhpcy5yZXN0RGVjb2RlciksIGRlY29kaW5nLnJlYWRWYXJVaW50KHRoaXMucmVzdERlY29kZXIpKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlYWQgdGhlIG5leHQgY2xpZW50IGlkLlxuICAgKiBVc2UgdGhpcyBpbiBmYXZvciBvZiByZWFkSUQgd2hlbmV2ZXIgcG9zc2libGUgdG8gcmVkdWNlIHRoZSBudW1iZXIgb2Ygb2JqZWN0cyBjcmVhdGVkLlxuICAgKi9cbiAgcmVhZENsaWVudCAoKSB7XG4gICAgcmV0dXJuIGRlY29kaW5nLnJlYWRWYXJVaW50KHRoaXMucmVzdERlY29kZXIpXG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfSBpbmZvIEFuIHVuc2lnbmVkIDgtYml0IGludGVnZXJcbiAgICovXG4gIHJlYWRJbmZvICgpIHtcbiAgICByZXR1cm4gZGVjb2RpbmcucmVhZFVpbnQ4KHRoaXMucmVzdERlY29kZXIpXG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgcmVhZFN0cmluZyAoKSB7XG4gICAgcmV0dXJuIGRlY29kaW5nLnJlYWRWYXJTdHJpbmcodGhpcy5yZXN0RGVjb2RlcilcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBpc0tleVxuICAgKi9cbiAgcmVhZFBhcmVudEluZm8gKCkge1xuICAgIHJldHVybiBkZWNvZGluZy5yZWFkVmFyVWludCh0aGlzLnJlc3REZWNvZGVyKSA9PT0gMVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn0gaW5mbyBBbiB1bnNpZ25lZCA4LWJpdCBpbnRlZ2VyXG4gICAqL1xuICByZWFkVHlwZVJlZiAoKSB7XG4gICAgcmV0dXJuIGRlY29kaW5nLnJlYWRWYXJVaW50KHRoaXMucmVzdERlY29kZXIpXG4gIH1cblxuICAvKipcbiAgICogV3JpdGUgbGVuIG9mIGEgc3RydWN0IC0gd2VsbCBzdWl0ZWQgZm9yIE9wdCBSTEUgZW5jb2Rlci5cbiAgICpcbiAgICogQHJldHVybiB7bnVtYmVyfSBsZW5cbiAgICovXG4gIHJlYWRMZW4gKCkge1xuICAgIHJldHVybiBkZWNvZGluZy5yZWFkVmFyVWludCh0aGlzLnJlc3REZWNvZGVyKVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2FueX1cbiAgICovXG4gIHJlYWRBbnkgKCkge1xuICAgIHJldHVybiBkZWNvZGluZy5yZWFkQW55KHRoaXMucmVzdERlY29kZXIpXG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7VWludDhBcnJheX1cbiAgICovXG4gIHJlYWRCdWYgKCkge1xuICAgIHJldHVybiBidWZmZXIuY29weVVpbnQ4QXJyYXkoZGVjb2RpbmcucmVhZFZhclVpbnQ4QXJyYXkodGhpcy5yZXN0RGVjb2RlcikpXG4gIH1cblxuICAvKipcbiAgICogTGVnYWN5IGltcGxlbWVudGF0aW9uIHVzZXMgSlNPTiBwYXJzZS4gV2UgdXNlIGFueS1kZWNvZGluZyBpbiB2Mi5cbiAgICpcbiAgICogQHJldHVybiB7YW55fVxuICAgKi9cbiAgcmVhZEpTT04gKCkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKGRlY29kaW5nLnJlYWRWYXJTdHJpbmcodGhpcy5yZXN0RGVjb2RlcikpXG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgcmVhZEtleSAoKSB7XG4gICAgcmV0dXJuIGRlY29kaW5nLnJlYWRWYXJTdHJpbmcodGhpcy5yZXN0RGVjb2RlcilcbiAgfVxufVxuXG5jbGFzcyBEU0RlY29kZXJWMiB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2RlY29kaW5nLkRlY29kZXJ9IGRlY29kZXJcbiAgICovXG4gIGNvbnN0cnVjdG9yIChkZWNvZGVyKSB7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmRzQ3VyclZhbCA9IDA7XG4gICAgdGhpcy5yZXN0RGVjb2RlciA9IGRlY29kZXI7XG4gIH1cblxuICByZXNldERzQ3VyVmFsICgpIHtcbiAgICB0aGlzLmRzQ3VyclZhbCA9IDA7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgcmVhZERzQ2xvY2sgKCkge1xuICAgIHRoaXMuZHNDdXJyVmFsICs9IGRlY29kaW5nLnJlYWRWYXJVaW50KHRoaXMucmVzdERlY29kZXIpO1xuICAgIHJldHVybiB0aGlzLmRzQ3VyclZhbFxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIHJlYWREc0xlbiAoKSB7XG4gICAgY29uc3QgZGlmZiA9IGRlY29kaW5nLnJlYWRWYXJVaW50KHRoaXMucmVzdERlY29kZXIpICsgMTtcbiAgICB0aGlzLmRzQ3VyclZhbCArPSBkaWZmO1xuICAgIHJldHVybiBkaWZmXG4gIH1cbn1cblxuY2xhc3MgVXBkYXRlRGVjb2RlclYyIGV4dGVuZHMgRFNEZWNvZGVyVjIge1xuICAvKipcbiAgICogQHBhcmFtIHtkZWNvZGluZy5EZWNvZGVyfSBkZWNvZGVyXG4gICAqL1xuICBjb25zdHJ1Y3RvciAoZGVjb2Rlcikge1xuICAgIHN1cGVyKGRlY29kZXIpO1xuICAgIC8qKlxuICAgICAqIExpc3Qgb2YgY2FjaGVkIGtleXMuIElmIHRoZSBrZXlzW2lkXSBkb2VzIG5vdCBleGlzdCwgd2UgcmVhZCBhIG5ldyBrZXlcbiAgICAgKiBmcm9tIHN0cmluZ0VuY29kZXIgYW5kIHB1c2ggaXQgdG8ga2V5cy5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgICAqL1xuICAgIHRoaXMua2V5cyA9IFtdO1xuICAgIGRlY29kaW5nLnJlYWRWYXJVaW50KGRlY29kZXIpOyAvLyByZWFkIGZlYXR1cmUgZmxhZyAtIGN1cnJlbnRseSB1bnVzZWRcbiAgICB0aGlzLmtleUNsb2NrRGVjb2RlciA9IG5ldyBkZWNvZGluZy5JbnREaWZmT3B0UmxlRGVjb2RlcihkZWNvZGluZy5yZWFkVmFyVWludDhBcnJheShkZWNvZGVyKSk7XG4gICAgdGhpcy5jbGllbnREZWNvZGVyID0gbmV3IGRlY29kaW5nLlVpbnRPcHRSbGVEZWNvZGVyKGRlY29kaW5nLnJlYWRWYXJVaW50OEFycmF5KGRlY29kZXIpKTtcbiAgICB0aGlzLmxlZnRDbG9ja0RlY29kZXIgPSBuZXcgZGVjb2RpbmcuSW50RGlmZk9wdFJsZURlY29kZXIoZGVjb2RpbmcucmVhZFZhclVpbnQ4QXJyYXkoZGVjb2RlcikpO1xuICAgIHRoaXMucmlnaHRDbG9ja0RlY29kZXIgPSBuZXcgZGVjb2RpbmcuSW50RGlmZk9wdFJsZURlY29kZXIoZGVjb2RpbmcucmVhZFZhclVpbnQ4QXJyYXkoZGVjb2RlcikpO1xuICAgIHRoaXMuaW5mb0RlY29kZXIgPSBuZXcgZGVjb2RpbmcuUmxlRGVjb2RlcihkZWNvZGluZy5yZWFkVmFyVWludDhBcnJheShkZWNvZGVyKSwgZGVjb2RpbmcucmVhZFVpbnQ4KTtcbiAgICB0aGlzLnN0cmluZ0RlY29kZXIgPSBuZXcgZGVjb2RpbmcuU3RyaW5nRGVjb2RlcihkZWNvZGluZy5yZWFkVmFyVWludDhBcnJheShkZWNvZGVyKSk7XG4gICAgdGhpcy5wYXJlbnRJbmZvRGVjb2RlciA9IG5ldyBkZWNvZGluZy5SbGVEZWNvZGVyKGRlY29kaW5nLnJlYWRWYXJVaW50OEFycmF5KGRlY29kZXIpLCBkZWNvZGluZy5yZWFkVWludDgpO1xuICAgIHRoaXMudHlwZVJlZkRlY29kZXIgPSBuZXcgZGVjb2RpbmcuVWludE9wdFJsZURlY29kZXIoZGVjb2RpbmcucmVhZFZhclVpbnQ4QXJyYXkoZGVjb2RlcikpO1xuICAgIHRoaXMubGVuRGVjb2RlciA9IG5ldyBkZWNvZGluZy5VaW50T3B0UmxlRGVjb2RlcihkZWNvZGluZy5yZWFkVmFyVWludDhBcnJheShkZWNvZGVyKSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7SUR9XG4gICAqL1xuICByZWFkTGVmdElEICgpIHtcbiAgICByZXR1cm4gbmV3IElEKHRoaXMuY2xpZW50RGVjb2Rlci5yZWFkKCksIHRoaXMubGVmdENsb2NrRGVjb2Rlci5yZWFkKCkpXG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7SUR9XG4gICAqL1xuICByZWFkUmlnaHRJRCAoKSB7XG4gICAgcmV0dXJuIG5ldyBJRCh0aGlzLmNsaWVudERlY29kZXIucmVhZCgpLCB0aGlzLnJpZ2h0Q2xvY2tEZWNvZGVyLnJlYWQoKSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFkIHRoZSBuZXh0IGNsaWVudCBpZC5cbiAgICogVXNlIHRoaXMgaW4gZmF2b3Igb2YgcmVhZElEIHdoZW5ldmVyIHBvc3NpYmxlIHRvIHJlZHVjZSB0aGUgbnVtYmVyIG9mIG9iamVjdHMgY3JlYXRlZC5cbiAgICovXG4gIHJlYWRDbGllbnQgKCkge1xuICAgIHJldHVybiB0aGlzLmNsaWVudERlY29kZXIucmVhZCgpXG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfSBpbmZvIEFuIHVuc2lnbmVkIDgtYml0IGludGVnZXJcbiAgICovXG4gIHJlYWRJbmZvICgpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmluZm9EZWNvZGVyLnJlYWQoKSlcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICByZWFkU3RyaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy5zdHJpbmdEZWNvZGVyLnJlYWQoKVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICByZWFkUGFyZW50SW5mbyAoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyZW50SW5mb0RlY29kZXIucmVhZCgpID09PSAxXG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfSBBbiB1bnNpZ25lZCA4LWJpdCBpbnRlZ2VyXG4gICAqL1xuICByZWFkVHlwZVJlZiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZVJlZkRlY29kZXIucmVhZCgpXG4gIH1cblxuICAvKipcbiAgICogV3JpdGUgbGVuIG9mIGEgc3RydWN0IC0gd2VsbCBzdWl0ZWQgZm9yIE9wdCBSTEUgZW5jb2Rlci5cbiAgICpcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgcmVhZExlbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubGVuRGVjb2Rlci5yZWFkKClcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHthbnl9XG4gICAqL1xuICByZWFkQW55ICgpIHtcbiAgICByZXR1cm4gZGVjb2RpbmcucmVhZEFueSh0aGlzLnJlc3REZWNvZGVyKVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge1VpbnQ4QXJyYXl9XG4gICAqL1xuICByZWFkQnVmICgpIHtcbiAgICByZXR1cm4gZGVjb2RpbmcucmVhZFZhclVpbnQ4QXJyYXkodGhpcy5yZXN0RGVjb2RlcilcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIG1haW5seSBoZXJlIGZvciBsZWdhY3kgcHVycG9zZXMuXG4gICAqXG4gICAqIEluaXRpYWwgd2UgaW5jb2RlZCBvYmplY3RzIHVzaW5nIEpTT04uIE5vdyB3ZSB1c2UgdGhlIG11Y2ggZmFzdGVyIGxpYjAvYW55LWVuY29kZXIuIFRoaXMgbWV0aG9kIG1haW5seSBleGlzdHMgZm9yIGxlZ2FjeSBwdXJwb3NlcyBmb3IgdGhlIHYxIGVuY29kZXIuXG4gICAqXG4gICAqIEByZXR1cm4ge2FueX1cbiAgICovXG4gIHJlYWRKU09OICgpIHtcbiAgICByZXR1cm4gZGVjb2RpbmcucmVhZEFueSh0aGlzLnJlc3REZWNvZGVyKVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIHJlYWRLZXkgKCkge1xuICAgIGNvbnN0IGtleUNsb2NrID0gdGhpcy5rZXlDbG9ja0RlY29kZXIucmVhZCgpO1xuICAgIGlmIChrZXlDbG9jayA8IHRoaXMua2V5cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0aGlzLmtleXNba2V5Q2xvY2tdXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGtleSA9IHRoaXMuc3RyaW5nRGVjb2Rlci5yZWFkKCk7XG4gICAgICB0aGlzLmtleXMucHVzaChrZXkpO1xuICAgICAgcmV0dXJuIGtleVxuICAgIH1cbiAgfVxufVxuXG5jbGFzcyBEU0VuY29kZXJWMSB7XG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICB0aGlzLnJlc3RFbmNvZGVyID0gZW5jb2RpbmcuY3JlYXRlRW5jb2RlcigpO1xuICB9XG5cbiAgdG9VaW50OEFycmF5ICgpIHtcbiAgICByZXR1cm4gZW5jb2RpbmcudG9VaW50OEFycmF5KHRoaXMucmVzdEVuY29kZXIpXG4gIH1cblxuICByZXNldERzQ3VyVmFsICgpIHtcbiAgICAvLyBub3BcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gY2xvY2tcbiAgICovXG4gIHdyaXRlRHNDbG9jayAoY2xvY2spIHtcbiAgICBlbmNvZGluZy53cml0ZVZhclVpbnQodGhpcy5yZXN0RW5jb2RlciwgY2xvY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsZW5cbiAgICovXG4gIHdyaXRlRHNMZW4gKGxlbikge1xuICAgIGVuY29kaW5nLndyaXRlVmFyVWludCh0aGlzLnJlc3RFbmNvZGVyLCBsZW4pO1xuICB9XG59XG5cbmNsYXNzIFVwZGF0ZUVuY29kZXJWMSBleHRlbmRzIERTRW5jb2RlclYxIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7SUR9IGlkXG4gICAqL1xuICB3cml0ZUxlZnRJRCAoaWQpIHtcbiAgICBlbmNvZGluZy53cml0ZVZhclVpbnQodGhpcy5yZXN0RW5jb2RlciwgaWQuY2xpZW50KTtcbiAgICBlbmNvZGluZy53cml0ZVZhclVpbnQodGhpcy5yZXN0RW5jb2RlciwgaWQuY2xvY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7SUR9IGlkXG4gICAqL1xuICB3cml0ZVJpZ2h0SUQgKGlkKSB7XG4gICAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KHRoaXMucmVzdEVuY29kZXIsIGlkLmNsaWVudCk7XG4gICAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KHRoaXMucmVzdEVuY29kZXIsIGlkLmNsb2NrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2Ugd3JpdGVDbGllbnQgYW5kIHdyaXRlQ2xvY2sgaW5zdGVhZCBvZiB3cml0ZUlEIGlmIHBvc3NpYmxlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gY2xpZW50XG4gICAqL1xuICB3cml0ZUNsaWVudCAoY2xpZW50KSB7XG4gICAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KHRoaXMucmVzdEVuY29kZXIsIGNsaWVudCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZm8gQW4gdW5zaWduZWQgOC1iaXQgaW50ZWdlclxuICAgKi9cbiAgd3JpdGVJbmZvIChpbmZvKSB7XG4gICAgZW5jb2Rpbmcud3JpdGVVaW50OCh0aGlzLnJlc3RFbmNvZGVyLCBpbmZvKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc1xuICAgKi9cbiAgd3JpdGVTdHJpbmcgKHMpIHtcbiAgICBlbmNvZGluZy53cml0ZVZhclN0cmluZyh0aGlzLnJlc3RFbmNvZGVyLCBzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzWUtleVxuICAgKi9cbiAgd3JpdGVQYXJlbnRJbmZvIChpc1lLZXkpIHtcbiAgICBlbmNvZGluZy53cml0ZVZhclVpbnQodGhpcy5yZXN0RW5jb2RlciwgaXNZS2V5ID8gMSA6IDApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmZvIEFuIHVuc2lnbmVkIDgtYml0IGludGVnZXJcbiAgICovXG4gIHdyaXRlVHlwZVJlZiAoaW5mbykge1xuICAgIGVuY29kaW5nLndyaXRlVmFyVWludCh0aGlzLnJlc3RFbmNvZGVyLCBpbmZvKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXcml0ZSBsZW4gb2YgYSBzdHJ1Y3QgLSB3ZWxsIHN1aXRlZCBmb3IgT3B0IFJMRSBlbmNvZGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gbGVuXG4gICAqL1xuICB3cml0ZUxlbiAobGVuKSB7XG4gICAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KHRoaXMucmVzdEVuY29kZXIsIGxlbik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHthbnl9IGFueVxuICAgKi9cbiAgd3JpdGVBbnkgKGFueSkge1xuICAgIGVuY29kaW5nLndyaXRlQW55KHRoaXMucmVzdEVuY29kZXIsIGFueSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtVaW50OEFycmF5fSBidWZcbiAgICovXG4gIHdyaXRlQnVmIChidWYpIHtcbiAgICBlbmNvZGluZy53cml0ZVZhclVpbnQ4QXJyYXkodGhpcy5yZXN0RW5jb2RlciwgYnVmKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2FueX0gZW1iZWRcbiAgICovXG4gIHdyaXRlSlNPTiAoZW1iZWQpIHtcbiAgICBlbmNvZGluZy53cml0ZVZhclN0cmluZyh0aGlzLnJlc3RFbmNvZGVyLCBKU09OLnN0cmluZ2lmeShlbWJlZCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICovXG4gIHdyaXRlS2V5IChrZXkpIHtcbiAgICBlbmNvZGluZy53cml0ZVZhclN0cmluZyh0aGlzLnJlc3RFbmNvZGVyLCBrZXkpO1xuICB9XG59XG5cbmNsYXNzIERTRW5jb2RlclYyIHtcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHRoaXMucmVzdEVuY29kZXIgPSBlbmNvZGluZy5jcmVhdGVFbmNvZGVyKCk7IC8vIGVuY29kZXMgYWxsIHRoZSByZXN0IC8gbm9uLW9wdGltaXplZFxuICAgIHRoaXMuZHNDdXJyVmFsID0gMDtcbiAgfVxuXG4gIHRvVWludDhBcnJheSAoKSB7XG4gICAgcmV0dXJuIGVuY29kaW5nLnRvVWludDhBcnJheSh0aGlzLnJlc3RFbmNvZGVyKVxuICB9XG5cbiAgcmVzZXREc0N1clZhbCAoKSB7XG4gICAgdGhpcy5kc0N1cnJWYWwgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjbG9ja1xuICAgKi9cbiAgd3JpdGVEc0Nsb2NrIChjbG9jaykge1xuICAgIGNvbnN0IGRpZmYgPSBjbG9jayAtIHRoaXMuZHNDdXJyVmFsO1xuICAgIHRoaXMuZHNDdXJyVmFsID0gY2xvY2s7XG4gICAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KHRoaXMucmVzdEVuY29kZXIsIGRpZmYpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsZW5cbiAgICovXG4gIHdyaXRlRHNMZW4gKGxlbikge1xuICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgIGVycm9yLnVuZXhwZWN0ZWRDYXNlKCk7XG4gICAgfVxuICAgIGVuY29kaW5nLndyaXRlVmFyVWludCh0aGlzLnJlc3RFbmNvZGVyLCBsZW4gLSAxKTtcbiAgICB0aGlzLmRzQ3VyclZhbCArPSBsZW47XG4gIH1cbn1cblxuY2xhc3MgVXBkYXRlRW5jb2RlclYyIGV4dGVuZHMgRFNFbmNvZGVyVjIge1xuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgc3VwZXIoKTtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7TWFwPHN0cmluZyxudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMua2V5TWFwID0gbmV3IE1hcCgpO1xuICAgIC8qKlxuICAgICAqIFJlZmVycyB0byB0aGUgbmV4dCB1bmlxZSBrZXktaWRlbnRpZmllciB0byBtZSB1c2VkLlxuICAgICAqIFNlZSB3cml0ZUtleSBtZXRob2QgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMua2V5Q2xvY2sgPSAwO1xuICAgIHRoaXMua2V5Q2xvY2tFbmNvZGVyID0gbmV3IGVuY29kaW5nLkludERpZmZPcHRSbGVFbmNvZGVyKCk7XG4gICAgdGhpcy5jbGllbnRFbmNvZGVyID0gbmV3IGVuY29kaW5nLlVpbnRPcHRSbGVFbmNvZGVyKCk7XG4gICAgdGhpcy5sZWZ0Q2xvY2tFbmNvZGVyID0gbmV3IGVuY29kaW5nLkludERpZmZPcHRSbGVFbmNvZGVyKCk7XG4gICAgdGhpcy5yaWdodENsb2NrRW5jb2RlciA9IG5ldyBlbmNvZGluZy5JbnREaWZmT3B0UmxlRW5jb2RlcigpO1xuICAgIHRoaXMuaW5mb0VuY29kZXIgPSBuZXcgZW5jb2RpbmcuUmxlRW5jb2RlcihlbmNvZGluZy53cml0ZVVpbnQ4KTtcbiAgICB0aGlzLnN0cmluZ0VuY29kZXIgPSBuZXcgZW5jb2RpbmcuU3RyaW5nRW5jb2RlcigpO1xuICAgIHRoaXMucGFyZW50SW5mb0VuY29kZXIgPSBuZXcgZW5jb2RpbmcuUmxlRW5jb2RlcihlbmNvZGluZy53cml0ZVVpbnQ4KTtcbiAgICB0aGlzLnR5cGVSZWZFbmNvZGVyID0gbmV3IGVuY29kaW5nLlVpbnRPcHRSbGVFbmNvZGVyKCk7XG4gICAgdGhpcy5sZW5FbmNvZGVyID0gbmV3IGVuY29kaW5nLlVpbnRPcHRSbGVFbmNvZGVyKCk7XG4gIH1cblxuICB0b1VpbnQ4QXJyYXkgKCkge1xuICAgIGNvbnN0IGVuY29kZXIgPSBlbmNvZGluZy5jcmVhdGVFbmNvZGVyKCk7XG4gICAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KGVuY29kZXIsIDApOyAvLyB0aGlzIGlzIGEgZmVhdHVyZSBmbGFnIHRoYXQgd2UgbWlnaHQgdXNlIGluIHRoZSBmdXR1cmVcbiAgICBlbmNvZGluZy53cml0ZVZhclVpbnQ4QXJyYXkoZW5jb2RlciwgdGhpcy5rZXlDbG9ja0VuY29kZXIudG9VaW50OEFycmF5KCkpO1xuICAgIGVuY29kaW5nLndyaXRlVmFyVWludDhBcnJheShlbmNvZGVyLCB0aGlzLmNsaWVudEVuY29kZXIudG9VaW50OEFycmF5KCkpO1xuICAgIGVuY29kaW5nLndyaXRlVmFyVWludDhBcnJheShlbmNvZGVyLCB0aGlzLmxlZnRDbG9ja0VuY29kZXIudG9VaW50OEFycmF5KCkpO1xuICAgIGVuY29kaW5nLndyaXRlVmFyVWludDhBcnJheShlbmNvZGVyLCB0aGlzLnJpZ2h0Q2xvY2tFbmNvZGVyLnRvVWludDhBcnJheSgpKTtcbiAgICBlbmNvZGluZy53cml0ZVZhclVpbnQ4QXJyYXkoZW5jb2RlciwgZW5jb2RpbmcudG9VaW50OEFycmF5KHRoaXMuaW5mb0VuY29kZXIpKTtcbiAgICBlbmNvZGluZy53cml0ZVZhclVpbnQ4QXJyYXkoZW5jb2RlciwgdGhpcy5zdHJpbmdFbmNvZGVyLnRvVWludDhBcnJheSgpKTtcbiAgICBlbmNvZGluZy53cml0ZVZhclVpbnQ4QXJyYXkoZW5jb2RlciwgZW5jb2RpbmcudG9VaW50OEFycmF5KHRoaXMucGFyZW50SW5mb0VuY29kZXIpKTtcbiAgICBlbmNvZGluZy53cml0ZVZhclVpbnQ4QXJyYXkoZW5jb2RlciwgdGhpcy50eXBlUmVmRW5jb2Rlci50b1VpbnQ4QXJyYXkoKSk7XG4gICAgZW5jb2Rpbmcud3JpdGVWYXJVaW50OEFycmF5KGVuY29kZXIsIHRoaXMubGVuRW5jb2Rlci50b1VpbnQ4QXJyYXkoKSk7XG4gICAgLy8gQG5vdGUgVGhlIHJlc3QgZW5jb2RlciBpcyBhcHBlbmRlZCEgKG5vdGUgdGhlIG1pc3NpbmcgdmFyKVxuICAgIGVuY29kaW5nLndyaXRlVWludDhBcnJheShlbmNvZGVyLCBlbmNvZGluZy50b1VpbnQ4QXJyYXkodGhpcy5yZXN0RW5jb2RlcikpO1xuICAgIHJldHVybiBlbmNvZGluZy50b1VpbnQ4QXJyYXkoZW5jb2RlcilcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0lEfSBpZFxuICAgKi9cbiAgd3JpdGVMZWZ0SUQgKGlkKSB7XG4gICAgdGhpcy5jbGllbnRFbmNvZGVyLndyaXRlKGlkLmNsaWVudCk7XG4gICAgdGhpcy5sZWZ0Q2xvY2tFbmNvZGVyLndyaXRlKGlkLmNsb2NrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0lEfSBpZFxuICAgKi9cbiAgd3JpdGVSaWdodElEIChpZCkge1xuICAgIHRoaXMuY2xpZW50RW5jb2Rlci53cml0ZShpZC5jbGllbnQpO1xuICAgIHRoaXMucmlnaHRDbG9ja0VuY29kZXIud3JpdGUoaWQuY2xvY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjbGllbnRcbiAgICovXG4gIHdyaXRlQ2xpZW50IChjbGllbnQpIHtcbiAgICB0aGlzLmNsaWVudEVuY29kZXIud3JpdGUoY2xpZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5mbyBBbiB1bnNpZ25lZCA4LWJpdCBpbnRlZ2VyXG4gICAqL1xuICB3cml0ZUluZm8gKGluZm8pIHtcbiAgICB0aGlzLmluZm9FbmNvZGVyLndyaXRlKGluZm8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzXG4gICAqL1xuICB3cml0ZVN0cmluZyAocykge1xuICAgIHRoaXMuc3RyaW5nRW5jb2Rlci53cml0ZShzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzWUtleVxuICAgKi9cbiAgd3JpdGVQYXJlbnRJbmZvIChpc1lLZXkpIHtcbiAgICB0aGlzLnBhcmVudEluZm9FbmNvZGVyLndyaXRlKGlzWUtleSA/IDEgOiAwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5mbyBBbiB1bnNpZ25lZCA4LWJpdCBpbnRlZ2VyXG4gICAqL1xuICB3cml0ZVR5cGVSZWYgKGluZm8pIHtcbiAgICB0aGlzLnR5cGVSZWZFbmNvZGVyLndyaXRlKGluZm8pO1xuICB9XG5cbiAgLyoqXG4gICAqIFdyaXRlIGxlbiBvZiBhIHN0cnVjdCAtIHdlbGwgc3VpdGVkIGZvciBPcHQgUkxFIGVuY29kZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsZW5cbiAgICovXG4gIHdyaXRlTGVuIChsZW4pIHtcbiAgICB0aGlzLmxlbkVuY29kZXIud3JpdGUobGVuKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2FueX0gYW55XG4gICAqL1xuICB3cml0ZUFueSAoYW55KSB7XG4gICAgZW5jb2Rpbmcud3JpdGVBbnkodGhpcy5yZXN0RW5jb2RlciwgYW55KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGJ1ZlxuICAgKi9cbiAgd3JpdGVCdWYgKGJ1Zikge1xuICAgIGVuY29kaW5nLndyaXRlVmFyVWludDhBcnJheSh0aGlzLnJlc3RFbmNvZGVyLCBidWYpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgbWFpbmx5IGhlcmUgZm9yIGxlZ2FjeSBwdXJwb3Nlcy5cbiAgICpcbiAgICogSW5pdGlhbCB3ZSBpbmNvZGVkIG9iamVjdHMgdXNpbmcgSlNPTi4gTm93IHdlIHVzZSB0aGUgbXVjaCBmYXN0ZXIgbGliMC9hbnktZW5jb2Rlci4gVGhpcyBtZXRob2QgbWFpbmx5IGV4aXN0cyBmb3IgbGVnYWN5IHB1cnBvc2VzIGZvciB0aGUgdjEgZW5jb2Rlci5cbiAgICpcbiAgICogQHBhcmFtIHthbnl9IGVtYmVkXG4gICAqL1xuICB3cml0ZUpTT04gKGVtYmVkKSB7XG4gICAgZW5jb2Rpbmcud3JpdGVBbnkodGhpcy5yZXN0RW5jb2RlciwgZW1iZWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3BlcnR5IGtleXMgYXJlIG9mdGVuIHJldXNlZC4gRm9yIGV4YW1wbGUsIGluIHktcHJvc2VtaXJyb3IgdGhlIGtleSBgYm9sZGAgbWlnaHRcbiAgICogb2NjdXIgdmVyeSBvZnRlbi4gRm9yIGEgM2QgYXBwbGljYXRpb24sIHRoZSBrZXkgYHBvc2l0aW9uYCBtaWdodCBvY2N1ciB2ZXJ5IG9mdGVuLlxuICAgKlxuICAgKiBXZSBjYWNoZSB0aGVzZSBrZXlzIGluIGEgTWFwIGFuZCByZWZlciB0byB0aGVtIHZpYSBhIHVuaXF1ZSBudW1iZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICovXG4gIHdyaXRlS2V5IChrZXkpIHtcbiAgICBjb25zdCBjbG9jayA9IHRoaXMua2V5TWFwLmdldChrZXkpO1xuICAgIGlmIChjbG9jayA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvKipcbiAgICAgICAqIEB0b2RvIHVuY29tbWVudCB0byBpbnRyb2R1Y2UgdGhpcyBmZWF0dXJlIGZpbmFsbHlcbiAgICAgICAqXG4gICAgICAgKiBCYWNrZ3JvdW5kLiBUaGUgQ29udGVudEZvcm1hdCBvYmplY3Qgd2FzIGFsd2F5cyBlbmNvZGVkIHVzaW5nIHdyaXRlS2V5LCBidXQgdGhlIGRlY29kZXIgdXNlZCB0byB1c2UgcmVhZFN0cmluZy5cbiAgICAgICAqIEZ1cnRoZXJtb3JlLCBJIGZvcmdvdCB0byBzZXQgdGhlIGtleWNsb2NrLiBTbyBldmVyeXRoaW5nIHdhcyB3b3JraW5nIGZpbmUuXG4gICAgICAgKlxuICAgICAgICogSG93ZXZlciwgdGhpcyBmZWF0dXJlIGhlcmUgaXMgYmFzaWNhbGx5IHVzZWxlc3MgYXMgaXQgaXMgbm90IGJlaW5nIHVzZWQgKGl0IGFjdHVhbGx5IG9ubHkgY29uc3VtZXMgZXh0cmEgbWVtb3J5KS5cbiAgICAgICAqXG4gICAgICAgKiBJIGRvbid0IGtub3cgeWV0IGhvdyB0byByZWludHJvZHVjZSB0aGlzIGZlYXR1cmUuLlxuICAgICAgICpcbiAgICAgICAqIE9sZGVyIGNsaWVudHMgd29uJ3QgYmUgYWJsZSB0byByZWFkIHVwZGF0ZXMgd2hlbiB3ZSByZWludHJvZHVjZSB0aGlzIGZlYXR1cmUuIFNvIHRoaXMgc2hvdWxkIHByb2JhYmx5IGJlIGRvbmUgdXNpbmcgYSBmbGFnLlxuICAgICAgICpcbiAgICAgICAqL1xuICAgICAgLy8gdGhpcy5rZXlNYXAuc2V0KGtleSwgdGhpcy5rZXlDbG9jaylcbiAgICAgIHRoaXMua2V5Q2xvY2tFbmNvZGVyLndyaXRlKHRoaXMua2V5Q2xvY2srKyk7XG4gICAgICB0aGlzLnN0cmluZ0VuY29kZXIud3JpdGUoa2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5rZXlDbG9ja0VuY29kZXIud3JpdGUoY2xvY2spO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7VXBkYXRlRW5jb2RlclYxIHwgVXBkYXRlRW5jb2RlclYyfSBlbmNvZGVyXG4gKiBAcGFyYW0ge0FycmF5PEdDfEl0ZW0+fSBzdHJ1Y3RzIEFsbCBzdHJ1Y3RzIGJ5IGBjbGllbnRgXG4gKiBAcGFyYW0ge251bWJlcn0gY2xpZW50XG4gKiBAcGFyYW0ge251bWJlcn0gY2xvY2sgd3JpdGUgc3RydWN0cyBzdGFydGluZyB3aXRoIGBJRChjbGllbnQsY2xvY2spYFxuICpcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCB3cml0ZVN0cnVjdHMgPSAoZW5jb2Rlciwgc3RydWN0cywgY2xpZW50LCBjbG9jaykgPT4ge1xuICAvLyB3cml0ZSBmaXJzdCBpZFxuICBjbG9jayA9IG1hdGgubWF4KGNsb2NrLCBzdHJ1Y3RzWzBdLmlkLmNsb2NrKTsgLy8gbWFrZSBzdXJlIHRoZSBmaXJzdCBpZCBleGlzdHNcbiAgY29uc3Qgc3RhcnROZXdTdHJ1Y3RzID0gZmluZEluZGV4U1Moc3RydWN0cywgY2xvY2spO1xuICAvLyB3cml0ZSAjIGVuY29kZWQgc3RydWN0c1xuICBlbmNvZGluZy53cml0ZVZhclVpbnQoZW5jb2Rlci5yZXN0RW5jb2Rlciwgc3RydWN0cy5sZW5ndGggLSBzdGFydE5ld1N0cnVjdHMpO1xuICBlbmNvZGVyLndyaXRlQ2xpZW50KGNsaWVudCk7XG4gIGVuY29kaW5nLndyaXRlVmFyVWludChlbmNvZGVyLnJlc3RFbmNvZGVyLCBjbG9jayk7XG4gIGNvbnN0IGZpcnN0U3RydWN0ID0gc3RydWN0c1tzdGFydE5ld1N0cnVjdHNdO1xuICAvLyB3cml0ZSBmaXJzdCBzdHJ1Y3Qgd2l0aCBhbiBvZmZzZXRcbiAgZmlyc3RTdHJ1Y3Qud3JpdGUoZW5jb2RlciwgY2xvY2sgLSBmaXJzdFN0cnVjdC5pZC5jbG9jayk7XG4gIGZvciAobGV0IGkgPSBzdGFydE5ld1N0cnVjdHMgKyAxOyBpIDwgc3RydWN0cy5sZW5ndGg7IGkrKykge1xuICAgIHN0cnVjdHNbaV0ud3JpdGUoZW5jb2RlciwgMCk7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtVcGRhdGVFbmNvZGVyVjEgfCBVcGRhdGVFbmNvZGVyVjJ9IGVuY29kZXJcbiAqIEBwYXJhbSB7U3RydWN0U3RvcmV9IHN0b3JlXG4gKiBAcGFyYW0ge01hcDxudW1iZXIsbnVtYmVyPn0gX3NtXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCB3cml0ZUNsaWVudHNTdHJ1Y3RzID0gKGVuY29kZXIsIHN0b3JlLCBfc20pID0+IHtcbiAgLy8gd2UgZmlsdGVyIGFsbCB2YWxpZCBfc20gZW50cmllcyBpbnRvIHNtXG4gIGNvbnN0IHNtID0gbmV3IE1hcCgpO1xuICBfc20uZm9yRWFjaCgoY2xvY2ssIGNsaWVudCkgPT4ge1xuICAgIC8vIG9ubHkgd3JpdGUgaWYgbmV3IHN0cnVjdHMgYXJlIGF2YWlsYWJsZVxuICAgIGlmIChnZXRTdGF0ZShzdG9yZSwgY2xpZW50KSA+IGNsb2NrKSB7XG4gICAgICBzbS5zZXQoY2xpZW50LCBjbG9jayk7XG4gICAgfVxuICB9KTtcbiAgZ2V0U3RhdGVWZWN0b3Ioc3RvcmUpLmZvckVhY2goKGNsb2NrLCBjbGllbnQpID0+IHtcbiAgICBpZiAoIV9zbS5oYXMoY2xpZW50KSkge1xuICAgICAgc20uc2V0KGNsaWVudCwgMCk7XG4gICAgfVxuICB9KTtcbiAgLy8gd3JpdGUgIyBzdGF0ZXMgdGhhdCB3ZXJlIHVwZGF0ZWRcbiAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KGVuY29kZXIucmVzdEVuY29kZXIsIHNtLnNpemUpO1xuICAvLyBXcml0ZSBpdGVtcyB3aXRoIGhpZ2hlciBjbGllbnQgaWRzIGZpcnN0XG4gIC8vIFRoaXMgaGVhdmlseSBpbXByb3ZlcyB0aGUgY29uZmxpY3QgYWxnb3JpdGhtLlxuICBBcnJheS5mcm9tKHNtLmVudHJpZXMoKSkuc29ydCgoYSwgYikgPT4gYlswXSAtIGFbMF0pLmZvckVhY2goKFtjbGllbnQsIGNsb2NrXSkgPT4ge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICB3cml0ZVN0cnVjdHMoZW5jb2Rlciwgc3RvcmUuY2xpZW50cy5nZXQoY2xpZW50KSwgY2xpZW50LCBjbG9jayk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge1VwZGF0ZURlY29kZXJWMSB8IFVwZGF0ZURlY29kZXJWMn0gZGVjb2RlciBUaGUgZGVjb2RlciBvYmplY3QgdG8gcmVhZCBkYXRhIGZyb20uXG4gKiBAcGFyYW0ge0RvY30gZG9jXG4gKiBAcmV0dXJuIHtNYXA8bnVtYmVyLCB7IGk6IG51bWJlciwgcmVmczogQXJyYXk8SXRlbSB8IEdDPiB9Pn1cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IHJlYWRDbGllbnRzU3RydWN0UmVmcyA9IChkZWNvZGVyLCBkb2MpID0+IHtcbiAgLyoqXG4gICAqIEB0eXBlIHtNYXA8bnVtYmVyLCB7IGk6IG51bWJlciwgcmVmczogQXJyYXk8SXRlbSB8IEdDPiB9Pn1cbiAgICovXG4gIGNvbnN0IGNsaWVudFJlZnMgPSBtYXAuY3JlYXRlKCk7XG4gIGNvbnN0IG51bU9mU3RhdGVVcGRhdGVzID0gZGVjb2RpbmcucmVhZFZhclVpbnQoZGVjb2Rlci5yZXN0RGVjb2Rlcik7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtT2ZTdGF0ZVVwZGF0ZXM7IGkrKykge1xuICAgIGNvbnN0IG51bWJlck9mU3RydWN0cyA9IGRlY29kaW5nLnJlYWRWYXJVaW50KGRlY29kZXIucmVzdERlY29kZXIpO1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheTxHQ3xJdGVtPn1cbiAgICAgKi9cbiAgICBjb25zdCByZWZzID0gbmV3IEFycmF5KG51bWJlck9mU3RydWN0cyk7XG4gICAgY29uc3QgY2xpZW50ID0gZGVjb2Rlci5yZWFkQ2xpZW50KCk7XG4gICAgbGV0IGNsb2NrID0gZGVjb2RpbmcucmVhZFZhclVpbnQoZGVjb2Rlci5yZXN0RGVjb2Rlcik7XG4gICAgLy8gY29uc3Qgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKVxuICAgIGNsaWVudFJlZnMuc2V0KGNsaWVudCwgeyBpOiAwLCByZWZzIH0pO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyT2ZTdHJ1Y3RzOyBpKyspIHtcbiAgICAgIGNvbnN0IGluZm8gPSBkZWNvZGVyLnJlYWRJbmZvKCk7XG4gICAgICBzd2l0Y2ggKGJpbmFyeS5CSVRTNSAmIGluZm8pIHtcbiAgICAgICAgY2FzZSAwOiB7IC8vIEdDXG4gICAgICAgICAgY29uc3QgbGVuID0gZGVjb2Rlci5yZWFkTGVuKCk7XG4gICAgICAgICAgcmVmc1tpXSA9IG5ldyBHQyhjcmVhdGVJRChjbGllbnQsIGNsb2NrKSwgbGVuKTtcbiAgICAgICAgICBjbG9jayArPSBsZW47XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDEwOiB7IC8vIFNraXAgU3RydWN0IChub3RoaW5nIHRvIGFwcGx5KVxuICAgICAgICAgIC8vIEB0b2RvIHdlIGNvdWxkIHJlZHVjZSB0aGUgYW1vdW50IG9mIGNoZWNrcyBieSBhZGRpbmcgU2tpcCBzdHJ1Y3QgdG8gY2xpZW50UmVmcyBzbyB3ZSBrbm93IHRoYXQgc29tZXRoaW5nIGlzIG1pc3NpbmcuXG4gICAgICAgICAgY29uc3QgbGVuID0gZGVjb2RpbmcucmVhZFZhclVpbnQoZGVjb2Rlci5yZXN0RGVjb2Rlcik7XG4gICAgICAgICAgcmVmc1tpXSA9IG5ldyBTa2lwKGNyZWF0ZUlEKGNsaWVudCwgY2xvY2spLCBsZW4pO1xuICAgICAgICAgIGNsb2NrICs9IGxlbjtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHsgLy8gSXRlbSB3aXRoIGNvbnRlbnRcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBUaGUgb3B0aW1pemVkIGltcGxlbWVudGF0aW9uIGRvZXNuJ3QgdXNlIGFueSB2YXJpYWJsZXMgYmVjYXVzZSBpbmxpbmluZyB2YXJpYWJsZXMgaXMgZmFzdGVyLlxuICAgICAgICAgICAqIEJlbG93IGEgbm9uLW9wdGltaXplZCB2ZXJzaW9uIGlzIHNob3duIHRoYXQgaW1wbGVtZW50cyB0aGUgYmFzaWMgYWxnb3JpdGhtIHdpdGhcbiAgICAgICAgICAgKiBhIGZldyBjb21tZW50c1xuICAgICAgICAgICAqL1xuICAgICAgICAgIGNvbnN0IGNhbnRDb3B5UGFyZW50SW5mbyA9IChpbmZvICYgKGJpbmFyeS5CSVQ3IHwgYmluYXJ5LkJJVDgpKSA9PT0gMDtcbiAgICAgICAgICAvLyBJZiBwYXJlbnQgPSBudWxsIGFuZCBuZWl0aGVyIGxlZnQgbm9yIHJpZ2h0IGFyZSBkZWZpbmVkLCB0aGVuIHdlIGtub3cgdGhhdCBgcGFyZW50YCBpcyBjaGlsZCBvZiBgeWBcbiAgICAgICAgICAvLyBhbmQgd2UgcmVhZCB0aGUgbmV4dCBzdHJpbmcgYXMgcGFyZW50WUtleS5cbiAgICAgICAgICAvLyBJdCBpbmRpY2F0ZXMgaG93IHdlIHN0b3JlL3JldHJpZXZlIHBhcmVudCBmcm9tIGB5LnNoYXJlYFxuICAgICAgICAgIC8vIEB0eXBlIHtzdHJpbmd8bnVsbH1cbiAgICAgICAgICBjb25zdCBzdHJ1Y3QgPSBuZXcgSXRlbShcbiAgICAgICAgICAgIGNyZWF0ZUlEKGNsaWVudCwgY2xvY2spLFxuICAgICAgICAgICAgbnVsbCwgLy8gbGVmdGRcbiAgICAgICAgICAgIChpbmZvICYgYmluYXJ5LkJJVDgpID09PSBiaW5hcnkuQklUOCA/IGRlY29kZXIucmVhZExlZnRJRCgpIDogbnVsbCwgLy8gb3JpZ2luXG4gICAgICAgICAgICBudWxsLCAvLyByaWdodFxuICAgICAgICAgICAgKGluZm8gJiBiaW5hcnkuQklUNykgPT09IGJpbmFyeS5CSVQ3ID8gZGVjb2Rlci5yZWFkUmlnaHRJRCgpIDogbnVsbCwgLy8gcmlnaHQgb3JpZ2luXG4gICAgICAgICAgICBjYW50Q29weVBhcmVudEluZm8gPyAoZGVjb2Rlci5yZWFkUGFyZW50SW5mbygpID8gZG9jLmdldChkZWNvZGVyLnJlYWRTdHJpbmcoKSkgOiBkZWNvZGVyLnJlYWRMZWZ0SUQoKSkgOiBudWxsLCAvLyBwYXJlbnRcbiAgICAgICAgICAgIGNhbnRDb3B5UGFyZW50SW5mbyAmJiAoaW5mbyAmIGJpbmFyeS5CSVQ2KSA9PT0gYmluYXJ5LkJJVDYgPyBkZWNvZGVyLnJlYWRTdHJpbmcoKSA6IG51bGwsIC8vIHBhcmVudFN1YlxuICAgICAgICAgICAgcmVhZEl0ZW1Db250ZW50KGRlY29kZXIsIGluZm8pIC8vIGl0ZW0gY29udGVudFxuICAgICAgICAgICk7XG4gICAgICAgICAgLyogQSBub24tb3B0aW1pemVkIGltcGxlbWVudGF0aW9uIG9mIHRoZSBhYm92ZSBhbGdvcml0aG06XG5cbiAgICAgICAgICAvLyBUaGUgaXRlbSB0aGF0IHdhcyBvcmlnaW5hbGx5IHRvIHRoZSBsZWZ0IG9mIHRoaXMgaXRlbS5cbiAgICAgICAgICBjb25zdCBvcmlnaW4gPSAoaW5mbyAmIGJpbmFyeS5CSVQ4KSA9PT0gYmluYXJ5LkJJVDggPyBkZWNvZGVyLnJlYWRMZWZ0SUQoKSA6IG51bGxcbiAgICAgICAgICAvLyBUaGUgaXRlbSB0aGF0IHdhcyBvcmlnaW5hbGx5IHRvIHRoZSByaWdodCBvZiB0aGlzIGl0ZW0uXG4gICAgICAgICAgY29uc3QgcmlnaHRPcmlnaW4gPSAoaW5mbyAmIGJpbmFyeS5CSVQ3KSA9PT0gYmluYXJ5LkJJVDcgPyBkZWNvZGVyLnJlYWRSaWdodElEKCkgOiBudWxsXG4gICAgICAgICAgY29uc3QgY2FudENvcHlQYXJlbnRJbmZvID0gKGluZm8gJiAoYmluYXJ5LkJJVDcgfCBiaW5hcnkuQklUOCkpID09PSAwXG4gICAgICAgICAgY29uc3QgaGFzUGFyZW50WUtleSA9IGNhbnRDb3B5UGFyZW50SW5mbyA/IGRlY29kZXIucmVhZFBhcmVudEluZm8oKSA6IGZhbHNlXG4gICAgICAgICAgLy8gSWYgcGFyZW50ID0gbnVsbCBhbmQgbmVpdGhlciBsZWZ0IG5vciByaWdodCBhcmUgZGVmaW5lZCwgdGhlbiB3ZSBrbm93IHRoYXQgYHBhcmVudGAgaXMgY2hpbGQgb2YgYHlgXG4gICAgICAgICAgLy8gYW5kIHdlIHJlYWQgdGhlIG5leHQgc3RyaW5nIGFzIHBhcmVudFlLZXkuXG4gICAgICAgICAgLy8gSXQgaW5kaWNhdGVzIGhvdyB3ZSBzdG9yZS9yZXRyaWV2ZSBwYXJlbnQgZnJvbSBgeS5zaGFyZWBcbiAgICAgICAgICAvLyBAdHlwZSB7c3RyaW5nfG51bGx9XG4gICAgICAgICAgY29uc3QgcGFyZW50WUtleSA9IGNhbnRDb3B5UGFyZW50SW5mbyAmJiBoYXNQYXJlbnRZS2V5ID8gZGVjb2Rlci5yZWFkU3RyaW5nKCkgOiBudWxsXG5cbiAgICAgICAgICBjb25zdCBzdHJ1Y3QgPSBuZXcgSXRlbShcbiAgICAgICAgICAgIGNyZWF0ZUlEKGNsaWVudCwgY2xvY2spLFxuICAgICAgICAgICAgbnVsbCwgLy8gbGVmdGRcbiAgICAgICAgICAgIG9yaWdpbiwgLy8gb3JpZ2luXG4gICAgICAgICAgICBudWxsLCAvLyByaWdodFxuICAgICAgICAgICAgcmlnaHRPcmlnaW4sIC8vIHJpZ2h0IG9yaWdpblxuICAgICAgICAgICAgY2FudENvcHlQYXJlbnRJbmZvICYmICFoYXNQYXJlbnRZS2V5ID8gZGVjb2Rlci5yZWFkTGVmdElEKCkgOiAocGFyZW50WUtleSAhPT0gbnVsbCA/IGRvYy5nZXQocGFyZW50WUtleSkgOiBudWxsKSwgLy8gcGFyZW50XG4gICAgICAgICAgICBjYW50Q29weVBhcmVudEluZm8gJiYgKGluZm8gJiBiaW5hcnkuQklUNikgPT09IGJpbmFyeS5CSVQ2ID8gZGVjb2Rlci5yZWFkU3RyaW5nKCkgOiBudWxsLCAvLyBwYXJlbnRTdWJcbiAgICAgICAgICAgIHJlYWRJdGVtQ29udGVudChkZWNvZGVyLCBpbmZvKSAvLyBpdGVtIGNvbnRlbnRcbiAgICAgICAgICApXG4gICAgICAgICAgKi9cbiAgICAgICAgICByZWZzW2ldID0gc3RydWN0O1xuICAgICAgICAgIGNsb2NrICs9IHN0cnVjdC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gY29uc29sZS5sb2coJ3RpbWUgdG8gcmVhZDogJywgcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydCkgLy8gQHRvZG8gcmVtb3ZlXG4gIH1cbiAgcmV0dXJuIGNsaWVudFJlZnNcbn07XG5cbi8qKlxuICogUmVzdW1lIGNvbXB1dGluZyBzdHJ1Y3RzIGdlbmVyYXRlZCBieSBzdHJ1Y3QgcmVhZGVycy5cbiAqXG4gKiBXaGlsZSB0aGVyZSBpcyBzb21ldGhpbmcgdG8gZG8sIHdlIGludGVncmF0ZSBzdHJ1Y3RzIGluIHRoaXMgb3JkZXJcbiAqIDEuIHRvcCBlbGVtZW50IG9uIHN0YWNrLCBpZiBzdGFjayBpcyBub3QgZW1wdHlcbiAqIDIuIG5leHQgZWxlbWVudCBmcm9tIGN1cnJlbnQgc3RydWN0IHJlYWRlciAoaWYgZW1wdHksIHVzZSBuZXh0IHN0cnVjdCByZWFkZXIpXG4gKlxuICogSWYgc3RydWN0IGNhdXNhbGx5IGRlcGVuZHMgb24gYW5vdGhlciBzdHJ1Y3QgKHJlZi5taXNzaW5nKSwgd2UgcHV0IG5leHQgcmVhZGVyIG9mXG4gKiBgcmVmLmlkLmNsaWVudGAgb24gdG9wIG9mIHN0YWNrLlxuICpcbiAqIEF0IHNvbWUgcG9pbnQgd2UgZmluZCBhIHN0cnVjdCB0aGF0IGhhcyBubyBjYXVzYWwgZGVwZW5kZW5jaWVzLFxuICogdGhlbiB3ZSBzdGFydCBlbXB0eWluZyB0aGUgc3RhY2suXG4gKlxuICogSXQgaXMgbm90IHBvc3NpYmxlIHRvIGhhdmUgY2lyY2xlczogaS5lLiBzdHJ1Y3QxIChmcm9tIGNsaWVudDEpIGRlcGVuZHMgb24gc3RydWN0MiAoZnJvbSBjbGllbnQyKVxuICogZGVwZW5kcyBvbiBzdHJ1Y3QzIChmcm9tIGNsaWVudDEpLiBUaGVyZWZvcmUgdGhlIG1heCBzdGFjayBzaXplIGlzIGVxYXVsIHRvIGBzdHJ1Y3RSZWFkZXJzLmxlbmd0aGAuXG4gKlxuICogVGhpcyBtZXRob2QgaXMgaW1wbGVtZW50ZWQgaW4gYSB3YXkgc28gdGhhdCB3ZSBjYW4gcmVzdW1lIGNvbXB1dGF0aW9uIGlmIHRoaXMgdXBkYXRlXG4gKiBjYXVzYWxseSBkZXBlbmRzIG9uIGFub3RoZXIgdXBkYXRlLlxuICpcbiAqIEBwYXJhbSB7VHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gKiBAcGFyYW0ge1N0cnVjdFN0b3JlfSBzdG9yZVxuICogQHBhcmFtIHtNYXA8bnVtYmVyLCB7IGk6IG51bWJlciwgcmVmczogKEdDIHwgSXRlbSlbXSB9Pn0gY2xpZW50c1N0cnVjdFJlZnNcbiAqIEByZXR1cm4geyBudWxsIHwgeyB1cGRhdGU6IFVpbnQ4QXJyYXksIG1pc3Npbmc6IE1hcDxudW1iZXIsbnVtYmVyPiB9IH1cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IGludGVncmF0ZVN0cnVjdHMgPSAodHJhbnNhY3Rpb24sIHN0b3JlLCBjbGllbnRzU3RydWN0UmVmcykgPT4ge1xuICAvKipcbiAgICogQHR5cGUge0FycmF5PEl0ZW0gfCBHQz59XG4gICAqL1xuICBjb25zdCBzdGFjayA9IFtdO1xuICAvLyBzb3J0IHRoZW0gc28gdGhhdCB3ZSB0YWtlIHRoZSBoaWdoZXIgaWQgZmlyc3QsIGluIGNhc2Ugb2YgY29uZmxpY3RzIHRoZSBsb3dlciBpZCB3aWxsIHByb2JhYmx5IG5vdCBjb25mbGljdCB3aXRoIHRoZSBpZCBmcm9tIHRoZSBoaWdoZXIgdXNlci5cbiAgbGV0IGNsaWVudHNTdHJ1Y3RSZWZzSWRzID0gQXJyYXkuZnJvbShjbGllbnRzU3RydWN0UmVmcy5rZXlzKCkpLnNvcnQoKGEsIGIpID0+IGEgLSBiKTtcbiAgaWYgKGNsaWVudHNTdHJ1Y3RSZWZzSWRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBudWxsXG4gIH1cbiAgY29uc3QgZ2V0TmV4dFN0cnVjdFRhcmdldCA9ICgpID0+IHtcbiAgICBpZiAoY2xpZW50c1N0cnVjdFJlZnNJZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgICBsZXQgbmV4dFN0cnVjdHNUYXJnZXQgPSAvKiogQHR5cGUge3tpOm51bWJlcixyZWZzOkFycmF5PEdDfEl0ZW0+fX0gKi8gKGNsaWVudHNTdHJ1Y3RSZWZzLmdldChjbGllbnRzU3RydWN0UmVmc0lkc1tjbGllbnRzU3RydWN0UmVmc0lkcy5sZW5ndGggLSAxXSkpO1xuICAgIHdoaWxlIChuZXh0U3RydWN0c1RhcmdldC5yZWZzLmxlbmd0aCA9PT0gbmV4dFN0cnVjdHNUYXJnZXQuaSkge1xuICAgICAgY2xpZW50c1N0cnVjdFJlZnNJZHMucG9wKCk7XG4gICAgICBpZiAoY2xpZW50c1N0cnVjdFJlZnNJZHMubGVuZ3RoID4gMCkge1xuICAgICAgICBuZXh0U3RydWN0c1RhcmdldCA9IC8qKiBAdHlwZSB7e2k6bnVtYmVyLHJlZnM6QXJyYXk8R0N8SXRlbT59fSAqLyAoY2xpZW50c1N0cnVjdFJlZnMuZ2V0KGNsaWVudHNTdHJ1Y3RSZWZzSWRzW2NsaWVudHNTdHJ1Y3RSZWZzSWRzLmxlbmd0aCAtIDFdKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV4dFN0cnVjdHNUYXJnZXRcbiAgfTtcbiAgbGV0IGN1clN0cnVjdHNUYXJnZXQgPSBnZXROZXh0U3RydWN0VGFyZ2V0KCk7XG4gIGlmIChjdXJTdHJ1Y3RzVGFyZ2V0ID09PSBudWxsICYmIHN0YWNrLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICAvKipcbiAgICogQHR5cGUge1N0cnVjdFN0b3JlfVxuICAgKi9cbiAgY29uc3QgcmVzdFN0cnVjdHMgPSBuZXcgU3RydWN0U3RvcmUoKTtcbiAgY29uc3QgbWlzc2luZ1NWID0gbmV3IE1hcCgpO1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGNsaWVudFxuICAgKiBAcGFyYW0ge251bWJlcn0gY2xvY2tcbiAgICovXG4gIGNvbnN0IHVwZGF0ZU1pc3NpbmdTdiA9IChjbGllbnQsIGNsb2NrKSA9PiB7XG4gICAgY29uc3QgbWNsb2NrID0gbWlzc2luZ1NWLmdldChjbGllbnQpO1xuICAgIGlmIChtY2xvY2sgPT0gbnVsbCB8fCBtY2xvY2sgPiBjbG9jaykge1xuICAgICAgbWlzc2luZ1NWLnNldChjbGllbnQsIGNsb2NrKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBAdHlwZSB7R0N8SXRlbX1cbiAgICovXG4gIGxldCBzdGFja0hlYWQgPSAvKiogQHR5cGUge2FueX0gKi8gKGN1clN0cnVjdHNUYXJnZXQpLnJlZnNbLyoqIEB0eXBlIHthbnl9ICovIChjdXJTdHJ1Y3RzVGFyZ2V0KS5pKytdO1xuICAvLyBjYWNoaW5nIHRoZSBzdGF0ZSBiZWNhdXNlIGl0IGlzIHVzZWQgdmVyeSBvZnRlblxuICBjb25zdCBzdGF0ZSA9IG5ldyBNYXAoKTtcblxuICBjb25zdCBhZGRTdGFja1RvUmVzdFNTID0gKCkgPT4ge1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBzdGFjaykge1xuICAgICAgY29uc3QgY2xpZW50ID0gaXRlbS5pZC5jbGllbnQ7XG4gICAgICBjb25zdCB1bmFwcGxpY2FibGVJdGVtcyA9IGNsaWVudHNTdHJ1Y3RSZWZzLmdldChjbGllbnQpO1xuICAgICAgaWYgKHVuYXBwbGljYWJsZUl0ZW1zKSB7XG4gICAgICAgIC8vIGRlY3JlbWVudCBiZWNhdXNlIHdlIHdlcmVuJ3QgYWJsZSB0byBhcHBseSBwcmV2aW91cyBvcGVyYXRpb25cbiAgICAgICAgdW5hcHBsaWNhYmxlSXRlbXMuaS0tO1xuICAgICAgICByZXN0U3RydWN0cy5jbGllbnRzLnNldChjbGllbnQsIHVuYXBwbGljYWJsZUl0ZW1zLnJlZnMuc2xpY2UodW5hcHBsaWNhYmxlSXRlbXMuaSkpO1xuICAgICAgICBjbGllbnRzU3RydWN0UmVmcy5kZWxldGUoY2xpZW50KTtcbiAgICAgICAgdW5hcHBsaWNhYmxlSXRlbXMuaSA9IDA7XG4gICAgICAgIHVuYXBwbGljYWJsZUl0ZW1zLnJlZnMgPSBbXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGl0ZW0gd2FzIHRoZSBsYXN0IGl0ZW0gb24gY2xpZW50c1N0cnVjdFJlZnMgYW5kIHRoZSBmaWVsZCB3YXMgYWxyZWFkeSBjbGVhcmVkLiBBZGQgaXRlbSB0byByZXN0U3RydWN0cyBhbmQgY29udGludWVcbiAgICAgICAgcmVzdFN0cnVjdHMuY2xpZW50cy5zZXQoY2xpZW50LCBbaXRlbV0pO1xuICAgICAgfVxuICAgICAgLy8gcmVtb3ZlIGNsaWVudCBmcm9tIGNsaWVudHNTdHJ1Y3RSZWZzSWRzIHRvIHByZXZlbnQgdXNlcnMgZnJvbSBhcHBseWluZyB0aGUgc2FtZSB1cGRhdGUgYWdhaW5cbiAgICAgIGNsaWVudHNTdHJ1Y3RSZWZzSWRzID0gY2xpZW50c1N0cnVjdFJlZnNJZHMuZmlsdGVyKGMgPT4gYyAhPT0gY2xpZW50KTtcbiAgICB9XG4gICAgc3RhY2subGVuZ3RoID0gMDtcbiAgfTtcblxuICAvLyBpdGVyYXRlIG92ZXIgYWxsIHN0cnVjdCByZWFkZXJzIHVudGlsIHdlIGFyZSBkb25lXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgaWYgKHN0YWNrSGVhZC5jb25zdHJ1Y3RvciAhPT0gU2tpcCkge1xuICAgICAgY29uc3QgbG9jYWxDbG9jayA9IG1hcC5zZXRJZlVuZGVmaW5lZChzdGF0ZSwgc3RhY2tIZWFkLmlkLmNsaWVudCwgKCkgPT4gZ2V0U3RhdGUoc3RvcmUsIHN0YWNrSGVhZC5pZC5jbGllbnQpKTtcbiAgICAgIGNvbnN0IG9mZnNldCA9IGxvY2FsQ2xvY2sgLSBzdGFja0hlYWQuaWQuY2xvY2s7XG4gICAgICBpZiAob2Zmc2V0IDwgMCkge1xuICAgICAgICAvLyB1cGRhdGUgZnJvbSB0aGUgc2FtZSBjbGllbnQgaXMgbWlzc2luZ1xuICAgICAgICBzdGFjay5wdXNoKHN0YWNrSGVhZCk7XG4gICAgICAgIHVwZGF0ZU1pc3NpbmdTdihzdGFja0hlYWQuaWQuY2xpZW50LCBzdGFja0hlYWQuaWQuY2xvY2sgLSAxKTtcbiAgICAgICAgLy8gaGlkIGEgZGVhZCB3YWxsLCBhZGQgYWxsIGl0ZW1zIGZyb20gc3RhY2sgdG8gcmVzdFNTXG4gICAgICAgIGFkZFN0YWNrVG9SZXN0U1MoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG1pc3NpbmcgPSBzdGFja0hlYWQuZ2V0TWlzc2luZyh0cmFuc2FjdGlvbiwgc3RvcmUpO1xuICAgICAgICBpZiAobWlzc2luZyAhPT0gbnVsbCkge1xuICAgICAgICAgIHN0YWNrLnB1c2goc3RhY2tIZWFkKTtcbiAgICAgICAgICAvLyBnZXQgdGhlIHN0cnVjdCByZWFkZXIgdGhhdCBoYXMgdGhlIG1pc3Npbmcgc3RydWN0XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQHR5cGUge3sgcmVmczogQXJyYXk8R0N8SXRlbT4sIGk6IG51bWJlciB9fVxuICAgICAgICAgICAqL1xuICAgICAgICAgIGNvbnN0IHN0cnVjdFJlZnMgPSBjbGllbnRzU3RydWN0UmVmcy5nZXQoLyoqIEB0eXBlIHtudW1iZXJ9ICovIChtaXNzaW5nKSkgfHwgeyByZWZzOiBbXSwgaTogMCB9O1xuICAgICAgICAgIGlmIChzdHJ1Y3RSZWZzLnJlZnMubGVuZ3RoID09PSBzdHJ1Y3RSZWZzLmkpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgdXBkYXRlIG1lc3NhZ2UgY2F1c2FsbHkgZGVwZW5kcyBvbiBhbm90aGVyIHVwZGF0ZSBtZXNzYWdlIHRoYXQgZG9lc24ndCBleGlzdCB5ZXRcbiAgICAgICAgICAgIHVwZGF0ZU1pc3NpbmdTdigvKiogQHR5cGUge251bWJlcn0gKi8gKG1pc3NpbmcpLCBnZXRTdGF0ZShzdG9yZSwgbWlzc2luZykpO1xuICAgICAgICAgICAgYWRkU3RhY2tUb1Jlc3RTUygpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGFja0hlYWQgPSBzdHJ1Y3RSZWZzLnJlZnNbc3RydWN0UmVmcy5pKytdO1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAob2Zmc2V0ID09PSAwIHx8IG9mZnNldCA8IHN0YWNrSGVhZC5sZW5ndGgpIHtcbiAgICAgICAgICAvLyBhbGwgZmluZSwgYXBwbHkgdGhlIHN0YWNraGVhZFxuICAgICAgICAgIHN0YWNrSGVhZC5pbnRlZ3JhdGUodHJhbnNhY3Rpb24sIG9mZnNldCk7XG4gICAgICAgICAgc3RhdGUuc2V0KHN0YWNrSGVhZC5pZC5jbGllbnQsIHN0YWNrSGVhZC5pZC5jbG9jayArIHN0YWNrSGVhZC5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIGl0ZXJhdGUgdG8gbmV4dCBzdGFja0hlYWRcbiAgICBpZiAoc3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgc3RhY2tIZWFkID0gLyoqIEB0eXBlIHtHQ3xJdGVtfSAqLyAoc3RhY2sucG9wKCkpO1xuICAgIH0gZWxzZSBpZiAoY3VyU3RydWN0c1RhcmdldCAhPT0gbnVsbCAmJiBjdXJTdHJ1Y3RzVGFyZ2V0LmkgPCBjdXJTdHJ1Y3RzVGFyZ2V0LnJlZnMubGVuZ3RoKSB7XG4gICAgICBzdGFja0hlYWQgPSAvKiogQHR5cGUge0dDfEl0ZW19ICovIChjdXJTdHJ1Y3RzVGFyZ2V0LnJlZnNbY3VyU3RydWN0c1RhcmdldC5pKytdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VyU3RydWN0c1RhcmdldCA9IGdldE5leHRTdHJ1Y3RUYXJnZXQoKTtcbiAgICAgIGlmIChjdXJTdHJ1Y3RzVGFyZ2V0ID09PSBudWxsKSB7XG4gICAgICAgIC8vIHdlIGFyZSBkb25lIVxuICAgICAgICBicmVha1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhY2tIZWFkID0gLyoqIEB0eXBlIHtHQ3xJdGVtfSAqLyAoY3VyU3RydWN0c1RhcmdldC5yZWZzW2N1clN0cnVjdHNUYXJnZXQuaSsrXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChyZXN0U3RydWN0cy5jbGllbnRzLnNpemUgPiAwKSB7XG4gICAgY29uc3QgZW5jb2RlciA9IG5ldyBVcGRhdGVFbmNvZGVyVjIoKTtcbiAgICB3cml0ZUNsaWVudHNTdHJ1Y3RzKGVuY29kZXIsIHJlc3RTdHJ1Y3RzLCBuZXcgTWFwKCkpO1xuICAgIC8vIHdyaXRlIGVtcHR5IGRlbGV0ZXNldFxuICAgIC8vIHdyaXRlRGVsZXRlU2V0KGVuY29kZXIsIG5ldyBEZWxldGVTZXQoKSlcbiAgICBlbmNvZGluZy53cml0ZVZhclVpbnQoZW5jb2Rlci5yZXN0RW5jb2RlciwgMCk7IC8vID0+IG5vIG5lZWQgZm9yIGFuIGV4dHJhIGZ1bmN0aW9uIGNhbGwsIGp1c3Qgd3JpdGUgMCBkZWxldGVzXG4gICAgcmV0dXJuIHsgbWlzc2luZzogbWlzc2luZ1NWLCB1cGRhdGU6IGVuY29kZXIudG9VaW50OEFycmF5KCkgfVxuICB9XG4gIHJldHVybiBudWxsXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7VXBkYXRlRW5jb2RlclYxIHwgVXBkYXRlRW5jb2RlclYyfSBlbmNvZGVyXG4gKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3Qgd3JpdGVTdHJ1Y3RzRnJvbVRyYW5zYWN0aW9uID0gKGVuY29kZXIsIHRyYW5zYWN0aW9uKSA9PiB3cml0ZUNsaWVudHNTdHJ1Y3RzKGVuY29kZXIsIHRyYW5zYWN0aW9uLmRvYy5zdG9yZSwgdHJhbnNhY3Rpb24uYmVmb3JlU3RhdGUpO1xuXG4vKipcbiAqIFJlYWQgYW5kIGFwcGx5IGEgZG9jdW1lbnQgdXBkYXRlLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaGFzIHRoZSBzYW1lIGVmZmVjdCBhcyBgYXBwbHlVcGRhdGVgIGJ1dCBhY2NlcHRzIGFuIGRlY29kZXIuXG4gKlxuICogQHBhcmFtIHtkZWNvZGluZy5EZWNvZGVyfSBkZWNvZGVyXG4gKiBAcGFyYW0ge0RvY30geWRvY1xuICogQHBhcmFtIHthbnl9IFt0cmFuc2FjdGlvbk9yaWdpbl0gVGhpcyB3aWxsIGJlIHN0b3JlZCBvbiBgdHJhbnNhY3Rpb24ub3JpZ2luYCBhbmQgYC5vbigndXBkYXRlJywgKHVwZGF0ZSwgb3JpZ2luKSlgXG4gKiBAcGFyYW0ge1VwZGF0ZURlY29kZXJWMSB8IFVwZGF0ZURlY29kZXJWMn0gW3N0cnVjdERlY29kZXJdXG4gKlxuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IHJlYWRVcGRhdGVWMiA9IChkZWNvZGVyLCB5ZG9jLCB0cmFuc2FjdGlvbk9yaWdpbiwgc3RydWN0RGVjb2RlciA9IG5ldyBVcGRhdGVEZWNvZGVyVjIoZGVjb2RlcikpID0+XG4gIHRyYW5zYWN0KHlkb2MsIHRyYW5zYWN0aW9uID0+IHtcbiAgICAvLyBmb3JjZSB0aGF0IHRyYW5zYWN0aW9uLmxvY2FsIGlzIHNldCB0byBub24tbG9jYWxcbiAgICB0cmFuc2FjdGlvbi5sb2NhbCA9IGZhbHNlO1xuICAgIGxldCByZXRyeSA9IGZhbHNlO1xuICAgIGNvbnN0IGRvYyA9IHRyYW5zYWN0aW9uLmRvYztcbiAgICBjb25zdCBzdG9yZSA9IGRvYy5zdG9yZTtcbiAgICAvLyBsZXQgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKVxuICAgIGNvbnN0IHNzID0gcmVhZENsaWVudHNTdHJ1Y3RSZWZzKHN0cnVjdERlY29kZXIsIGRvYyk7XG4gICAgLy8gY29uc29sZS5sb2coJ3RpbWUgdG8gcmVhZCBzdHJ1Y3RzOiAnLCBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0KSAvLyBAdG9kbyByZW1vdmVcbiAgICAvLyBzdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpXG4gICAgLy8gY29uc29sZS5sb2coJ3RpbWUgdG8gbWVyZ2U6ICcsIHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnQpIC8vIEB0b2RvIHJlbW92ZVxuICAgIC8vIHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KClcbiAgICBjb25zdCByZXN0U3RydWN0cyA9IGludGVncmF0ZVN0cnVjdHModHJhbnNhY3Rpb24sIHN0b3JlLCBzcyk7XG4gICAgY29uc3QgcGVuZGluZyA9IHN0b3JlLnBlbmRpbmdTdHJ1Y3RzO1xuICAgIGlmIChwZW5kaW5nKSB7XG4gICAgICAvLyBjaGVjayBpZiB3ZSBjYW4gYXBwbHkgc29tZXRoaW5nXG4gICAgICBmb3IgKGNvbnN0IFtjbGllbnQsIGNsb2NrXSBvZiBwZW5kaW5nLm1pc3NpbmcpIHtcbiAgICAgICAgaWYgKGNsb2NrIDwgZ2V0U3RhdGUoc3RvcmUsIGNsaWVudCkpIHtcbiAgICAgICAgICByZXRyeSA9IHRydWU7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJlc3RTdHJ1Y3RzKSB7XG4gICAgICAgIC8vIG1lcmdlIHJlc3RTdHJ1Y3RzIGludG8gc3RvcmUucGVuZGluZ1xuICAgICAgICBmb3IgKGNvbnN0IFtjbGllbnQsIGNsb2NrXSBvZiByZXN0U3RydWN0cy5taXNzaW5nKSB7XG4gICAgICAgICAgY29uc3QgbWNsb2NrID0gcGVuZGluZy5taXNzaW5nLmdldChjbGllbnQpO1xuICAgICAgICAgIGlmIChtY2xvY2sgPT0gbnVsbCB8fCBtY2xvY2sgPiBjbG9jaykge1xuICAgICAgICAgICAgcGVuZGluZy5taXNzaW5nLnNldChjbGllbnQsIGNsb2NrKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcGVuZGluZy51cGRhdGUgPSBtZXJnZVVwZGF0ZXNWMihbcGVuZGluZy51cGRhdGUsIHJlc3RTdHJ1Y3RzLnVwZGF0ZV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdG9yZS5wZW5kaW5nU3RydWN0cyA9IHJlc3RTdHJ1Y3RzO1xuICAgIH1cbiAgICAvLyBjb25zb2xlLmxvZygndGltZSB0byBpbnRlZ3JhdGU6ICcsIHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnQpIC8vIEB0b2RvIHJlbW92ZVxuICAgIC8vIHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KClcbiAgICBjb25zdCBkc1Jlc3QgPSByZWFkQW5kQXBwbHlEZWxldGVTZXQoc3RydWN0RGVjb2RlciwgdHJhbnNhY3Rpb24sIHN0b3JlKTtcbiAgICBpZiAoc3RvcmUucGVuZGluZ0RzKSB7XG4gICAgICAvLyBAdG9kbyB3ZSBjb3VsZCBtYWtlIGEgbG93ZXItYm91bmQgc3RhdGUtdmVjdG9yIGNoZWNrIGFzIHdlIGRvIGFib3ZlXG4gICAgICBjb25zdCBwZW5kaW5nRFNVcGRhdGUgPSBuZXcgVXBkYXRlRGVjb2RlclYyKGRlY29kaW5nLmNyZWF0ZURlY29kZXIoc3RvcmUucGVuZGluZ0RzKSk7XG4gICAgICBkZWNvZGluZy5yZWFkVmFyVWludChwZW5kaW5nRFNVcGRhdGUucmVzdERlY29kZXIpOyAvLyByZWFkIDAgc3RydWN0cywgYmVjYXVzZSB3ZSBvbmx5IGVuY29kZSBkZWxldGVzIGluIHBlbmRpbmdkc3VwZGF0ZVxuICAgICAgY29uc3QgZHNSZXN0MiA9IHJlYWRBbmRBcHBseURlbGV0ZVNldChwZW5kaW5nRFNVcGRhdGUsIHRyYW5zYWN0aW9uLCBzdG9yZSk7XG4gICAgICBpZiAoZHNSZXN0ICYmIGRzUmVzdDIpIHtcbiAgICAgICAgLy8gY2FzZSAxOiBkczEgIT0gbnVsbCAmJiBkczIgIT0gbnVsbFxuICAgICAgICBzdG9yZS5wZW5kaW5nRHMgPSBtZXJnZVVwZGF0ZXNWMihbZHNSZXN0LCBkc1Jlc3QyXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjYXNlIDI6IGRzMSAhPSBudWxsXG4gICAgICAgIC8vIGNhc2UgMzogZHMyICE9IG51bGxcbiAgICAgICAgLy8gY2FzZSA0OiBkczEgPT0gbnVsbCAmJiBkczIgPT0gbnVsbFxuICAgICAgICBzdG9yZS5wZW5kaW5nRHMgPSBkc1Jlc3QgfHwgZHNSZXN0MjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRWl0aGVyIGRzUmVzdCA9PSBudWxsICYmIHBlbmRpbmdEcyA9PSBudWxsIE9SIGRzUmVzdCAhPSBudWxsXG4gICAgICBzdG9yZS5wZW5kaW5nRHMgPSBkc1Jlc3Q7XG4gICAgfVxuICAgIC8vIGNvbnNvbGUubG9nKCd0aW1lIHRvIGNsZWFudXA6ICcsIHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnQpIC8vIEB0b2RvIHJlbW92ZVxuICAgIC8vIHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KClcblxuICAgIC8vIGNvbnNvbGUubG9nKCd0aW1lIHRvIHJlc3VtZSBkZWxldGUgcmVhZGVyczogJywgcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydCkgLy8gQHRvZG8gcmVtb3ZlXG4gICAgLy8gc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKVxuICAgIGlmIChyZXRyeSkge1xuICAgICAgY29uc3QgdXBkYXRlID0gLyoqIEB0eXBlIHt7dXBkYXRlOiBVaW50OEFycmF5fX0gKi8gKHN0b3JlLnBlbmRpbmdTdHJ1Y3RzKS51cGRhdGU7XG4gICAgICBzdG9yZS5wZW5kaW5nU3RydWN0cyA9IG51bGw7XG4gICAgICBhcHBseVVwZGF0ZVYyKHRyYW5zYWN0aW9uLmRvYywgdXBkYXRlKTtcbiAgICB9XG4gIH0sIHRyYW5zYWN0aW9uT3JpZ2luLCBmYWxzZSk7XG5cbi8qKlxuICogUmVhZCBhbmQgYXBwbHkgYSBkb2N1bWVudCB1cGRhdGUuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBoYXMgdGhlIHNhbWUgZWZmZWN0IGFzIGBhcHBseVVwZGF0ZWAgYnV0IGFjY2VwdHMgYW4gZGVjb2Rlci5cbiAqXG4gKiBAcGFyYW0ge2RlY29kaW5nLkRlY29kZXJ9IGRlY29kZXJcbiAqIEBwYXJhbSB7RG9jfSB5ZG9jXG4gKiBAcGFyYW0ge2FueX0gW3RyYW5zYWN0aW9uT3JpZ2luXSBUaGlzIHdpbGwgYmUgc3RvcmVkIG9uIGB0cmFuc2FjdGlvbi5vcmlnaW5gIGFuZCBgLm9uKCd1cGRhdGUnLCAodXBkYXRlLCBvcmlnaW4pKWBcbiAqXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgcmVhZFVwZGF0ZSA9IChkZWNvZGVyLCB5ZG9jLCB0cmFuc2FjdGlvbk9yaWdpbikgPT4gcmVhZFVwZGF0ZVYyKGRlY29kZXIsIHlkb2MsIHRyYW5zYWN0aW9uT3JpZ2luLCBuZXcgVXBkYXRlRGVjb2RlclYxKGRlY29kZXIpKTtcblxuLyoqXG4gKiBBcHBseSBhIGRvY3VtZW50IHVwZGF0ZSBjcmVhdGVkIGJ5LCBmb3IgZXhhbXBsZSwgYHkub24oJ3VwZGF0ZScsIHVwZGF0ZSA9PiAuLilgIG9yIGB1cGRhdGUgPSBlbmNvZGVTdGF0ZUFzVXBkYXRlKClgLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaGFzIHRoZSBzYW1lIGVmZmVjdCBhcyBgcmVhZFVwZGF0ZWAgYnV0IGFjY2VwdHMgYW4gVWludDhBcnJheSBpbnN0ZWFkIG9mIGEgRGVjb2Rlci5cbiAqXG4gKiBAcGFyYW0ge0RvY30geWRvY1xuICogQHBhcmFtIHtVaW50OEFycmF5fSB1cGRhdGVcbiAqIEBwYXJhbSB7YW55fSBbdHJhbnNhY3Rpb25PcmlnaW5dIFRoaXMgd2lsbCBiZSBzdG9yZWQgb24gYHRyYW5zYWN0aW9uLm9yaWdpbmAgYW5kIGAub24oJ3VwZGF0ZScsICh1cGRhdGUsIG9yaWdpbikpYFxuICogQHBhcmFtIHt0eXBlb2YgVXBkYXRlRGVjb2RlclYxIHwgdHlwZW9mIFVwZGF0ZURlY29kZXJWMn0gW1lEZWNvZGVyXVxuICpcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCBhcHBseVVwZGF0ZVYyID0gKHlkb2MsIHVwZGF0ZSwgdHJhbnNhY3Rpb25PcmlnaW4sIFlEZWNvZGVyID0gVXBkYXRlRGVjb2RlclYyKSA9PiB7XG4gIGNvbnN0IGRlY29kZXIgPSBkZWNvZGluZy5jcmVhdGVEZWNvZGVyKHVwZGF0ZSk7XG4gIHJlYWRVcGRhdGVWMihkZWNvZGVyLCB5ZG9jLCB0cmFuc2FjdGlvbk9yaWdpbiwgbmV3IFlEZWNvZGVyKGRlY29kZXIpKTtcbn07XG5cbi8qKlxuICogQXBwbHkgYSBkb2N1bWVudCB1cGRhdGUgY3JlYXRlZCBieSwgZm9yIGV4YW1wbGUsIGB5Lm9uKCd1cGRhdGUnLCB1cGRhdGUgPT4gLi4pYCBvciBgdXBkYXRlID0gZW5jb2RlU3RhdGVBc1VwZGF0ZSgpYC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXMgYHJlYWRVcGRhdGVgIGJ1dCBhY2NlcHRzIGFuIFVpbnQ4QXJyYXkgaW5zdGVhZCBvZiBhIERlY29kZXIuXG4gKlxuICogQHBhcmFtIHtEb2N9IHlkb2NcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gdXBkYXRlXG4gKiBAcGFyYW0ge2FueX0gW3RyYW5zYWN0aW9uT3JpZ2luXSBUaGlzIHdpbGwgYmUgc3RvcmVkIG9uIGB0cmFuc2FjdGlvbi5vcmlnaW5gIGFuZCBgLm9uKCd1cGRhdGUnLCAodXBkYXRlLCBvcmlnaW4pKWBcbiAqXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgYXBwbHlVcGRhdGUgPSAoeWRvYywgdXBkYXRlLCB0cmFuc2FjdGlvbk9yaWdpbikgPT4gYXBwbHlVcGRhdGVWMih5ZG9jLCB1cGRhdGUsIHRyYW5zYWN0aW9uT3JpZ2luLCBVcGRhdGVEZWNvZGVyVjEpO1xuXG4vKipcbiAqIFdyaXRlIGFsbCB0aGUgZG9jdW1lbnQgYXMgYSBzaW5nbGUgdXBkYXRlIG1lc3NhZ2UuIElmIHlvdSBzcGVjaWZ5IHRoZSBzdGF0ZSBvZiB0aGUgcmVtb3RlIGNsaWVudCAoYHRhcmdldFN0YXRlVmVjdG9yYCkgaXQgd2lsbFxuICogb25seSB3cml0ZSB0aGUgb3BlcmF0aW9ucyB0aGF0IGFyZSBtaXNzaW5nLlxuICpcbiAqIEBwYXJhbSB7VXBkYXRlRW5jb2RlclYxIHwgVXBkYXRlRW5jb2RlclYyfSBlbmNvZGVyXG4gKiBAcGFyYW0ge0RvY30gZG9jXG4gKiBAcGFyYW0ge01hcDxudW1iZXIsbnVtYmVyPn0gW3RhcmdldFN0YXRlVmVjdG9yXSBUaGUgc3RhdGUgb2YgdGhlIHRhcmdldCB0aGF0IHJlY2VpdmVzIHRoZSB1cGRhdGUuIExlYXZlIGVtcHR5IHRvIHdyaXRlIGFsbCBrbm93biBzdHJ1Y3RzXG4gKlxuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IHdyaXRlU3RhdGVBc1VwZGF0ZSA9IChlbmNvZGVyLCBkb2MsIHRhcmdldFN0YXRlVmVjdG9yID0gbmV3IE1hcCgpKSA9PiB7XG4gIHdyaXRlQ2xpZW50c1N0cnVjdHMoZW5jb2RlciwgZG9jLnN0b3JlLCB0YXJnZXRTdGF0ZVZlY3Rvcik7XG4gIHdyaXRlRGVsZXRlU2V0KGVuY29kZXIsIGNyZWF0ZURlbGV0ZVNldEZyb21TdHJ1Y3RTdG9yZShkb2Muc3RvcmUpKTtcbn07XG5cbi8qKlxuICogV3JpdGUgYWxsIHRoZSBkb2N1bWVudCBhcyBhIHNpbmdsZSB1cGRhdGUgbWVzc2FnZSB0aGF0IGNhbiBiZSBhcHBsaWVkIG9uIHRoZSByZW1vdGUgZG9jdW1lbnQuIElmIHlvdSBzcGVjaWZ5IHRoZSBzdGF0ZSBvZiB0aGUgcmVtb3RlIGNsaWVudCAoYHRhcmdldFN0YXRlYCkgaXQgd2lsbFxuICogb25seSB3cml0ZSB0aGUgb3BlcmF0aW9ucyB0aGF0IGFyZSBtaXNzaW5nLlxuICpcbiAqIFVzZSBgd3JpdGVTdGF0ZUFzVXBkYXRlYCBpbnN0ZWFkIGlmIHlvdSBhcmUgd29ya2luZyB3aXRoIGxpYjAvZW5jb2RpbmcuanMjRW5jb2RlclxuICpcbiAqIEBwYXJhbSB7RG9jfSBkb2NcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gW2VuY29kZWRUYXJnZXRTdGF0ZVZlY3Rvcl0gVGhlIHN0YXRlIG9mIHRoZSB0YXJnZXQgdGhhdCByZWNlaXZlcyB0aGUgdXBkYXRlLiBMZWF2ZSBlbXB0eSB0byB3cml0ZSBhbGwga25vd24gc3RydWN0c1xuICogQHBhcmFtIHtVcGRhdGVFbmNvZGVyVjEgfCBVcGRhdGVFbmNvZGVyVjJ9IFtlbmNvZGVyXVxuICogQHJldHVybiB7VWludDhBcnJheX1cbiAqXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgZW5jb2RlU3RhdGVBc1VwZGF0ZVYyID0gKGRvYywgZW5jb2RlZFRhcmdldFN0YXRlVmVjdG9yID0gbmV3IFVpbnQ4QXJyYXkoWzBdKSwgZW5jb2RlciA9IG5ldyBVcGRhdGVFbmNvZGVyVjIoKSkgPT4ge1xuICBjb25zdCB0YXJnZXRTdGF0ZVZlY3RvciA9IGRlY29kZVN0YXRlVmVjdG9yKGVuY29kZWRUYXJnZXRTdGF0ZVZlY3Rvcik7XG4gIHdyaXRlU3RhdGVBc1VwZGF0ZShlbmNvZGVyLCBkb2MsIHRhcmdldFN0YXRlVmVjdG9yKTtcbiAgY29uc3QgdXBkYXRlcyA9IFtlbmNvZGVyLnRvVWludDhBcnJheSgpXTtcbiAgLy8gYWxzbyBhZGQgdGhlIHBlbmRpbmcgdXBkYXRlcyAoaWYgdGhlcmUgYXJlIGFueSlcbiAgaWYgKGRvYy5zdG9yZS5wZW5kaW5nRHMpIHtcbiAgICB1cGRhdGVzLnB1c2goZG9jLnN0b3JlLnBlbmRpbmdEcyk7XG4gIH1cbiAgaWYgKGRvYy5zdG9yZS5wZW5kaW5nU3RydWN0cykge1xuICAgIHVwZGF0ZXMucHVzaChkaWZmVXBkYXRlVjIoZG9jLnN0b3JlLnBlbmRpbmdTdHJ1Y3RzLnVwZGF0ZSwgZW5jb2RlZFRhcmdldFN0YXRlVmVjdG9yKSk7XG4gIH1cbiAgaWYgKHVwZGF0ZXMubGVuZ3RoID4gMSkge1xuICAgIGlmIChlbmNvZGVyLmNvbnN0cnVjdG9yID09PSBVcGRhdGVFbmNvZGVyVjEpIHtcbiAgICAgIHJldHVybiBtZXJnZVVwZGF0ZXModXBkYXRlcy5tYXAoKHVwZGF0ZSwgaSkgPT4gaSA9PT0gMCA/IHVwZGF0ZSA6IGNvbnZlcnRVcGRhdGVGb3JtYXRWMlRvVjEodXBkYXRlKSkpXG4gICAgfSBlbHNlIGlmIChlbmNvZGVyLmNvbnN0cnVjdG9yID09PSBVcGRhdGVFbmNvZGVyVjIpIHtcbiAgICAgIHJldHVybiBtZXJnZVVwZGF0ZXNWMih1cGRhdGVzKVxuICAgIH1cbiAgfVxuICByZXR1cm4gdXBkYXRlc1swXVxufTtcblxuLyoqXG4gKiBXcml0ZSBhbGwgdGhlIGRvY3VtZW50IGFzIGEgc2luZ2xlIHVwZGF0ZSBtZXNzYWdlIHRoYXQgY2FuIGJlIGFwcGxpZWQgb24gdGhlIHJlbW90ZSBkb2N1bWVudC4gSWYgeW91IHNwZWNpZnkgdGhlIHN0YXRlIG9mIHRoZSByZW1vdGUgY2xpZW50IChgdGFyZ2V0U3RhdGVgKSBpdCB3aWxsXG4gKiBvbmx5IHdyaXRlIHRoZSBvcGVyYXRpb25zIHRoYXQgYXJlIG1pc3NpbmcuXG4gKlxuICogVXNlIGB3cml0ZVN0YXRlQXNVcGRhdGVgIGluc3RlYWQgaWYgeW91IGFyZSB3b3JraW5nIHdpdGggbGliMC9lbmNvZGluZy5qcyNFbmNvZGVyXG4gKlxuICogQHBhcmFtIHtEb2N9IGRvY1xuICogQHBhcmFtIHtVaW50OEFycmF5fSBbZW5jb2RlZFRhcmdldFN0YXRlVmVjdG9yXSBUaGUgc3RhdGUgb2YgdGhlIHRhcmdldCB0aGF0IHJlY2VpdmVzIHRoZSB1cGRhdGUuIExlYXZlIGVtcHR5IHRvIHdyaXRlIGFsbCBrbm93biBzdHJ1Y3RzXG4gKiBAcmV0dXJuIHtVaW50OEFycmF5fVxuICpcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCBlbmNvZGVTdGF0ZUFzVXBkYXRlID0gKGRvYywgZW5jb2RlZFRhcmdldFN0YXRlVmVjdG9yKSA9PiBlbmNvZGVTdGF0ZUFzVXBkYXRlVjIoZG9jLCBlbmNvZGVkVGFyZ2V0U3RhdGVWZWN0b3IsIG5ldyBVcGRhdGVFbmNvZGVyVjEoKSk7XG5cbi8qKlxuICogUmVhZCBzdGF0ZSB2ZWN0b3IgZnJvbSBEZWNvZGVyIGFuZCByZXR1cm4gYXMgTWFwXG4gKlxuICogQHBhcmFtIHtEU0RlY29kZXJWMSB8IERTRGVjb2RlclYyfSBkZWNvZGVyXG4gKiBAcmV0dXJuIHtNYXA8bnVtYmVyLG51bWJlcj59IE1hcHMgYGNsaWVudGAgdG8gdGhlIG51bWJlciBuZXh0IGV4cGVjdGVkIGBjbG9ja2AgZnJvbSB0aGF0IGNsaWVudC5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgcmVhZFN0YXRlVmVjdG9yID0gZGVjb2RlciA9PiB7XG4gIGNvbnN0IHNzID0gbmV3IE1hcCgpO1xuICBjb25zdCBzc0xlbmd0aCA9IGRlY29kaW5nLnJlYWRWYXJVaW50KGRlY29kZXIucmVzdERlY29kZXIpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNzTGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjbGllbnQgPSBkZWNvZGluZy5yZWFkVmFyVWludChkZWNvZGVyLnJlc3REZWNvZGVyKTtcbiAgICBjb25zdCBjbG9jayA9IGRlY29kaW5nLnJlYWRWYXJVaW50KGRlY29kZXIucmVzdERlY29kZXIpO1xuICAgIHNzLnNldChjbGllbnQsIGNsb2NrKTtcbiAgfVxuICByZXR1cm4gc3Ncbn07XG5cbi8qKlxuICogUmVhZCBkZWNvZGVkU3RhdGUgYW5kIHJldHVybiBTdGF0ZSBhcyBNYXAuXG4gKlxuICogQHBhcmFtIHtVaW50OEFycmF5fSBkZWNvZGVkU3RhdGVcbiAqIEByZXR1cm4ge01hcDxudW1iZXIsbnVtYmVyPn0gTWFwcyBgY2xpZW50YCB0byB0aGUgbnVtYmVyIG5leHQgZXhwZWN0ZWQgYGNsb2NrYCBmcm9tIHRoYXQgY2xpZW50LlxuICpcbiAqIEBmdW5jdGlvblxuICovXG4vLyBleHBvcnQgY29uc3QgZGVjb2RlU3RhdGVWZWN0b3JWMiA9IGRlY29kZWRTdGF0ZSA9PiByZWFkU3RhdGVWZWN0b3IobmV3IERTRGVjb2RlclYyKGRlY29kaW5nLmNyZWF0ZURlY29kZXIoZGVjb2RlZFN0YXRlKSkpXG5cbi8qKlxuICogUmVhZCBkZWNvZGVkU3RhdGUgYW5kIHJldHVybiBTdGF0ZSBhcyBNYXAuXG4gKlxuICogQHBhcmFtIHtVaW50OEFycmF5fSBkZWNvZGVkU3RhdGVcbiAqIEByZXR1cm4ge01hcDxudW1iZXIsbnVtYmVyPn0gTWFwcyBgY2xpZW50YCB0byB0aGUgbnVtYmVyIG5leHQgZXhwZWN0ZWQgYGNsb2NrYCBmcm9tIHRoYXQgY2xpZW50LlxuICpcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCBkZWNvZGVTdGF0ZVZlY3RvciA9IGRlY29kZWRTdGF0ZSA9PiByZWFkU3RhdGVWZWN0b3IobmV3IERTRGVjb2RlclYxKGRlY29kaW5nLmNyZWF0ZURlY29kZXIoZGVjb2RlZFN0YXRlKSkpO1xuXG4vKipcbiAqIEBwYXJhbSB7RFNFbmNvZGVyVjEgfCBEU0VuY29kZXJWMn0gZW5jb2RlclxuICogQHBhcmFtIHtNYXA8bnVtYmVyLG51bWJlcj59IHN2XG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3Qgd3JpdGVTdGF0ZVZlY3RvciA9IChlbmNvZGVyLCBzdikgPT4ge1xuICBlbmNvZGluZy53cml0ZVZhclVpbnQoZW5jb2Rlci5yZXN0RW5jb2Rlciwgc3Yuc2l6ZSk7XG4gIEFycmF5LmZyb20oc3YuZW50cmllcygpKS5zb3J0KChhLCBiKSA9PiBiWzBdIC0gYVswXSkuZm9yRWFjaCgoW2NsaWVudCwgY2xvY2tdKSA9PiB7XG4gICAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KGVuY29kZXIucmVzdEVuY29kZXIsIGNsaWVudCk7IC8vIEB0b2RvIHVzZSBhIHNwZWNpYWwgY2xpZW50IGRlY29kZXIgdGhhdCBpcyBiYXNlZCBvbiBtYXBwaW5nXG4gICAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KGVuY29kZXIucmVzdEVuY29kZXIsIGNsb2NrKTtcbiAgfSk7XG4gIHJldHVybiBlbmNvZGVyXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7RFNFbmNvZGVyVjEgfCBEU0VuY29kZXJWMn0gZW5jb2RlclxuICogQHBhcmFtIHtEb2N9IGRvY1xuICpcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCB3cml0ZURvY3VtZW50U3RhdGVWZWN0b3IgPSAoZW5jb2RlciwgZG9jKSA9PiB3cml0ZVN0YXRlVmVjdG9yKGVuY29kZXIsIGdldFN0YXRlVmVjdG9yKGRvYy5zdG9yZSkpO1xuXG4vKipcbiAqIEVuY29kZSBTdGF0ZSBhcyBVaW50OEFycmF5LlxuICpcbiAqIEBwYXJhbSB7RG9jfE1hcDxudW1iZXIsbnVtYmVyPn0gZG9jXG4gKiBAcGFyYW0ge0RTRW5jb2RlclYxIHwgRFNFbmNvZGVyVjJ9IFtlbmNvZGVyXVxuICogQHJldHVybiB7VWludDhBcnJheX1cbiAqXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgZW5jb2RlU3RhdGVWZWN0b3JWMiA9IChkb2MsIGVuY29kZXIgPSBuZXcgRFNFbmNvZGVyVjIoKSkgPT4ge1xuICBpZiAoZG9jIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgd3JpdGVTdGF0ZVZlY3RvcihlbmNvZGVyLCBkb2MpO1xuICB9IGVsc2Uge1xuICAgIHdyaXRlRG9jdW1lbnRTdGF0ZVZlY3RvcihlbmNvZGVyLCBkb2MpO1xuICB9XG4gIHJldHVybiBlbmNvZGVyLnRvVWludDhBcnJheSgpXG59O1xuXG4vKipcbiAqIEVuY29kZSBTdGF0ZSBhcyBVaW50OEFycmF5LlxuICpcbiAqIEBwYXJhbSB7RG9jfE1hcDxudW1iZXIsbnVtYmVyPn0gZG9jXG4gKiBAcmV0dXJuIHtVaW50OEFycmF5fVxuICpcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCBlbmNvZGVTdGF0ZVZlY3RvciA9IGRvYyA9PiBlbmNvZGVTdGF0ZVZlY3RvclYyKGRvYywgbmV3IERTRW5jb2RlclYxKCkpO1xuXG4vKipcbiAqIEdlbmVyYWwgZXZlbnQgaGFuZGxlciBpbXBsZW1lbnRhdGlvbi5cbiAqXG4gKiBAdGVtcGxhdGUgQVJHMCwgQVJHMVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIEV2ZW50SGFuZGxlciB7XG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QXJyYXk8ZnVuY3Rpb24oQVJHMCwgQVJHMSk6dm9pZD59XG4gICAgICovXG4gICAgdGhpcy5sID0gW107XG4gIH1cbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgQVJHMCxBUkcxXG4gKiBAcmV0dXJucyB7RXZlbnRIYW5kbGVyPEFSRzAsQVJHMT59XG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCBjcmVhdGVFdmVudEhhbmRsZXIgPSAoKSA9PiBuZXcgRXZlbnRIYW5kbGVyKCk7XG5cbi8qKlxuICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGlzIGNhbGxlZCB3aGVuXG4gKiB7QGxpbmsgRXZlbnRIYW5kbGVyI2NhbGxFdmVudExpc3RlbmVyc30gaXMgY2FsbGVkLlxuICpcbiAqIEB0ZW1wbGF0ZSBBUkcwLEFSRzFcbiAqIEBwYXJhbSB7RXZlbnRIYW5kbGVyPEFSRzAsQVJHMT59IGV2ZW50SGFuZGxlclxuICogQHBhcmFtIHtmdW5jdGlvbihBUkcwLEFSRzEpOnZvaWR9IGYgVGhlIGV2ZW50IGhhbmRsZXIuXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCBhZGRFdmVudEhhbmRsZXJMaXN0ZW5lciA9IChldmVudEhhbmRsZXIsIGYpID0+XG4gIGV2ZW50SGFuZGxlci5sLnB1c2goZik7XG5cbi8qKlxuICogUmVtb3ZlcyBhbiBldmVudCBsaXN0ZW5lci5cbiAqXG4gKiBAdGVtcGxhdGUgQVJHMCxBUkcxXG4gKiBAcGFyYW0ge0V2ZW50SGFuZGxlcjxBUkcwLEFSRzE+fSBldmVudEhhbmRsZXJcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oQVJHMCxBUkcxKTp2b2lkfSBmIFRoZSBldmVudCBoYW5kbGVyIHRoYXQgd2FzIGFkZGVkIHdpdGhcbiAqICAgICAgICAgICAgICAgICAgICAge0BsaW5rIEV2ZW50SGFuZGxlciNhZGRFdmVudExpc3RlbmVyfVxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgcmVtb3ZlRXZlbnRIYW5kbGVyTGlzdGVuZXIgPSAoZXZlbnRIYW5kbGVyLCBmKSA9PiB7XG4gIGNvbnN0IGwgPSBldmVudEhhbmRsZXIubDtcbiAgY29uc3QgbGVuID0gbC5sZW5ndGg7XG4gIGV2ZW50SGFuZGxlci5sID0gbC5maWx0ZXIoZyA9PiBmICE9PSBnKTtcbiAgaWYgKGxlbiA9PT0gZXZlbnRIYW5kbGVyLmwubGVuZ3RoKSB7XG4gICAgY29uc29sZS5lcnJvcignW3lqc10gVHJpZWQgdG8gcmVtb3ZlIGV2ZW50IGhhbmRsZXIgdGhhdCBkb2VzblxcJ3QgZXhpc3QuJyk7XG4gIH1cbn07XG5cbi8qKlxuICogQ2FsbCBhbGwgZXZlbnQgbGlzdGVuZXJzIHRoYXQgd2VyZSBhZGRlZCB2aWFcbiAqIHtAbGluayBFdmVudEhhbmRsZXIjYWRkRXZlbnRMaXN0ZW5lcn0uXG4gKlxuICogQHRlbXBsYXRlIEFSRzAsQVJHMVxuICogQHBhcmFtIHtFdmVudEhhbmRsZXI8QVJHMCxBUkcxPn0gZXZlbnRIYW5kbGVyXG4gKiBAcGFyYW0ge0FSRzB9IGFyZzBcbiAqIEBwYXJhbSB7QVJHMX0gYXJnMVxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgY2FsbEV2ZW50SGFuZGxlckxpc3RlbmVycyA9IChldmVudEhhbmRsZXIsIGFyZzAsIGFyZzEpID0+XG4gIGYuY2FsbEFsbChldmVudEhhbmRsZXIubCwgW2FyZzAsIGFyZzFdKTtcblxuY2xhc3MgSUQge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGNsaWVudCBjbGllbnQgaWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IGNsb2NrIHVuaXF1ZSBwZXIgY2xpZW50IGlkLCBjb250aW51b3VzIG51bWJlclxuICAgKi9cbiAgY29uc3RydWN0b3IgKGNsaWVudCwgY2xvY2spIHtcbiAgICAvKipcbiAgICAgKiBDbGllbnQgaWRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICAgIC8qKlxuICAgICAqIHVuaXF1ZSBwZXIgY2xpZW50IGlkLCBjb250aW51b3VzIG51bWJlclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5jbG9jayA9IGNsb2NrO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtJRCB8IG51bGx9IGFcbiAqIEBwYXJhbSB7SUQgfCBudWxsfSBiXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICpcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCBjb21wYXJlSURzID0gKGEsIGIpID0+IGEgPT09IGIgfHwgKGEgIT09IG51bGwgJiYgYiAhPT0gbnVsbCAmJiBhLmNsaWVudCA9PT0gYi5jbGllbnQgJiYgYS5jbG9jayA9PT0gYi5jbG9jayk7XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IGNsaWVudFxuICogQHBhcmFtIHtudW1iZXJ9IGNsb2NrXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCBjcmVhdGVJRCA9IChjbGllbnQsIGNsb2NrKSA9PiBuZXcgSUQoY2xpZW50LCBjbG9jayk7XG5cbi8qKlxuICogQHBhcmFtIHtlbmNvZGluZy5FbmNvZGVyfSBlbmNvZGVyXG4gKiBAcGFyYW0ge0lEfSBpZFxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3Qgd3JpdGVJRCA9IChlbmNvZGVyLCBpZCkgPT4ge1xuICBlbmNvZGluZy53cml0ZVZhclVpbnQoZW5jb2RlciwgaWQuY2xpZW50KTtcbiAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KGVuY29kZXIsIGlkLmNsb2NrKTtcbn07XG5cbi8qKlxuICogUmVhZCBJRC5cbiAqICogSWYgZmlyc3QgdmFyVWludCByZWFkIGlzIDB4RkZGRkZGIGEgUm9vdElEIGlzIHJldHVybmVkLlxuICogKiBPdGhlcndpc2UgYW4gSUQgaXMgcmV0dXJuZWRcbiAqXG4gKiBAcGFyYW0ge2RlY29kaW5nLkRlY29kZXJ9IGRlY29kZXJcbiAqIEByZXR1cm4ge0lEfVxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgcmVhZElEID0gZGVjb2RlciA9PlxuICBjcmVhdGVJRChkZWNvZGluZy5yZWFkVmFyVWludChkZWNvZGVyKSwgZGVjb2RpbmcucmVhZFZhclVpbnQoZGVjb2RlcikpO1xuXG4vKipcbiAqIFRoZSB0b3AgdHlwZXMgYXJlIG1hcHBlZCBmcm9tIHkuc2hhcmUuZ2V0KGtleW5hbWUpID0+IHR5cGUuXG4gKiBgdHlwZWAgZG9lcyBub3Qgc3RvcmUgYW55IGluZm9ybWF0aW9uIGFib3V0IHRoZSBga2V5bmFtZWAuXG4gKiBUaGlzIGZ1bmN0aW9uIGZpbmRzIHRoZSBjb3JyZWN0IGBrZXluYW1lYCBmb3IgYHR5cGVgIGFuZCB0aHJvd3Mgb3RoZXJ3aXNlLlxuICpcbiAqIEBwYXJhbSB7QWJzdHJhY3RUeXBlPGFueT59IHR5cGVcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IGZpbmRSb290VHlwZUtleSA9IHR5cGUgPT4ge1xuICAvLyBAdHMtaWdub3JlIF95IG11c3QgYmUgZGVmaW5lZCwgb3RoZXJ3aXNlIHVuZXhwZWN0ZWQgY2FzZVxuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiB0eXBlLmRvYy5zaGFyZS5lbnRyaWVzKCkpIHtcbiAgICBpZiAodmFsdWUgPT09IHR5cGUpIHtcbiAgICAgIHJldHVybiBrZXlcbiAgICB9XG4gIH1cbiAgdGhyb3cgZXJyb3IudW5leHBlY3RlZENhc2UoKVxufTtcblxuLyoqXG4gKiBDaGVjayBpZiBgcGFyZW50YCBpcyBhIHBhcmVudCBvZiBgY2hpbGRgLlxuICpcbiAqIEBwYXJhbSB7QWJzdHJhY3RUeXBlPGFueT59IHBhcmVudFxuICogQHBhcmFtIHtJdGVtfG51bGx9IGNoaWxkXG4gKiBAcmV0dXJuIHtCb29sZWFufSBXaGV0aGVyIGBwYXJlbnRgIGlzIGEgcGFyZW50IG9mIGBjaGlsZGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCBpc1BhcmVudE9mID0gKHBhcmVudCwgY2hpbGQpID0+IHtcbiAgd2hpbGUgKGNoaWxkICE9PSBudWxsKSB7XG4gICAgaWYgKGNoaWxkLnBhcmVudCA9PT0gcGFyZW50KSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICBjaGlsZCA9IC8qKiBAdHlwZSB7QWJzdHJhY3RUeXBlPGFueT59ICovIChjaGlsZC5wYXJlbnQpLl9pdGVtO1xuICB9XG4gIHJldHVybiBmYWxzZVxufTtcblxuLyoqXG4gKiBDb252ZW5pZW50IGhlbHBlciB0byBsb2cgdHlwZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBEbyBub3QgdXNlIGluIHByb2R1Y3RpdmUgc3lzdGVtcyBhcyB0aGUgb3V0cHV0IGNhbiBiZSBpbW1lbnNlIVxuICpcbiAqIEBwYXJhbSB7QWJzdHJhY3RUeXBlPGFueT59IHR5cGVcbiAqL1xuY29uc3QgbG9nVHlwZSA9IHR5cGUgPT4ge1xuICBjb25zdCByZXMgPSBbXTtcbiAgbGV0IG4gPSB0eXBlLl9zdGFydDtcbiAgd2hpbGUgKG4pIHtcbiAgICByZXMucHVzaChuKTtcbiAgICBuID0gbi5yaWdodDtcbiAgfVxuICBjb25zb2xlLmxvZygnQ2hpbGRyZW46ICcsIHJlcyk7XG4gIGNvbnNvbGUubG9nKCdDaGlsZHJlbiBjb250ZW50OiAnLCByZXMuZmlsdGVyKG0gPT4gIW0uZGVsZXRlZCkubWFwKG0gPT4gbS5jb250ZW50KSk7XG59O1xuXG5jbGFzcyBQZXJtYW5lbnRVc2VyRGF0YSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0RvY30gZG9jXG4gICAqIEBwYXJhbSB7WU1hcDxhbnk+fSBbc3RvcmVUeXBlXVxuICAgKi9cbiAgY29uc3RydWN0b3IgKGRvYywgc3RvcmVUeXBlID0gZG9jLmdldE1hcCgndXNlcnMnKSkge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtNYXA8c3RyaW5nLERlbGV0ZVNldD59XG4gICAgICovXG4gICAgY29uc3QgZHNzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMueXVzZXJzID0gc3RvcmVUeXBlO1xuICAgIHRoaXMuZG9jID0gZG9jO1xuICAgIC8qKlxuICAgICAqIE1hcHMgZnJvbSBjbGllbnRpZCB0byB1c2VyRGVzY3JpcHRpb25cbiAgICAgKlxuICAgICAqIEB0eXBlIHtNYXA8bnVtYmVyLHN0cmluZz59XG4gICAgICovXG4gICAgdGhpcy5jbGllbnRzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuZHNzID0gZHNzO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7WU1hcDxhbnk+fSB1c2VyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVzZXJEZXNjcmlwdGlvblxuICAgICAqL1xuICAgIGNvbnN0IGluaXRVc2VyID0gKHVzZXIsIHVzZXJEZXNjcmlwdGlvbikgPT4ge1xuICAgICAgLyoqXG4gICAgICAgKiBAdHlwZSB7WUFycmF5PFVpbnQ4QXJyYXk+fVxuICAgICAgICovXG4gICAgICBjb25zdCBkcyA9IHVzZXIuZ2V0KCdkcycpO1xuICAgICAgY29uc3QgaWRzID0gdXNlci5nZXQoJ2lkcycpO1xuICAgICAgY29uc3QgYWRkQ2xpZW50SWQgPSAvKiogQHBhcmFtIHtudW1iZXJ9IGNsaWVudGlkICovIGNsaWVudGlkID0+IHRoaXMuY2xpZW50cy5zZXQoY2xpZW50aWQsIHVzZXJEZXNjcmlwdGlvbik7XG4gICAgICBkcy5vYnNlcnZlKC8qKiBAcGFyYW0ge1lBcnJheUV2ZW50PGFueT59IGV2ZW50ICovIGV2ZW50ID0+IHtcbiAgICAgICAgZXZlbnQuY2hhbmdlcy5hZGRlZC5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgIGl0ZW0uY29udGVudC5nZXRDb250ZW50KCkuZm9yRWFjaChlbmNvZGVkRHMgPT4ge1xuICAgICAgICAgICAgaWYgKGVuY29kZWREcyBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICAgICAgdGhpcy5kc3Muc2V0KHVzZXJEZXNjcmlwdGlvbiwgbWVyZ2VEZWxldGVTZXRzKFt0aGlzLmRzcy5nZXQodXNlckRlc2NyaXB0aW9uKSB8fCBjcmVhdGVEZWxldGVTZXQoKSwgcmVhZERlbGV0ZVNldChuZXcgRFNEZWNvZGVyVjEoZGVjb2RpbmcuY3JlYXRlRGVjb2RlcihlbmNvZGVkRHMpKSldKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmRzcy5zZXQodXNlckRlc2NyaXB0aW9uLCBtZXJnZURlbGV0ZVNldHMoZHMubWFwKGVuY29kZWREcyA9PiByZWFkRGVsZXRlU2V0KG5ldyBEU0RlY29kZXJWMShkZWNvZGluZy5jcmVhdGVEZWNvZGVyKGVuY29kZWREcykpKSkpKTtcbiAgICAgIGlkcy5vYnNlcnZlKC8qKiBAcGFyYW0ge1lBcnJheUV2ZW50PGFueT59IGV2ZW50ICovIGV2ZW50ID0+XG4gICAgICAgIGV2ZW50LmNoYW5nZXMuYWRkZWQuZm9yRWFjaChpdGVtID0+IGl0ZW0uY29udGVudC5nZXRDb250ZW50KCkuZm9yRWFjaChhZGRDbGllbnRJZCkpXG4gICAgICApO1xuICAgICAgaWRzLmZvckVhY2goYWRkQ2xpZW50SWQpO1xuICAgIH07XG4gICAgLy8gb2JzZXJ2ZSB1c2Vyc1xuICAgIHN0b3JlVHlwZS5vYnNlcnZlKGV2ZW50ID0+IHtcbiAgICAgIGV2ZW50LmtleXNDaGFuZ2VkLmZvckVhY2godXNlckRlc2NyaXB0aW9uID0+XG4gICAgICAgIGluaXRVc2VyKHN0b3JlVHlwZS5nZXQodXNlckRlc2NyaXB0aW9uKSwgdXNlckRlc2NyaXB0aW9uKVxuICAgICAgKTtcbiAgICB9KTtcbiAgICAvLyBhZGQgaW50aWFsIGRhdGFcbiAgICBzdG9yZVR5cGUuZm9yRWFjaChpbml0VXNlcik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtEb2N9IGRvY1xuICAgKiBAcGFyYW0ge251bWJlcn0gY2xpZW50aWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVzZXJEZXNjcmlwdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZdXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oVHJhbnNhY3Rpb24sIERlbGV0ZVNldCk6Ym9vbGVhbn0gW2NvbmYuZmlsdGVyXVxuICAgKi9cbiAgc2V0VXNlck1hcHBpbmcgKGRvYywgY2xpZW50aWQsIHVzZXJEZXNjcmlwdGlvbiwgeyBmaWx0ZXIgPSAoKSA9PiB0cnVlIH0gPSB7fSkge1xuICAgIGNvbnN0IHVzZXJzID0gdGhpcy55dXNlcnM7XG4gICAgbGV0IHVzZXIgPSB1c2Vycy5nZXQodXNlckRlc2NyaXB0aW9uKTtcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHVzZXIgPSBuZXcgWU1hcCgpO1xuICAgICAgdXNlci5zZXQoJ2lkcycsIG5ldyBZQXJyYXkoKSk7XG4gICAgICB1c2VyLnNldCgnZHMnLCBuZXcgWUFycmF5KCkpO1xuICAgICAgdXNlcnMuc2V0KHVzZXJEZXNjcmlwdGlvbiwgdXNlcik7XG4gICAgfVxuICAgIHVzZXIuZ2V0KCdpZHMnKS5wdXNoKFtjbGllbnRpZF0pO1xuICAgIHVzZXJzLm9ic2VydmUoZXZlbnQgPT4ge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVzZXJPdmVyd3JpdGUgPSB1c2Vycy5nZXQodXNlckRlc2NyaXB0aW9uKTtcbiAgICAgICAgaWYgKHVzZXJPdmVyd3JpdGUgIT09IHVzZXIpIHtcbiAgICAgICAgICAvLyB1c2VyIHdhcyBvdmVyd3JpdHRlbiwgcG9ydCBhbGwgZGF0YSBvdmVyIHRvIHRoZSBuZXh0IHVzZXIgb2JqZWN0XG4gICAgICAgICAgLy8gQHRvZG8gRXhwZXJpbWVudCB3aXRoIFkuU2V0cyBoZXJlXG4gICAgICAgICAgdXNlciA9IHVzZXJPdmVyd3JpdGU7XG4gICAgICAgICAgLy8gQHRvZG8gaXRlcmF0ZSBvdmVyIG9sZCB0eXBlXG4gICAgICAgICAgdGhpcy5jbGllbnRzLmZvckVhY2goKF91c2VyRGVzY3JpcHRpb24sIGNsaWVudGlkKSA9PiB7XG4gICAgICAgICAgICBpZiAodXNlckRlc2NyaXB0aW9uID09PSBfdXNlckRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgIHVzZXIuZ2V0KCdpZHMnKS5wdXNoKFtjbGllbnRpZF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IGVuY29kZXIgPSBuZXcgRFNFbmNvZGVyVjEoKTtcbiAgICAgICAgICBjb25zdCBkcyA9IHRoaXMuZHNzLmdldCh1c2VyRGVzY3JpcHRpb24pO1xuICAgICAgICAgIGlmIChkcykge1xuICAgICAgICAgICAgd3JpdGVEZWxldGVTZXQoZW5jb2RlciwgZHMpO1xuICAgICAgICAgICAgdXNlci5nZXQoJ2RzJykucHVzaChbZW5jb2Rlci50b1VpbnQ4QXJyYXkoKV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgMCk7XG4gICAgfSk7XG4gICAgZG9jLm9uKCdhZnRlclRyYW5zYWN0aW9uJywgLyoqIEBwYXJhbSB7VHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uICovIHRyYW5zYWN0aW9uID0+IHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zdCB5ZHMgPSB1c2VyLmdldCgnZHMnKTtcbiAgICAgICAgY29uc3QgZHMgPSB0cmFuc2FjdGlvbi5kZWxldGVTZXQ7XG4gICAgICAgIGlmICh0cmFuc2FjdGlvbi5sb2NhbCAmJiBkcy5jbGllbnRzLnNpemUgPiAwICYmIGZpbHRlcih0cmFuc2FjdGlvbiwgZHMpKSB7XG4gICAgICAgICAgY29uc3QgZW5jb2RlciA9IG5ldyBEU0VuY29kZXJWMSgpO1xuICAgICAgICAgIHdyaXRlRGVsZXRlU2V0KGVuY29kZXIsIGRzKTtcbiAgICAgICAgICB5ZHMucHVzaChbZW5jb2Rlci50b1VpbnQ4QXJyYXkoKV0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gY2xpZW50aWRcbiAgICogQHJldHVybiB7YW55fVxuICAgKi9cbiAgZ2V0VXNlckJ5Q2xpZW50SWQgKGNsaWVudGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50cy5nZXQoY2xpZW50aWQpIHx8IG51bGxcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0lEfSBpZFxuICAgKiBAcmV0dXJuIHtzdHJpbmcgfCBudWxsfVxuICAgKi9cbiAgZ2V0VXNlckJ5RGVsZXRlZElkIChpZCkge1xuICAgIGZvciAoY29uc3QgW3VzZXJEZXNjcmlwdGlvbiwgZHNdIG9mIHRoaXMuZHNzLmVudHJpZXMoKSkge1xuICAgICAgaWYgKGlzRGVsZXRlZChkcywgaWQpKSB7XG4gICAgICAgIHJldHVybiB1c2VyRGVzY3JpcHRpb25cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG4vKipcbiAqIEEgcmVsYXRpdmUgcG9zaXRpb24gaXMgYmFzZWQgb24gdGhlIFlqcyBtb2RlbCBhbmQgaXMgbm90IGFmZmVjdGVkIGJ5IGRvY3VtZW50IGNoYW5nZXMuXG4gKiBFLmcuIElmIHlvdSBwbGFjZSBhIHJlbGF0aXZlIHBvc2l0aW9uIGJlZm9yZSBhIGNlcnRhaW4gY2hhcmFjdGVyLCBpdCB3aWxsIGFsd2F5cyBwb2ludCB0byB0aGlzIGNoYXJhY3Rlci5cbiAqIElmIHlvdSBwbGFjZSBhIHJlbGF0aXZlIHBvc2l0aW9uIGF0IHRoZSBlbmQgb2YgYSB0eXBlLCBpdCB3aWxsIGFsd2F5cyBwb2ludCB0byB0aGUgZW5kIG9mIHRoZSB0eXBlLlxuICpcbiAqIEEgbnVtZXJpYyBwb3NpdGlvbiBpcyBvZnRlbiB1bnN1aXRlZCBmb3IgdXNlciBzZWxlY3Rpb25zLCBiZWNhdXNlIGl0IGRvZXMgbm90IGNoYW5nZSB3aGVuIGNvbnRlbnQgaXMgaW5zZXJ0ZWRcbiAqIGJlZm9yZSBvciBhZnRlci5cbiAqXG4gKiBgYGBJbnNlcnQoMCwgJ3gnKSgnYXxiYycpID0gJ3hhfGJjJ2BgYCBXaGVyZSB8IGlzIHRoZSByZWxhdGl2ZSBwb3NpdGlvbi5cbiAqXG4gKiBPbmUgb2YgdGhlIHByb3BlcnRpZXMgbXVzdCBiZSBkZWZpbmVkLlxuICpcbiAqIEBleGFtcGxlXG4gKiAgIC8vIEN1cnJlbnQgY3Vyc29yIHBvc2l0aW9uIGlzIGF0IHBvc2l0aW9uIDEwXG4gKiAgIGNvbnN0IHJlbGF0aXZlUG9zaXRpb24gPSBjcmVhdGVSZWxhdGl2ZVBvc2l0aW9uRnJvbUluZGV4KHlUZXh0LCAxMClcbiAqICAgLy8gbW9kaWZ5IHlUZXh0XG4gKiAgIHlUZXh0Lmluc2VydCgwLCAnYWJjJylcbiAqICAgeVRleHQuZGVsZXRlKDMsIDEwKVxuICogICAvLyBDb21wdXRlIHRoZSBjdXJzb3IgcG9zaXRpb25cbiAqICAgY29uc3QgYWJzb2x1dGVQb3NpdGlvbiA9IGNyZWF0ZUFic29sdXRlUG9zaXRpb25Gcm9tUmVsYXRpdmVQb3NpdGlvbih5LCByZWxhdGl2ZVBvc2l0aW9uKVxuICogICBhYnNvbHV0ZVBvc2l0aW9uLnR5cGUgPT09IHlUZXh0IC8vID0+IHRydWVcbiAqICAgY29uc29sZS5sb2coJ2N1cnNvciBsb2NhdGlvbiBpcyAnICsgYWJzb2x1dGVQb3NpdGlvbi5pbmRleCkgLy8gPT4gY3Vyc29yIGxvY2F0aW9uIGlzIDNcbiAqXG4gKi9cbmNsYXNzIFJlbGF0aXZlUG9zaXRpb24ge1xuICAvKipcbiAgICogQHBhcmFtIHtJRHxudWxsfSB0eXBlXG4gICAqIEBwYXJhbSB7c3RyaW5nfG51bGx9IHRuYW1lXG4gICAqIEBwYXJhbSB7SUR8bnVsbH0gaXRlbVxuICAgKiBAcGFyYW0ge251bWJlcn0gYXNzb2NcbiAgICovXG4gIGNvbnN0cnVjdG9yICh0eXBlLCB0bmFtZSwgaXRlbSwgYXNzb2MgPSAwKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge0lEfG51bGx9XG4gICAgICovXG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7c3RyaW5nfG51bGx9XG4gICAgICovXG4gICAgdGhpcy50bmFtZSA9IHRuYW1lO1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtJRCB8IG51bGx9XG4gICAgICovXG4gICAgdGhpcy5pdGVtID0gaXRlbTtcbiAgICAvKipcbiAgICAgKiBBIHJlbGF0aXZlIHBvc2l0aW9uIGlzIGFzc29jaWF0ZWQgdG8gYSBzcGVjaWZpYyBjaGFyYWN0ZXIuIEJ5IGRlZmF1bHRcbiAgICAgKiBhc3NvYyA+PSAwLCB0aGUgcmVsYXRpdmUgcG9zaXRpb24gaXMgYXNzb2NpYXRlZCB0byB0aGUgY2hhcmFjdGVyXG4gICAgICogYWZ0ZXIgdGhlIG1lYW50IHBvc2l0aW9uLlxuICAgICAqIEkuZS4gcG9zaXRpb24gMSBpbiAnYWInIGlzIGFzc29jaWF0ZWQgdG8gY2hhcmFjdGVyICdiJy5cbiAgICAgKlxuICAgICAqIElmIGFzc29jIDwgMCwgdGhlbiB0aGUgcmVsYXRpdmUgcG9zaXRpb24gaXMgYXNzb2NpYXRlZCB0byB0aGUgY2FoYXJhY3RlclxuICAgICAqIGJlZm9yZSB0aGUgbWVhbnQgcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuYXNzb2MgPSBhc3NvYztcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7UmVsYXRpdmVQb3NpdGlvbn0gcnBvc1xuICogQHJldHVybiB7YW55fVxuICovXG5jb25zdCByZWxhdGl2ZVBvc2l0aW9uVG9KU09OID0gcnBvcyA9PiB7XG4gIGNvbnN0IGpzb24gPSB7fTtcbiAgaWYgKHJwb3MudHlwZSkge1xuICAgIGpzb24udHlwZSA9IHJwb3MudHlwZTtcbiAgfVxuICBpZiAocnBvcy50bmFtZSkge1xuICAgIGpzb24udG5hbWUgPSBycG9zLnRuYW1lO1xuICB9XG4gIGlmIChycG9zLml0ZW0pIHtcbiAgICBqc29uLml0ZW0gPSBycG9zLml0ZW07XG4gIH1cbiAgaWYgKHJwb3MuYXNzb2MgIT0gbnVsbCkge1xuICAgIGpzb24uYXNzb2MgPSBycG9zLmFzc29jO1xuICB9XG4gIHJldHVybiBqc29uXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7YW55fSBqc29uXG4gKiBAcmV0dXJuIHtSZWxhdGl2ZVBvc2l0aW9ufVxuICpcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCBjcmVhdGVSZWxhdGl2ZVBvc2l0aW9uRnJvbUpTT04gPSBqc29uID0+IG5ldyBSZWxhdGl2ZVBvc2l0aW9uKGpzb24udHlwZSA9PSBudWxsID8gbnVsbCA6IGNyZWF0ZUlEKGpzb24udHlwZS5jbGllbnQsIGpzb24udHlwZS5jbG9jayksIGpzb24udG5hbWUgfHwgbnVsbCwganNvbi5pdGVtID09IG51bGwgPyBudWxsIDogY3JlYXRlSUQoanNvbi5pdGVtLmNsaWVudCwganNvbi5pdGVtLmNsb2NrKSwganNvbi5hc3NvYyA9PSBudWxsID8gMCA6IGpzb24uYXNzb2MpO1xuXG5jbGFzcyBBYnNvbHV0ZVBvc2l0aW9uIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7QWJzdHJhY3RUeXBlPGFueT59IHR5cGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbYXNzb2NdXG4gICAqL1xuICBjb25zdHJ1Y3RvciAodHlwZSwgaW5kZXgsIGFzc29jID0gMCkge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBYnN0cmFjdFR5cGU8YW55Pn1cbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgIHRoaXMuYXNzb2MgPSBhc3NvYztcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7QWJzdHJhY3RUeXBlPGFueT59IHR5cGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IFthc3NvY11cbiAqXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgY3JlYXRlQWJzb2x1dGVQb3NpdGlvbiA9ICh0eXBlLCBpbmRleCwgYXNzb2MgPSAwKSA9PiBuZXcgQWJzb2x1dGVQb3NpdGlvbih0eXBlLCBpbmRleCwgYXNzb2MpO1xuXG4vKipcbiAqIEBwYXJhbSB7QWJzdHJhY3RUeXBlPGFueT59IHR5cGVcbiAqIEBwYXJhbSB7SUR8bnVsbH0gaXRlbVxuICogQHBhcmFtIHtudW1iZXJ9IFthc3NvY11cbiAqXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgY3JlYXRlUmVsYXRpdmVQb3NpdGlvbiA9ICh0eXBlLCBpdGVtLCBhc3NvYykgPT4ge1xuICBsZXQgdHlwZWlkID0gbnVsbDtcbiAgbGV0IHRuYW1lID0gbnVsbDtcbiAgaWYgKHR5cGUuX2l0ZW0gPT09IG51bGwpIHtcbiAgICB0bmFtZSA9IGZpbmRSb290VHlwZUtleSh0eXBlKTtcbiAgfSBlbHNlIHtcbiAgICB0eXBlaWQgPSBjcmVhdGVJRCh0eXBlLl9pdGVtLmlkLmNsaWVudCwgdHlwZS5faXRlbS5pZC5jbG9jayk7XG4gIH1cbiAgcmV0dXJuIG5ldyBSZWxhdGl2ZVBvc2l0aW9uKHR5cGVpZCwgdG5hbWUsIGl0ZW0sIGFzc29jKVxufTtcblxuLyoqXG4gKiBDcmVhdGUgYSByZWxhdGl2ZVBvc2l0aW9uIGJhc2VkIG9uIGEgYWJzb2x1dGUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtBYnN0cmFjdFR5cGU8YW55Pn0gdHlwZSBUaGUgYmFzZSB0eXBlIChlLmcuIFlUZXh0IG9yIFlBcnJheSkuXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGFic29sdXRlIHBvc2l0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IFthc3NvY11cbiAqIEByZXR1cm4ge1JlbGF0aXZlUG9zaXRpb259XG4gKlxuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IGNyZWF0ZVJlbGF0aXZlUG9zaXRpb25Gcm9tVHlwZUluZGV4ID0gKHR5cGUsIGluZGV4LCBhc3NvYyA9IDApID0+IHtcbiAgbGV0IHQgPSB0eXBlLl9zdGFydDtcbiAgaWYgKGFzc29jIDwgMCkge1xuICAgIC8vIGFzc29jaWF0ZWQgdG8gdGhlIGxlZnQgY2hhcmFjdGVyIG9yIHRoZSBiZWdpbm5pbmcgb2YgYSB0eXBlLCBpbmNyZW1lbnQgaW5kZXggaWYgcG9zc2libGUuXG4gICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICByZXR1cm4gY3JlYXRlUmVsYXRpdmVQb3NpdGlvbih0eXBlLCBudWxsLCBhc3NvYylcbiAgICB9XG4gICAgaW5kZXgtLTtcbiAgfVxuICB3aGlsZSAodCAhPT0gbnVsbCkge1xuICAgIGlmICghdC5kZWxldGVkICYmIHQuY291bnRhYmxlKSB7XG4gICAgICBpZiAodC5sZW5ndGggPiBpbmRleCkge1xuICAgICAgICAvLyBjYXNlIDE6IGZvdW5kIHBvc2l0aW9uIHNvbWV3aGVyZSBpbiB0aGUgbGlua2VkIGxpc3RcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVJlbGF0aXZlUG9zaXRpb24odHlwZSwgY3JlYXRlSUQodC5pZC5jbGllbnQsIHQuaWQuY2xvY2sgKyBpbmRleCksIGFzc29jKVxuICAgICAgfVxuICAgICAgaW5kZXggLT0gdC5sZW5ndGg7XG4gICAgfVxuICAgIGlmICh0LnJpZ2h0ID09PSBudWxsICYmIGFzc29jIDwgMCkge1xuICAgICAgLy8gbGVmdC1hc3NvY2lhdGVkIHBvc2l0aW9uLCByZXR1cm4gbGFzdCBhdmFpbGFibGUgaWRcbiAgICAgIHJldHVybiBjcmVhdGVSZWxhdGl2ZVBvc2l0aW9uKHR5cGUsIHQubGFzdElkLCBhc3NvYylcbiAgICB9XG4gICAgdCA9IHQucmlnaHQ7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZVJlbGF0aXZlUG9zaXRpb24odHlwZSwgbnVsbCwgYXNzb2MpXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7ZW5jb2RpbmcuRW5jb2Rlcn0gZW5jb2RlclxuICogQHBhcmFtIHtSZWxhdGl2ZVBvc2l0aW9ufSBycG9zXG4gKlxuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IHdyaXRlUmVsYXRpdmVQb3NpdGlvbiA9IChlbmNvZGVyLCBycG9zKSA9PiB7XG4gIGNvbnN0IHsgdHlwZSwgdG5hbWUsIGl0ZW0sIGFzc29jIH0gPSBycG9zO1xuICBpZiAoaXRlbSAhPT0gbnVsbCkge1xuICAgIGVuY29kaW5nLndyaXRlVmFyVWludChlbmNvZGVyLCAwKTtcbiAgICB3cml0ZUlEKGVuY29kZXIsIGl0ZW0pO1xuICB9IGVsc2UgaWYgKHRuYW1lICE9PSBudWxsKSB7XG4gICAgLy8gY2FzZSAyOiBmb3VuZCBwb3NpdGlvbiBhdCB0aGUgZW5kIG9mIHRoZSBsaXN0IGFuZCB0eXBlIGlzIHN0b3JlZCBpbiB5LnNoYXJlXG4gICAgZW5jb2Rpbmcud3JpdGVVaW50OChlbmNvZGVyLCAxKTtcbiAgICBlbmNvZGluZy53cml0ZVZhclN0cmluZyhlbmNvZGVyLCB0bmFtZSk7XG4gIH0gZWxzZSBpZiAodHlwZSAhPT0gbnVsbCkge1xuICAgIC8vIGNhc2UgMzogZm91bmQgcG9zaXRpb24gYXQgdGhlIGVuZCBvZiB0aGUgbGlzdCBhbmQgdHlwZSBpcyBhdHRhY2hlZCB0byBhbiBpdGVtXG4gICAgZW5jb2Rpbmcud3JpdGVVaW50OChlbmNvZGVyLCAyKTtcbiAgICB3cml0ZUlEKGVuY29kZXIsIHR5cGUpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IGVycm9yLnVuZXhwZWN0ZWRDYXNlKClcbiAgfVxuICBlbmNvZGluZy53cml0ZVZhckludChlbmNvZGVyLCBhc3NvYyk7XG4gIHJldHVybiBlbmNvZGVyXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7UmVsYXRpdmVQb3NpdGlvbn0gcnBvc1xuICogQHJldHVybiB7VWludDhBcnJheX1cbiAqL1xuY29uc3QgZW5jb2RlUmVsYXRpdmVQb3NpdGlvbiA9IHJwb3MgPT4ge1xuICBjb25zdCBlbmNvZGVyID0gZW5jb2RpbmcuY3JlYXRlRW5jb2RlcigpO1xuICB3cml0ZVJlbGF0aXZlUG9zaXRpb24oZW5jb2RlciwgcnBvcyk7XG4gIHJldHVybiBlbmNvZGluZy50b1VpbnQ4QXJyYXkoZW5jb2Rlcilcbn07XG5cbi8qKlxuICogQHBhcmFtIHtkZWNvZGluZy5EZWNvZGVyfSBkZWNvZGVyXG4gKiBAcmV0dXJuIHtSZWxhdGl2ZVBvc2l0aW9ufVxuICpcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCByZWFkUmVsYXRpdmVQb3NpdGlvbiA9IGRlY29kZXIgPT4ge1xuICBsZXQgdHlwZSA9IG51bGw7XG4gIGxldCB0bmFtZSA9IG51bGw7XG4gIGxldCBpdGVtSUQgPSBudWxsO1xuICBzd2l0Y2ggKGRlY29kaW5nLnJlYWRWYXJVaW50KGRlY29kZXIpKSB7XG4gICAgY2FzZSAwOlxuICAgICAgLy8gY2FzZSAxOiBmb3VuZCBwb3NpdGlvbiBzb21ld2hlcmUgaW4gdGhlIGxpbmtlZCBsaXN0XG4gICAgICBpdGVtSUQgPSByZWFkSUQoZGVjb2Rlcik7XG4gICAgICBicmVha1xuICAgIGNhc2UgMTpcbiAgICAgIC8vIGNhc2UgMjogZm91bmQgcG9zaXRpb24gYXQgdGhlIGVuZCBvZiB0aGUgbGlzdCBhbmQgdHlwZSBpcyBzdG9yZWQgaW4geS5zaGFyZVxuICAgICAgdG5hbWUgPSBkZWNvZGluZy5yZWFkVmFyU3RyaW5nKGRlY29kZXIpO1xuICAgICAgYnJlYWtcbiAgICBjYXNlIDI6IHtcbiAgICAgIC8vIGNhc2UgMzogZm91bmQgcG9zaXRpb24gYXQgdGhlIGVuZCBvZiB0aGUgbGlzdCBhbmQgdHlwZSBpcyBhdHRhY2hlZCB0byBhbiBpdGVtXG4gICAgICB0eXBlID0gcmVhZElEKGRlY29kZXIpO1xuICAgIH1cbiAgfVxuICBjb25zdCBhc3NvYyA9IGRlY29kaW5nLmhhc0NvbnRlbnQoZGVjb2RlcikgPyBkZWNvZGluZy5yZWFkVmFySW50KGRlY29kZXIpIDogMDtcbiAgcmV0dXJuIG5ldyBSZWxhdGl2ZVBvc2l0aW9uKHR5cGUsIHRuYW1lLCBpdGVtSUQsIGFzc29jKVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IHVpbnQ4QXJyYXlcbiAqIEByZXR1cm4ge1JlbGF0aXZlUG9zaXRpb259XG4gKi9cbmNvbnN0IGRlY29kZVJlbGF0aXZlUG9zaXRpb24gPSB1aW50OEFycmF5ID0+IHJlYWRSZWxhdGl2ZVBvc2l0aW9uKGRlY29kaW5nLmNyZWF0ZURlY29kZXIodWludDhBcnJheSkpO1xuXG4vKipcbiAqIEBwYXJhbSB7UmVsYXRpdmVQb3NpdGlvbn0gcnBvc1xuICogQHBhcmFtIHtEb2N9IGRvY1xuICogQHJldHVybiB7QWJzb2x1dGVQb3NpdGlvbnxudWxsfVxuICpcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCBjcmVhdGVBYnNvbHV0ZVBvc2l0aW9uRnJvbVJlbGF0aXZlUG9zaXRpb24gPSAocnBvcywgZG9jKSA9PiB7XG4gIGNvbnN0IHN0b3JlID0gZG9jLnN0b3JlO1xuICBjb25zdCByaWdodElEID0gcnBvcy5pdGVtO1xuICBjb25zdCB0eXBlSUQgPSBycG9zLnR5cGU7XG4gIGNvbnN0IHRuYW1lID0gcnBvcy50bmFtZTtcbiAgY29uc3QgYXNzb2MgPSBycG9zLmFzc29jO1xuICBsZXQgdHlwZSA9IG51bGw7XG4gIGxldCBpbmRleCA9IDA7XG4gIGlmIChyaWdodElEICE9PSBudWxsKSB7XG4gICAgaWYgKGdldFN0YXRlKHN0b3JlLCByaWdodElELmNsaWVudCkgPD0gcmlnaHRJRC5jbG9jaykge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gICAgY29uc3QgcmVzID0gZm9sbG93UmVkb25lKHN0b3JlLCByaWdodElEKTtcbiAgICBjb25zdCByaWdodCA9IHJlcy5pdGVtO1xuICAgIGlmICghKHJpZ2h0IGluc3RhbmNlb2YgSXRlbSkpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICAgIHR5cGUgPSAvKiogQHR5cGUge0Fic3RyYWN0VHlwZTxhbnk+fSAqLyAocmlnaHQucGFyZW50KTtcbiAgICBpZiAodHlwZS5faXRlbSA9PT0gbnVsbCB8fCAhdHlwZS5faXRlbS5kZWxldGVkKSB7XG4gICAgICBpbmRleCA9IChyaWdodC5kZWxldGVkIHx8ICFyaWdodC5jb3VudGFibGUpID8gMCA6IChyZXMuZGlmZiArIChhc3NvYyA+PSAwID8gMCA6IDEpKTsgLy8gYWRqdXN0IHBvc2l0aW9uIGJhc2VkIG9uIGxlZnQgYXNzb2NpYXRpb24gaWYgbmVjZXNzYXJ5XG4gICAgICBsZXQgbiA9IHJpZ2h0LmxlZnQ7XG4gICAgICB3aGlsZSAobiAhPT0gbnVsbCkge1xuICAgICAgICBpZiAoIW4uZGVsZXRlZCAmJiBuLmNvdW50YWJsZSkge1xuICAgICAgICAgIGluZGV4ICs9IG4ubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIG4gPSBuLmxlZnQ7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICh0bmFtZSAhPT0gbnVsbCkge1xuICAgICAgdHlwZSA9IGRvYy5nZXQodG5hbWUpO1xuICAgIH0gZWxzZSBpZiAodHlwZUlEICE9PSBudWxsKSB7XG4gICAgICBpZiAoZ2V0U3RhdGUoc3RvcmUsIHR5cGVJRC5jbGllbnQpIDw9IHR5cGVJRC5jbG9jaykge1xuICAgICAgICAvLyB0eXBlIGRvZXMgbm90IGV4aXN0IHlldFxuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfVxuICAgICAgY29uc3QgeyBpdGVtIH0gPSBmb2xsb3dSZWRvbmUoc3RvcmUsIHR5cGVJRCk7XG4gICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEl0ZW0gJiYgaXRlbS5jb250ZW50IGluc3RhbmNlb2YgQ29udGVudFR5cGUpIHtcbiAgICAgICAgdHlwZSA9IGl0ZW0uY29udGVudC50eXBlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gc3RydWN0IGlzIGdhcmJhZ2UgY29sbGVjdGVkXG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IGVycm9yLnVuZXhwZWN0ZWRDYXNlKClcbiAgICB9XG4gICAgaWYgKGFzc29jID49IDApIHtcbiAgICAgIGluZGV4ID0gdHlwZS5fbGVuZ3RoO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbmRleCA9IDA7XG4gICAgfVxuICB9XG4gIHJldHVybiBjcmVhdGVBYnNvbHV0ZVBvc2l0aW9uKHR5cGUsIGluZGV4LCBycG9zLmFzc29jKVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge1JlbGF0aXZlUG9zaXRpb258bnVsbH0gYVxuICogQHBhcmFtIHtSZWxhdGl2ZVBvc2l0aW9ufG51bGx9IGJcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKlxuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IGNvbXBhcmVSZWxhdGl2ZVBvc2l0aW9ucyA9IChhLCBiKSA9PiBhID09PSBiIHx8IChcbiAgYSAhPT0gbnVsbCAmJiBiICE9PSBudWxsICYmIGEudG5hbWUgPT09IGIudG5hbWUgJiYgY29tcGFyZUlEcyhhLml0ZW0sIGIuaXRlbSkgJiYgY29tcGFyZUlEcyhhLnR5cGUsIGIudHlwZSkgJiYgYS5hc3NvYyA9PT0gYi5hc3NvY1xuKTtcblxuY2xhc3MgU25hcHNob3Qge1xuICAvKipcbiAgICogQHBhcmFtIHtEZWxldGVTZXR9IGRzXG4gICAqIEBwYXJhbSB7TWFwPG51bWJlcixudW1iZXI+fSBzdiBzdGF0ZSBtYXBcbiAgICovXG4gIGNvbnN0cnVjdG9yIChkcywgc3YpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7RGVsZXRlU2V0fVxuICAgICAqL1xuICAgIHRoaXMuZHMgPSBkcztcbiAgICAvKipcbiAgICAgKiBTdGF0ZSBNYXBcbiAgICAgKiBAdHlwZSB7TWFwPG51bWJlcixudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMuc3YgPSBzdjtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7U25hcHNob3R9IHNuYXAxXG4gKiBAcGFyYW0ge1NuYXBzaG90fSBzbmFwMlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuY29uc3QgZXF1YWxTbmFwc2hvdHMgPSAoc25hcDEsIHNuYXAyKSA9PiB7XG4gIGNvbnN0IGRzMSA9IHNuYXAxLmRzLmNsaWVudHM7XG4gIGNvbnN0IGRzMiA9IHNuYXAyLmRzLmNsaWVudHM7XG4gIGNvbnN0IHN2MSA9IHNuYXAxLnN2O1xuICBjb25zdCBzdjIgPSBzbmFwMi5zdjtcbiAgaWYgKHN2MS5zaXplICE9PSBzdjIuc2l6ZSB8fCBkczEuc2l6ZSAhPT0gZHMyLnNpemUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBzdjEuZW50cmllcygpKSB7XG4gICAgaWYgKHN2Mi5nZXQoa2V5KSAhPT0gdmFsdWUpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuICBmb3IgKGNvbnN0IFtjbGllbnQsIGRzaXRlbXMxXSBvZiBkczEuZW50cmllcygpKSB7XG4gICAgY29uc3QgZHNpdGVtczIgPSBkczIuZ2V0KGNsaWVudCkgfHwgW107XG4gICAgaWYgKGRzaXRlbXMxLmxlbmd0aCAhPT0gZHNpdGVtczIubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkc2l0ZW1zMS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZHNpdGVtMSA9IGRzaXRlbXMxW2ldO1xuICAgICAgY29uc3QgZHNpdGVtMiA9IGRzaXRlbXMyW2ldO1xuICAgICAgaWYgKGRzaXRlbTEuY2xvY2sgIT09IGRzaXRlbTIuY2xvY2sgfHwgZHNpdGVtMS5sZW4gIT09IGRzaXRlbTIubGVuKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge1NuYXBzaG90fSBzbmFwc2hvdFxuICogQHBhcmFtIHtEU0VuY29kZXJWMSB8IERTRW5jb2RlclYyfSBbZW5jb2Rlcl1cbiAqIEByZXR1cm4ge1VpbnQ4QXJyYXl9XG4gKi9cbmNvbnN0IGVuY29kZVNuYXBzaG90VjIgPSAoc25hcHNob3QsIGVuY29kZXIgPSBuZXcgRFNFbmNvZGVyVjIoKSkgPT4ge1xuICB3cml0ZURlbGV0ZVNldChlbmNvZGVyLCBzbmFwc2hvdC5kcyk7XG4gIHdyaXRlU3RhdGVWZWN0b3IoZW5jb2Rlciwgc25hcHNob3Quc3YpO1xuICByZXR1cm4gZW5jb2Rlci50b1VpbnQ4QXJyYXkoKVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge1NuYXBzaG90fSBzbmFwc2hvdFxuICogQHJldHVybiB7VWludDhBcnJheX1cbiAqL1xuY29uc3QgZW5jb2RlU25hcHNob3QgPSBzbmFwc2hvdCA9PiBlbmNvZGVTbmFwc2hvdFYyKHNuYXBzaG90LCBuZXcgRFNFbmNvZGVyVjEoKSk7XG5cbi8qKlxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWZcbiAqIEBwYXJhbSB7RFNEZWNvZGVyVjEgfCBEU0RlY29kZXJWMn0gW2RlY29kZXJdXG4gKiBAcmV0dXJuIHtTbmFwc2hvdH1cbiAqL1xuY29uc3QgZGVjb2RlU25hcHNob3RWMiA9IChidWYsIGRlY29kZXIgPSBuZXcgRFNEZWNvZGVyVjIoZGVjb2RpbmcuY3JlYXRlRGVjb2RlcihidWYpKSkgPT4ge1xuICByZXR1cm4gbmV3IFNuYXBzaG90KHJlYWREZWxldGVTZXQoZGVjb2RlciksIHJlYWRTdGF0ZVZlY3RvcihkZWNvZGVyKSlcbn07XG5cbi8qKlxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWZcbiAqIEByZXR1cm4ge1NuYXBzaG90fVxuICovXG5jb25zdCBkZWNvZGVTbmFwc2hvdCA9IGJ1ZiA9PiBkZWNvZGVTbmFwc2hvdFYyKGJ1ZiwgbmV3IERTRGVjb2RlclYxKGRlY29kaW5nLmNyZWF0ZURlY29kZXIoYnVmKSkpO1xuXG4vKipcbiAqIEBwYXJhbSB7RGVsZXRlU2V0fSBkc1xuICogQHBhcmFtIHtNYXA8bnVtYmVyLG51bWJlcj59IHNtXG4gKiBAcmV0dXJuIHtTbmFwc2hvdH1cbiAqL1xuY29uc3QgY3JlYXRlU25hcHNob3QgPSAoZHMsIHNtKSA9PiBuZXcgU25hcHNob3QoZHMsIHNtKTtcblxuY29uc3QgZW1wdHlTbmFwc2hvdCA9IGNyZWF0ZVNuYXBzaG90KGNyZWF0ZURlbGV0ZVNldCgpLCBuZXcgTWFwKCkpO1xuXG4vKipcbiAqIEBwYXJhbSB7RG9jfSBkb2NcbiAqIEByZXR1cm4ge1NuYXBzaG90fVxuICovXG5jb25zdCBzbmFwc2hvdCA9IGRvYyA9PiBjcmVhdGVTbmFwc2hvdChjcmVhdGVEZWxldGVTZXRGcm9tU3RydWN0U3RvcmUoZG9jLnN0b3JlKSwgZ2V0U3RhdGVWZWN0b3IoZG9jLnN0b3JlKSk7XG5cbi8qKlxuICogQHBhcmFtIHtJdGVtfSBpdGVtXG4gKiBAcGFyYW0ge1NuYXBzaG90fHVuZGVmaW5lZH0gc25hcHNob3RcbiAqXG4gKiBAcHJvdGVjdGVkXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgaXNWaXNpYmxlID0gKGl0ZW0sIHNuYXBzaG90KSA9PiBzbmFwc2hvdCA9PT0gdW5kZWZpbmVkXG4gID8gIWl0ZW0uZGVsZXRlZFxuICA6IHNuYXBzaG90LnN2LmhhcyhpdGVtLmlkLmNsaWVudCkgJiYgKHNuYXBzaG90LnN2LmdldChpdGVtLmlkLmNsaWVudCkgfHwgMCkgPiBpdGVtLmlkLmNsb2NrICYmICFpc0RlbGV0ZWQoc25hcHNob3QuZHMsIGl0ZW0uaWQpO1xuXG4vKipcbiAqIEBwYXJhbSB7VHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gKiBAcGFyYW0ge1NuYXBzaG90fSBzbmFwc2hvdFxuICovXG5jb25zdCBzcGxpdFNuYXBzaG90QWZmZWN0ZWRTdHJ1Y3RzID0gKHRyYW5zYWN0aW9uLCBzbmFwc2hvdCkgPT4ge1xuICBjb25zdCBtZXRhID0gbWFwLnNldElmVW5kZWZpbmVkKHRyYW5zYWN0aW9uLm1ldGEsIHNwbGl0U25hcHNob3RBZmZlY3RlZFN0cnVjdHMsIHNldC5jcmVhdGUpO1xuICBjb25zdCBzdG9yZSA9IHRyYW5zYWN0aW9uLmRvYy5zdG9yZTtcbiAgLy8gY2hlY2sgaWYgd2UgYWxyZWFkeSBzcGxpdCBmb3IgdGhpcyBzbmFwc2hvdFxuICBpZiAoIW1ldGEuaGFzKHNuYXBzaG90KSkge1xuICAgIHNuYXBzaG90LnN2LmZvckVhY2goKGNsb2NrLCBjbGllbnQpID0+IHtcbiAgICAgIGlmIChjbG9jayA8IGdldFN0YXRlKHN0b3JlLCBjbGllbnQpKSB7XG4gICAgICAgIGdldEl0ZW1DbGVhblN0YXJ0KHRyYW5zYWN0aW9uLCBjcmVhdGVJRChjbGllbnQsIGNsb2NrKSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaXRlcmF0ZURlbGV0ZWRTdHJ1Y3RzKHRyYW5zYWN0aW9uLCBzbmFwc2hvdC5kcywgaXRlbSA9PiB7fSk7XG4gICAgbWV0YS5hZGQoc25hcHNob3QpO1xuICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7RG9jfSBvcmlnaW5Eb2NcbiAqIEBwYXJhbSB7U25hcHNob3R9IHNuYXBzaG90XG4gKiBAcGFyYW0ge0RvY30gW25ld0RvY10gT3B0aW9uYWxseSwgeW91IG1heSBkZWZpbmUgdGhlIFlqcyBkb2N1bWVudCB0aGF0IHJlY2VpdmVzIHRoZSBkYXRhIGZyb20gb3JpZ2luRG9jXG4gKiBAcmV0dXJuIHtEb2N9XG4gKi9cbmNvbnN0IGNyZWF0ZURvY0Zyb21TbmFwc2hvdCA9IChvcmlnaW5Eb2MsIHNuYXBzaG90LCBuZXdEb2MgPSBuZXcgRG9jKCkpID0+IHtcbiAgaWYgKG9yaWdpbkRvYy5nYykge1xuICAgIC8vIHdlIHNob3VsZCBub3QgdHJ5IHRvIHJlc3RvcmUgYSBHQy1lZCBkb2N1bWVudCwgYmVjYXVzZSBzb21lIG9mIHRoZSByZXN0b3JlZCBpdGVtcyBtaWdodCBoYXZlIHRoZWlyIGNvbnRlbnQgZGVsZXRlZFxuICAgIHRocm93IG5ldyBFcnJvcignb3JpZ2luRG9jIG11c3Qgbm90IGJlIGdhcmJhZ2UgY29sbGVjdGVkJylcbiAgfVxuICBjb25zdCB7IHN2LCBkcyB9ID0gc25hcHNob3Q7XG5cbiAgY29uc3QgZW5jb2RlciA9IG5ldyBVcGRhdGVFbmNvZGVyVjIoKTtcbiAgb3JpZ2luRG9jLnRyYW5zYWN0KHRyYW5zYWN0aW9uID0+IHtcbiAgICBsZXQgc2l6ZSA9IDA7XG4gICAgc3YuZm9yRWFjaChjbG9jayA9PiB7XG4gICAgICBpZiAoY2xvY2sgPiAwKSB7XG4gICAgICAgIHNpemUrKztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBlbmNvZGluZy53cml0ZVZhclVpbnQoZW5jb2Rlci5yZXN0RW5jb2Rlciwgc2l6ZSk7XG4gICAgLy8gc3BsaXR0aW5nIHRoZSBzdHJ1Y3RzIGJlZm9yZSB3cml0aW5nIHRoZW0gdG8gdGhlIGVuY29kZXJcbiAgICBmb3IgKGNvbnN0IFtjbGllbnQsIGNsb2NrXSBvZiBzdikge1xuICAgICAgaWYgKGNsb2NrID09PSAwKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgICBpZiAoY2xvY2sgPCBnZXRTdGF0ZShvcmlnaW5Eb2Muc3RvcmUsIGNsaWVudCkpIHtcbiAgICAgICAgZ2V0SXRlbUNsZWFuU3RhcnQodHJhbnNhY3Rpb24sIGNyZWF0ZUlEKGNsaWVudCwgY2xvY2spKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHN0cnVjdHMgPSBvcmlnaW5Eb2Muc3RvcmUuY2xpZW50cy5nZXQoY2xpZW50KSB8fCBbXTtcbiAgICAgIGNvbnN0IGxhc3RTdHJ1Y3RJbmRleCA9IGZpbmRJbmRleFNTKHN0cnVjdHMsIGNsb2NrIC0gMSk7XG4gICAgICAvLyB3cml0ZSAjIGVuY29kZWQgc3RydWN0c1xuICAgICAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KGVuY29kZXIucmVzdEVuY29kZXIsIGxhc3RTdHJ1Y3RJbmRleCArIDEpO1xuICAgICAgZW5jb2Rlci53cml0ZUNsaWVudChjbGllbnQpO1xuICAgICAgLy8gZmlyc3QgY2xvY2sgd3JpdHRlbiBpcyAwXG4gICAgICBlbmNvZGluZy53cml0ZVZhclVpbnQoZW5jb2Rlci5yZXN0RW5jb2RlciwgMCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBsYXN0U3RydWN0SW5kZXg7IGkrKykge1xuICAgICAgICBzdHJ1Y3RzW2ldLndyaXRlKGVuY29kZXIsIDApO1xuICAgICAgfVxuICAgIH1cbiAgICB3cml0ZURlbGV0ZVNldChlbmNvZGVyLCBkcyk7XG4gIH0pO1xuXG4gIGFwcGx5VXBkYXRlVjIobmV3RG9jLCBlbmNvZGVyLnRvVWludDhBcnJheSgpLCAnc25hcHNob3QnKTtcbiAgcmV0dXJuIG5ld0RvY1xufTtcblxuY2xhc3MgU3RydWN0U3RvcmUge1xuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge01hcDxudW1iZXIsQXJyYXk8R0N8SXRlbT4+fVxuICAgICAqL1xuICAgIHRoaXMuY2xpZW50cyA9IG5ldyBNYXAoKTtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVsbCB8IHsgbWlzc2luZzogTWFwPG51bWJlciwgbnVtYmVyPiwgdXBkYXRlOiBVaW50OEFycmF5IH19XG4gICAgICovXG4gICAgdGhpcy5wZW5kaW5nU3RydWN0cyA9IG51bGw7XG4gICAgLyoqXG4gICAgICogQHR5cGUge251bGwgfCBVaW50OEFycmF5fVxuICAgICAqL1xuICAgIHRoaXMucGVuZGluZ0RzID0gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybiB0aGUgc3RhdGVzIGFzIGEgTWFwPGNsaWVudCxjbG9jaz4uXG4gKiBOb3RlIHRoYXQgY2xvY2sgcmVmZXJzIHRvIHRoZSBuZXh0IGV4cGVjdGVkIGNsb2NrIGlkLlxuICpcbiAqIEBwYXJhbSB7U3RydWN0U3RvcmV9IHN0b3JlXG4gKiBAcmV0dXJuIHtNYXA8bnVtYmVyLG51bWJlcj59XG4gKlxuICogQHB1YmxpY1xuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IGdldFN0YXRlVmVjdG9yID0gc3RvcmUgPT4ge1xuICBjb25zdCBzbSA9IG5ldyBNYXAoKTtcbiAgc3RvcmUuY2xpZW50cy5mb3JFYWNoKChzdHJ1Y3RzLCBjbGllbnQpID0+IHtcbiAgICBjb25zdCBzdHJ1Y3QgPSBzdHJ1Y3RzW3N0cnVjdHMubGVuZ3RoIC0gMV07XG4gICAgc20uc2V0KGNsaWVudCwgc3RydWN0LmlkLmNsb2NrICsgc3RydWN0Lmxlbmd0aCk7XG4gIH0pO1xuICByZXR1cm4gc21cbn07XG5cbi8qKlxuICogQHBhcmFtIHtTdHJ1Y3RTdG9yZX0gc3RvcmVcbiAqIEBwYXJhbSB7bnVtYmVyfSBjbGllbnRcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqXG4gKiBAcHVibGljXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgZ2V0U3RhdGUgPSAoc3RvcmUsIGNsaWVudCkgPT4ge1xuICBjb25zdCBzdHJ1Y3RzID0gc3RvcmUuY2xpZW50cy5nZXQoY2xpZW50KTtcbiAgaWYgKHN0cnVjdHMgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiAwXG4gIH1cbiAgY29uc3QgbGFzdFN0cnVjdCA9IHN0cnVjdHNbc3RydWN0cy5sZW5ndGggLSAxXTtcbiAgcmV0dXJuIGxhc3RTdHJ1Y3QuaWQuY2xvY2sgKyBsYXN0U3RydWN0Lmxlbmd0aFxufTtcblxuLyoqXG4gKiBAcGFyYW0ge1N0cnVjdFN0b3JlfSBzdG9yZVxuICogQHBhcmFtIHtHQ3xJdGVtfSBzdHJ1Y3RcbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IGFkZFN0cnVjdCA9IChzdG9yZSwgc3RydWN0KSA9PiB7XG4gIGxldCBzdHJ1Y3RzID0gc3RvcmUuY2xpZW50cy5nZXQoc3RydWN0LmlkLmNsaWVudCk7XG4gIGlmIChzdHJ1Y3RzID09PSB1bmRlZmluZWQpIHtcbiAgICBzdHJ1Y3RzID0gW107XG4gICAgc3RvcmUuY2xpZW50cy5zZXQoc3RydWN0LmlkLmNsaWVudCwgc3RydWN0cyk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgbGFzdFN0cnVjdCA9IHN0cnVjdHNbc3RydWN0cy5sZW5ndGggLSAxXTtcbiAgICBpZiAobGFzdFN0cnVjdC5pZC5jbG9jayArIGxhc3RTdHJ1Y3QubGVuZ3RoICE9PSBzdHJ1Y3QuaWQuY2xvY2spIHtcbiAgICAgIHRocm93IGVycm9yLnVuZXhwZWN0ZWRDYXNlKClcbiAgICB9XG4gIH1cbiAgc3RydWN0cy5wdXNoKHN0cnVjdCk7XG59O1xuXG4vKipcbiAqIFBlcmZvcm0gYSBiaW5hcnkgc2VhcmNoIG9uIGEgc29ydGVkIGFycmF5XG4gKiBAcGFyYW0ge0FycmF5PEl0ZW18R0M+fSBzdHJ1Y3RzXG4gKiBAcGFyYW0ge251bWJlcn0gY2xvY2tcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IGZpbmRJbmRleFNTID0gKHN0cnVjdHMsIGNsb2NrKSA9PiB7XG4gIGxldCBsZWZ0ID0gMDtcbiAgbGV0IHJpZ2h0ID0gc3RydWN0cy5sZW5ndGggLSAxO1xuICBsZXQgbWlkID0gc3RydWN0c1tyaWdodF07XG4gIGxldCBtaWRjbG9jayA9IG1pZC5pZC5jbG9jaztcbiAgaWYgKG1pZGNsb2NrID09PSBjbG9jaykge1xuICAgIHJldHVybiByaWdodFxuICB9XG4gIC8vIEB0b2RvIGRvZXMgaXQgZXZlbiBtYWtlIHNlbnNlIHRvIHBpdm90IHRoZSBzZWFyY2g/XG4gIC8vIElmIGEgZ29vZCBzcGxpdCBtaXNzZXMsIGl0IG1pZ2h0IGFjdHVhbGx5IGluY3JlYXNlIHRoZSB0aW1lIHRvIGZpbmQgdGhlIGNvcnJlY3QgaXRlbS5cbiAgLy8gQ3VycmVudGx5LCB0aGUgb25seSBhZHZhbnRhZ2UgaXMgdGhhdCBzZWFyY2ggd2l0aCBwaXZvdGluZyBtaWdodCBmaW5kIHRoZSBpdGVtIG9uIHRoZSBmaXJzdCB0cnkuXG4gIGxldCBtaWRpbmRleCA9IG1hdGguZmxvb3IoKGNsb2NrIC8gKG1pZGNsb2NrICsgbWlkLmxlbmd0aCAtIDEpKSAqIHJpZ2h0KTsgLy8gcGl2b3RpbmcgdGhlIHNlYXJjaFxuICB3aGlsZSAobGVmdCA8PSByaWdodCkge1xuICAgIG1pZCA9IHN0cnVjdHNbbWlkaW5kZXhdO1xuICAgIG1pZGNsb2NrID0gbWlkLmlkLmNsb2NrO1xuICAgIGlmIChtaWRjbG9jayA8PSBjbG9jaykge1xuICAgICAgaWYgKGNsb2NrIDwgbWlkY2xvY2sgKyBtaWQubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBtaWRpbmRleFxuICAgICAgfVxuICAgICAgbGVmdCA9IG1pZGluZGV4ICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmlnaHQgPSBtaWRpbmRleCAtIDE7XG4gICAgfVxuICAgIG1pZGluZGV4ID0gbWF0aC5mbG9vcigobGVmdCArIHJpZ2h0KSAvIDIpO1xuICB9XG4gIC8vIEFsd2F5cyBjaGVjayBzdGF0ZSBiZWZvcmUgbG9va2luZyBmb3IgYSBzdHJ1Y3QgaW4gU3RydWN0U3RvcmVcbiAgLy8gVGhlcmVmb3JlIHRoZSBjYXNlIG9mIG5vdCBmaW5kaW5nIGEgc3RydWN0IGlzIHVuZXhwZWN0ZWRcbiAgdGhyb3cgZXJyb3IudW5leHBlY3RlZENhc2UoKVxufTtcblxuLyoqXG4gKiBFeHBlY3RzIHRoYXQgaWQgaXMgYWN0dWFsbHkgaW4gc3RvcmUuIFRoaXMgZnVuY3Rpb24gdGhyb3dzIG9yIGlzIGFuIGluZmluaXRlIGxvb3Agb3RoZXJ3aXNlLlxuICpcbiAqIEBwYXJhbSB7U3RydWN0U3RvcmV9IHN0b3JlXG4gKiBAcGFyYW0ge0lEfSBpZFxuICogQHJldHVybiB7R0N8SXRlbX1cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IGZpbmQgPSAoc3RvcmUsIGlkKSA9PiB7XG4gIC8qKlxuICAgKiBAdHlwZSB7QXJyYXk8R0N8SXRlbT59XG4gICAqL1xuICAvLyBAdHMtaWdub3JlXG4gIGNvbnN0IHN0cnVjdHMgPSBzdG9yZS5jbGllbnRzLmdldChpZC5jbGllbnQpO1xuICByZXR1cm4gc3RydWN0c1tmaW5kSW5kZXhTUyhzdHJ1Y3RzLCBpZC5jbG9jayldXG59O1xuXG4vKipcbiAqIEV4cGVjdHMgdGhhdCBpZCBpcyBhY3R1YWxseSBpbiBzdG9yZS4gVGhpcyBmdW5jdGlvbiB0aHJvd3Mgb3IgaXMgYW4gaW5maW5pdGUgbG9vcCBvdGhlcndpc2UuXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IGdldEl0ZW0gPSAvKiogQHR5cGUge2Z1bmN0aW9uKFN0cnVjdFN0b3JlLElEKTpJdGVtfSAqLyAoZmluZCk7XG5cbi8qKlxuICogQHBhcmFtIHtUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAqIEBwYXJhbSB7QXJyYXk8SXRlbXxHQz59IHN0cnVjdHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBjbG9ja1xuICovXG5jb25zdCBmaW5kSW5kZXhDbGVhblN0YXJ0ID0gKHRyYW5zYWN0aW9uLCBzdHJ1Y3RzLCBjbG9jaykgPT4ge1xuICBjb25zdCBpbmRleCA9IGZpbmRJbmRleFNTKHN0cnVjdHMsIGNsb2NrKTtcbiAgY29uc3Qgc3RydWN0ID0gc3RydWN0c1tpbmRleF07XG4gIGlmIChzdHJ1Y3QuaWQuY2xvY2sgPCBjbG9jayAmJiBzdHJ1Y3QgaW5zdGFuY2VvZiBJdGVtKSB7XG4gICAgc3RydWN0cy5zcGxpY2UoaW5kZXggKyAxLCAwLCBzcGxpdEl0ZW0odHJhbnNhY3Rpb24sIHN0cnVjdCwgY2xvY2sgLSBzdHJ1Y3QuaWQuY2xvY2spKTtcbiAgICByZXR1cm4gaW5kZXggKyAxXG4gIH1cbiAgcmV0dXJuIGluZGV4XG59O1xuXG4vKipcbiAqIEV4cGVjdHMgdGhhdCBpZCBpcyBhY3R1YWxseSBpbiBzdG9yZS4gVGhpcyBmdW5jdGlvbiB0aHJvd3Mgb3IgaXMgYW4gaW5maW5pdGUgbG9vcCBvdGhlcndpc2UuXG4gKlxuICogQHBhcmFtIHtUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAqIEBwYXJhbSB7SUR9IGlkXG4gKiBAcmV0dXJuIHtJdGVtfVxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgZ2V0SXRlbUNsZWFuU3RhcnQgPSAodHJhbnNhY3Rpb24sIGlkKSA9PiB7XG4gIGNvbnN0IHN0cnVjdHMgPSAvKiogQHR5cGUge0FycmF5PEl0ZW0+fSAqLyAodHJhbnNhY3Rpb24uZG9jLnN0b3JlLmNsaWVudHMuZ2V0KGlkLmNsaWVudCkpO1xuICByZXR1cm4gc3RydWN0c1tmaW5kSW5kZXhDbGVhblN0YXJ0KHRyYW5zYWN0aW9uLCBzdHJ1Y3RzLCBpZC5jbG9jayldXG59O1xuXG4vKipcbiAqIEV4cGVjdHMgdGhhdCBpZCBpcyBhY3R1YWxseSBpbiBzdG9yZS4gVGhpcyBmdW5jdGlvbiB0aHJvd3Mgb3IgaXMgYW4gaW5maW5pdGUgbG9vcCBvdGhlcndpc2UuXG4gKlxuICogQHBhcmFtIHtUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAqIEBwYXJhbSB7U3RydWN0U3RvcmV9IHN0b3JlXG4gKiBAcGFyYW0ge0lEfSBpZFxuICogQHJldHVybiB7SXRlbX1cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IGdldEl0ZW1DbGVhbkVuZCA9ICh0cmFuc2FjdGlvbiwgc3RvcmUsIGlkKSA9PiB7XG4gIC8qKlxuICAgKiBAdHlwZSB7QXJyYXk8SXRlbT59XG4gICAqL1xuICAvLyBAdHMtaWdub3JlXG4gIGNvbnN0IHN0cnVjdHMgPSBzdG9yZS5jbGllbnRzLmdldChpZC5jbGllbnQpO1xuICBjb25zdCBpbmRleCA9IGZpbmRJbmRleFNTKHN0cnVjdHMsIGlkLmNsb2NrKTtcbiAgY29uc3Qgc3RydWN0ID0gc3RydWN0c1tpbmRleF07XG4gIGlmIChpZC5jbG9jayAhPT0gc3RydWN0LmlkLmNsb2NrICsgc3RydWN0Lmxlbmd0aCAtIDEgJiYgc3RydWN0LmNvbnN0cnVjdG9yICE9PSBHQykge1xuICAgIHN0cnVjdHMuc3BsaWNlKGluZGV4ICsgMSwgMCwgc3BsaXRJdGVtKHRyYW5zYWN0aW9uLCBzdHJ1Y3QsIGlkLmNsb2NrIC0gc3RydWN0LmlkLmNsb2NrICsgMSkpO1xuICB9XG4gIHJldHVybiBzdHJ1Y3Rcbn07XG5cbi8qKlxuICogUmVwbGFjZSBgaXRlbWAgd2l0aCBgbmV3aXRlbWAgaW4gc3RvcmVcbiAqIEBwYXJhbSB7U3RydWN0U3RvcmV9IHN0b3JlXG4gKiBAcGFyYW0ge0dDfEl0ZW19IHN0cnVjdFxuICogQHBhcmFtIHtHQ3xJdGVtfSBuZXdTdHJ1Y3RcbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IHJlcGxhY2VTdHJ1Y3QgPSAoc3RvcmUsIHN0cnVjdCwgbmV3U3RydWN0KSA9PiB7XG4gIGNvbnN0IHN0cnVjdHMgPSAvKiogQHR5cGUge0FycmF5PEdDfEl0ZW0+fSAqLyAoc3RvcmUuY2xpZW50cy5nZXQoc3RydWN0LmlkLmNsaWVudCkpO1xuICBzdHJ1Y3RzW2ZpbmRJbmRleFNTKHN0cnVjdHMsIHN0cnVjdC5pZC5jbG9jayldID0gbmV3U3RydWN0O1xufTtcblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYSByYW5nZSBvZiBzdHJ1Y3RzXG4gKlxuICogQHBhcmFtIHtUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAqIEBwYXJhbSB7QXJyYXk8SXRlbXxHQz59IHN0cnVjdHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBjbG9ja1N0YXJ0IEluY2x1c2l2ZSBzdGFydFxuICogQHBhcmFtIHtudW1iZXJ9IGxlblxuICogQHBhcmFtIHtmdW5jdGlvbihHQ3xJdGVtKTp2b2lkfSBmXG4gKlxuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IGl0ZXJhdGVTdHJ1Y3RzID0gKHRyYW5zYWN0aW9uLCBzdHJ1Y3RzLCBjbG9ja1N0YXJ0LCBsZW4sIGYpID0+IHtcbiAgaWYgKGxlbiA9PT0gMCkge1xuICAgIHJldHVyblxuICB9XG4gIGNvbnN0IGNsb2NrRW5kID0gY2xvY2tTdGFydCArIGxlbjtcbiAgbGV0IGluZGV4ID0gZmluZEluZGV4Q2xlYW5TdGFydCh0cmFuc2FjdGlvbiwgc3RydWN0cywgY2xvY2tTdGFydCk7XG4gIGxldCBzdHJ1Y3Q7XG4gIGRvIHtcbiAgICBzdHJ1Y3QgPSBzdHJ1Y3RzW2luZGV4KytdO1xuICAgIGlmIChjbG9ja0VuZCA8IHN0cnVjdC5pZC5jbG9jayArIHN0cnVjdC5sZW5ndGgpIHtcbiAgICAgIGZpbmRJbmRleENsZWFuU3RhcnQodHJhbnNhY3Rpb24sIHN0cnVjdHMsIGNsb2NrRW5kKTtcbiAgICB9XG4gICAgZihzdHJ1Y3QpO1xuICB9IHdoaWxlIChpbmRleCA8IHN0cnVjdHMubGVuZ3RoICYmIHN0cnVjdHNbaW5kZXhdLmlkLmNsb2NrIDwgY2xvY2tFbmQpXG59O1xuXG4vKipcbiAqIEEgdHJhbnNhY3Rpb24gaXMgY3JlYXRlZCBmb3IgZXZlcnkgY2hhbmdlIG9uIHRoZSBZanMgbW9kZWwuIEl0IGlzIHBvc3NpYmxlXG4gKiB0byBidW5kbGUgY2hhbmdlcyBvbiB0aGUgWWpzIG1vZGVsIGluIGEgc2luZ2xlIHRyYW5zYWN0aW9uIHRvXG4gKiBtaW5pbWl6ZSB0aGUgbnVtYmVyIG9uIG1lc3NhZ2VzIHNlbnQgYW5kIHRoZSBudW1iZXIgb2Ygb2JzZXJ2ZXIgY2FsbHMuXG4gKiBJZiBwb3NzaWJsZSB0aGUgdXNlciBvZiB0aGlzIGxpYnJhcnkgc2hvdWxkIGJ1bmRsZSBhcyBtYW55IGNoYW5nZXMgYXNcbiAqIHBvc3NpYmxlLiBIZXJlIGlzIGFuIGV4YW1wbGUgdG8gaWxsdXN0cmF0ZSB0aGUgYWR2YW50YWdlcyBvZiBidW5kbGluZzpcbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3QgbWFwID0geS5kZWZpbmUoJ21hcCcsIFlNYXApXG4gKiAvLyBMb2cgY29udGVudCB3aGVuIGNoYW5nZSBpcyB0cmlnZ2VyZWRcbiAqIG1hcC5vYnNlcnZlKCgpID0+IHtcbiAqICAgY29uc29sZS5sb2coJ2NoYW5nZSB0cmlnZ2VyZWQnKVxuICogfSlcbiAqIC8vIEVhY2ggY2hhbmdlIG9uIHRoZSBtYXAgdHlwZSB0cmlnZ2VycyBhIGxvZyBtZXNzYWdlOlxuICogbWFwLnNldCgnYScsIDApIC8vID0+IFwiY2hhbmdlIHRyaWdnZXJlZFwiXG4gKiBtYXAuc2V0KCdiJywgMCkgLy8gPT4gXCJjaGFuZ2UgdHJpZ2dlcmVkXCJcbiAqIC8vIFdoZW4gcHV0IGluIGEgdHJhbnNhY3Rpb24sIGl0IHdpbGwgdHJpZ2dlciB0aGUgbG9nIGFmdGVyIHRoZSB0cmFuc2FjdGlvbjpcbiAqIHkudHJhbnNhY3QoKCkgPT4ge1xuICogICBtYXAuc2V0KCdhJywgMSlcbiAqICAgbWFwLnNldCgnYicsIDEpXG4gKiB9KSAvLyA9PiBcImNoYW5nZSB0cmlnZ2VyZWRcIlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuY2xhc3MgVHJhbnNhY3Rpb24ge1xuICAvKipcbiAgICogQHBhcmFtIHtEb2N9IGRvY1xuICAgKiBAcGFyYW0ge2FueX0gb3JpZ2luXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gbG9jYWxcbiAgICovXG4gIGNvbnN0cnVjdG9yIChkb2MsIG9yaWdpbiwgbG9jYWwpIHtcbiAgICAvKipcbiAgICAgKiBUaGUgWWpzIGluc3RhbmNlLlxuICAgICAqIEB0eXBlIHtEb2N9XG4gICAgICovXG4gICAgdGhpcy5kb2MgPSBkb2M7XG4gICAgLyoqXG4gICAgICogRGVzY3JpYmVzIHRoZSBzZXQgb2YgZGVsZXRlZCBpdGVtcyBieSBpZHNcbiAgICAgKiBAdHlwZSB7RGVsZXRlU2V0fVxuICAgICAqL1xuICAgIHRoaXMuZGVsZXRlU2V0ID0gbmV3IERlbGV0ZVNldCgpO1xuICAgIC8qKlxuICAgICAqIEhvbGRzIHRoZSBzdGF0ZSBiZWZvcmUgdGhlIHRyYW5zYWN0aW9uIHN0YXJ0ZWQuXG4gICAgICogQHR5cGUge01hcDxOdW1iZXIsTnVtYmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLmJlZm9yZVN0YXRlID0gZ2V0U3RhdGVWZWN0b3IoZG9jLnN0b3JlKTtcbiAgICAvKipcbiAgICAgKiBIb2xkcyB0aGUgc3RhdGUgYWZ0ZXIgdGhlIHRyYW5zYWN0aW9uLlxuICAgICAqIEB0eXBlIHtNYXA8TnVtYmVyLE51bWJlcj59XG4gICAgICovXG4gICAgdGhpcy5hZnRlclN0YXRlID0gbmV3IE1hcCgpO1xuICAgIC8qKlxuICAgICAqIEFsbCB0eXBlcyB0aGF0IHdlcmUgZGlyZWN0bHkgbW9kaWZpZWQgKHByb3BlcnR5IGFkZGVkIG9yIGNoaWxkXG4gICAgICogaW5zZXJ0ZWQvZGVsZXRlZCkuIE5ldyB0eXBlcyBhcmUgbm90IGluY2x1ZGVkIGluIHRoaXMgU2V0LlxuICAgICAqIE1hcHMgZnJvbSB0eXBlIHRvIHBhcmVudFN1YnMgKGBpdGVtLnBhcmVudFN1YiA9IG51bGxgIGZvciBZQXJyYXkpXG4gICAgICogQHR5cGUge01hcDxBYnN0cmFjdFR5cGU8WUV2ZW50PGFueT4+LFNldDxTdHJpbmd8bnVsbD4+fVxuICAgICAqL1xuICAgIHRoaXMuY2hhbmdlZCA9IG5ldyBNYXAoKTtcbiAgICAvKipcbiAgICAgKiBTdG9yZXMgdGhlIGV2ZW50cyBmb3IgdGhlIHR5cGVzIHRoYXQgb2JzZXJ2ZSBhbHNvIGNoaWxkIGVsZW1lbnRzLlxuICAgICAqIEl0IGlzIG1haW5seSB1c2VkIGJ5IGBvYnNlcnZlRGVlcGAuXG4gICAgICogQHR5cGUge01hcDxBYnN0cmFjdFR5cGU8WUV2ZW50PGFueT4+LEFycmF5PFlFdmVudDxhbnk+Pj59XG4gICAgICovXG4gICAgdGhpcy5jaGFuZ2VkUGFyZW50VHlwZXMgPSBuZXcgTWFwKCk7XG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5PEFic3RyYWN0U3RydWN0Pn1cbiAgICAgKi9cbiAgICB0aGlzLl9tZXJnZVN0cnVjdHMgPSBbXTtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7YW55fVxuICAgICAqL1xuICAgIHRoaXMub3JpZ2luID0gb3JpZ2luO1xuICAgIC8qKlxuICAgICAqIFN0b3JlcyBtZXRhIGluZm9ybWF0aW9uIG9uIHRoZSB0cmFuc2FjdGlvblxuICAgICAqIEB0eXBlIHtNYXA8YW55LGFueT59XG4gICAgICovXG4gICAgdGhpcy5tZXRhID0gbmV3IE1hcCgpO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyBjaGFuZ2Ugb3JpZ2luYXRlcyBmcm9tIHRoaXMgZG9jLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMubG9jYWwgPSBsb2NhbDtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7U2V0PERvYz59XG4gICAgICovXG4gICAgdGhpcy5zdWJkb2NzQWRkZWQgPSBuZXcgU2V0KCk7XG4gICAgLyoqXG4gICAgICogQHR5cGUge1NldDxEb2M+fVxuICAgICAqL1xuICAgIHRoaXMuc3ViZG9jc1JlbW92ZWQgPSBuZXcgU2V0KCk7XG4gICAgLyoqXG4gICAgICogQHR5cGUge1NldDxEb2M+fVxuICAgICAqL1xuICAgIHRoaXMuc3ViZG9jc0xvYWRlZCA9IG5ldyBTZXQoKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7VXBkYXRlRW5jb2RlclYxIHwgVXBkYXRlRW5jb2RlclYyfSBlbmNvZGVyXG4gKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBkYXRhIHdhcyB3cml0dGVuLlxuICovXG5jb25zdCB3cml0ZVVwZGF0ZU1lc3NhZ2VGcm9tVHJhbnNhY3Rpb24gPSAoZW5jb2RlciwgdHJhbnNhY3Rpb24pID0+IHtcbiAgaWYgKHRyYW5zYWN0aW9uLmRlbGV0ZVNldC5jbGllbnRzLnNpemUgPT09IDAgJiYgIW1hcC5hbnkodHJhbnNhY3Rpb24uYWZ0ZXJTdGF0ZSwgKGNsb2NrLCBjbGllbnQpID0+IHRyYW5zYWN0aW9uLmJlZm9yZVN0YXRlLmdldChjbGllbnQpICE9PSBjbG9jaykpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICBzb3J0QW5kTWVyZ2VEZWxldGVTZXQodHJhbnNhY3Rpb24uZGVsZXRlU2V0KTtcbiAgd3JpdGVTdHJ1Y3RzRnJvbVRyYW5zYWN0aW9uKGVuY29kZXIsIHRyYW5zYWN0aW9uKTtcbiAgd3JpdGVEZWxldGVTZXQoZW5jb2RlciwgdHJhbnNhY3Rpb24uZGVsZXRlU2V0KTtcbiAgcmV0dXJuIHRydWVcbn07XG5cbi8qKlxuICogSWYgYHR5cGUucGFyZW50YCB3YXMgYWRkZWQgaW4gY3VycmVudCB0cmFuc2FjdGlvbiwgYHR5cGVgIHRlY2huaWNhbGx5XG4gKiBkaWQgbm90IGNoYW5nZSwgaXQgd2FzIGp1c3QgYWRkZWQgYW5kIHdlIHNob3VsZCBub3QgZmlyZSBldmVudHMgZm9yIGB0eXBlYC5cbiAqXG4gKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICogQHBhcmFtIHtBYnN0cmFjdFR5cGU8WUV2ZW50PGFueT4+fSB0eXBlXG4gKiBAcGFyYW0ge3N0cmluZ3xudWxsfSBwYXJlbnRTdWJcbiAqL1xuY29uc3QgYWRkQ2hhbmdlZFR5cGVUb1RyYW5zYWN0aW9uID0gKHRyYW5zYWN0aW9uLCB0eXBlLCBwYXJlbnRTdWIpID0+IHtcbiAgY29uc3QgaXRlbSA9IHR5cGUuX2l0ZW07XG4gIGlmIChpdGVtID09PSBudWxsIHx8IChpdGVtLmlkLmNsb2NrIDwgKHRyYW5zYWN0aW9uLmJlZm9yZVN0YXRlLmdldChpdGVtLmlkLmNsaWVudCkgfHwgMCkgJiYgIWl0ZW0uZGVsZXRlZCkpIHtcbiAgICBtYXAuc2V0SWZVbmRlZmluZWQodHJhbnNhY3Rpb24uY2hhbmdlZCwgdHlwZSwgc2V0LmNyZWF0ZSkuYWRkKHBhcmVudFN1Yik7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxBYnN0cmFjdFN0cnVjdD59IHN0cnVjdHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBwb3NcbiAqL1xuY29uc3QgdHJ5VG9NZXJnZVdpdGhMZWZ0ID0gKHN0cnVjdHMsIHBvcykgPT4ge1xuICBjb25zdCBsZWZ0ID0gc3RydWN0c1twb3MgLSAxXTtcbiAgY29uc3QgcmlnaHQgPSBzdHJ1Y3RzW3Bvc107XG4gIGlmIChsZWZ0LmRlbGV0ZWQgPT09IHJpZ2h0LmRlbGV0ZWQgJiYgbGVmdC5jb25zdHJ1Y3RvciA9PT0gcmlnaHQuY29uc3RydWN0b3IpIHtcbiAgICBpZiAobGVmdC5tZXJnZVdpdGgocmlnaHQpKSB7XG4gICAgICBzdHJ1Y3RzLnNwbGljZShwb3MsIDEpO1xuICAgICAgaWYgKHJpZ2h0IGluc3RhbmNlb2YgSXRlbSAmJiByaWdodC5wYXJlbnRTdWIgIT09IG51bGwgJiYgLyoqIEB0eXBlIHtBYnN0cmFjdFR5cGU8YW55Pn0gKi8gKHJpZ2h0LnBhcmVudCkuX21hcC5nZXQocmlnaHQucGFyZW50U3ViKSA9PT0gcmlnaHQpIHtcbiAgICAgICAgLyoqIEB0eXBlIHtBYnN0cmFjdFR5cGU8YW55Pn0gKi8gKHJpZ2h0LnBhcmVudCkuX21hcC5zZXQocmlnaHQucGFyZW50U3ViLCAvKiogQHR5cGUge0l0ZW19ICovIChsZWZ0KSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7RGVsZXRlU2V0fSBkc1xuICogQHBhcmFtIHtTdHJ1Y3RTdG9yZX0gc3RvcmVcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oSXRlbSk6Ym9vbGVhbn0gZ2NGaWx0ZXJcbiAqL1xuY29uc3QgdHJ5R2NEZWxldGVTZXQgPSAoZHMsIHN0b3JlLCBnY0ZpbHRlcikgPT4ge1xuICBmb3IgKGNvbnN0IFtjbGllbnQsIGRlbGV0ZUl0ZW1zXSBvZiBkcy5jbGllbnRzLmVudHJpZXMoKSkge1xuICAgIGNvbnN0IHN0cnVjdHMgPSAvKiogQHR5cGUge0FycmF5PEdDfEl0ZW0+fSAqLyAoc3RvcmUuY2xpZW50cy5nZXQoY2xpZW50KSk7XG4gICAgZm9yIChsZXQgZGkgPSBkZWxldGVJdGVtcy5sZW5ndGggLSAxOyBkaSA+PSAwOyBkaS0tKSB7XG4gICAgICBjb25zdCBkZWxldGVJdGVtID0gZGVsZXRlSXRlbXNbZGldO1xuICAgICAgY29uc3QgZW5kRGVsZXRlSXRlbUNsb2NrID0gZGVsZXRlSXRlbS5jbG9jayArIGRlbGV0ZUl0ZW0ubGVuO1xuICAgICAgZm9yIChcbiAgICAgICAgbGV0IHNpID0gZmluZEluZGV4U1Moc3RydWN0cywgZGVsZXRlSXRlbS5jbG9jayksIHN0cnVjdCA9IHN0cnVjdHNbc2ldO1xuICAgICAgICBzaSA8IHN0cnVjdHMubGVuZ3RoICYmIHN0cnVjdC5pZC5jbG9jayA8IGVuZERlbGV0ZUl0ZW1DbG9jaztcbiAgICAgICAgc3RydWN0ID0gc3RydWN0c1srK3NpXVxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IHN0cnVjdCA9IHN0cnVjdHNbc2ldO1xuICAgICAgICBpZiAoZGVsZXRlSXRlbS5jbG9jayArIGRlbGV0ZUl0ZW0ubGVuIDw9IHN0cnVjdC5pZC5jbG9jaykge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0cnVjdCBpbnN0YW5jZW9mIEl0ZW0gJiYgc3RydWN0LmRlbGV0ZWQgJiYgIXN0cnVjdC5rZWVwICYmIGdjRmlsdGVyKHN0cnVjdCkpIHtcbiAgICAgICAgICBzdHJ1Y3QuZ2Moc3RvcmUsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge0RlbGV0ZVNldH0gZHNcbiAqIEBwYXJhbSB7U3RydWN0U3RvcmV9IHN0b3JlXG4gKi9cbmNvbnN0IHRyeU1lcmdlRGVsZXRlU2V0ID0gKGRzLCBzdG9yZSkgPT4ge1xuICAvLyB0cnkgdG8gbWVyZ2UgZGVsZXRlZCAvIGdjJ2QgaXRlbXNcbiAgLy8gbWVyZ2UgZnJvbSByaWdodCB0byBsZWZ0IGZvciBiZXR0ZXIgZWZmaWNpZWN5IGFuZCBzbyB3ZSBkb24ndCBtaXNzIGFueSBtZXJnZSB0YXJnZXRzXG4gIGRzLmNsaWVudHMuZm9yRWFjaCgoZGVsZXRlSXRlbXMsIGNsaWVudCkgPT4ge1xuICAgIGNvbnN0IHN0cnVjdHMgPSAvKiogQHR5cGUge0FycmF5PEdDfEl0ZW0+fSAqLyAoc3RvcmUuY2xpZW50cy5nZXQoY2xpZW50KSk7XG4gICAgZm9yIChsZXQgZGkgPSBkZWxldGVJdGVtcy5sZW5ndGggLSAxOyBkaSA+PSAwOyBkaS0tKSB7XG4gICAgICBjb25zdCBkZWxldGVJdGVtID0gZGVsZXRlSXRlbXNbZGldO1xuICAgICAgLy8gc3RhcnQgd2l0aCBtZXJnaW5nIHRoZSBpdGVtIG5leHQgdG8gdGhlIGxhc3QgZGVsZXRlZCBpdGVtXG4gICAgICBjb25zdCBtb3N0UmlnaHRJbmRleFRvQ2hlY2sgPSBtYXRoLm1pbihzdHJ1Y3RzLmxlbmd0aCAtIDEsIDEgKyBmaW5kSW5kZXhTUyhzdHJ1Y3RzLCBkZWxldGVJdGVtLmNsb2NrICsgZGVsZXRlSXRlbS5sZW4gLSAxKSk7XG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgc2kgPSBtb3N0UmlnaHRJbmRleFRvQ2hlY2ssIHN0cnVjdCA9IHN0cnVjdHNbc2ldO1xuICAgICAgICBzaSA+IDAgJiYgc3RydWN0LmlkLmNsb2NrID49IGRlbGV0ZUl0ZW0uY2xvY2s7XG4gICAgICAgIHN0cnVjdCA9IHN0cnVjdHNbLS1zaV1cbiAgICAgICkge1xuICAgICAgICB0cnlUb01lcmdlV2l0aExlZnQoc3RydWN0cywgc2kpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7RGVsZXRlU2V0fSBkc1xuICogQHBhcmFtIHtTdHJ1Y3RTdG9yZX0gc3RvcmVcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oSXRlbSk6Ym9vbGVhbn0gZ2NGaWx0ZXJcbiAqL1xuY29uc3QgdHJ5R2MgPSAoZHMsIHN0b3JlLCBnY0ZpbHRlcikgPT4ge1xuICB0cnlHY0RlbGV0ZVNldChkcywgc3RvcmUsIGdjRmlsdGVyKTtcbiAgdHJ5TWVyZ2VEZWxldGVTZXQoZHMsIHN0b3JlKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxUcmFuc2FjdGlvbj59IHRyYW5zYWN0aW9uQ2xlYW51cHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBpXG4gKi9cbmNvbnN0IGNsZWFudXBUcmFuc2FjdGlvbnMgPSAodHJhbnNhY3Rpb25DbGVhbnVwcywgaSkgPT4ge1xuICBpZiAoaSA8IHRyYW5zYWN0aW9uQ2xlYW51cHMubGVuZ3RoKSB7XG4gICAgY29uc3QgdHJhbnNhY3Rpb24gPSB0cmFuc2FjdGlvbkNsZWFudXBzW2ldO1xuICAgIGNvbnN0IGRvYyA9IHRyYW5zYWN0aW9uLmRvYztcbiAgICBjb25zdCBzdG9yZSA9IGRvYy5zdG9yZTtcbiAgICBjb25zdCBkcyA9IHRyYW5zYWN0aW9uLmRlbGV0ZVNldDtcbiAgICBjb25zdCBtZXJnZVN0cnVjdHMgPSB0cmFuc2FjdGlvbi5fbWVyZ2VTdHJ1Y3RzO1xuICAgIHRyeSB7XG4gICAgICBzb3J0QW5kTWVyZ2VEZWxldGVTZXQoZHMpO1xuICAgICAgdHJhbnNhY3Rpb24uYWZ0ZXJTdGF0ZSA9IGdldFN0YXRlVmVjdG9yKHRyYW5zYWN0aW9uLmRvYy5zdG9yZSk7XG4gICAgICBkb2MuX3RyYW5zYWN0aW9uID0gbnVsbDtcbiAgICAgIGRvYy5lbWl0KCdiZWZvcmVPYnNlcnZlckNhbGxzJywgW3RyYW5zYWN0aW9uLCBkb2NdKTtcbiAgICAgIC8qKlxuICAgICAgICogQW4gYXJyYXkgb2YgZXZlbnQgY2FsbGJhY2tzLlxuICAgICAgICpcbiAgICAgICAqIEVhY2ggY2FsbGJhY2sgaXMgY2FsbGVkIGV2ZW4gaWYgdGhlIG90aGVyIG9uZXMgdGhyb3cgZXJyb3JzLlxuICAgICAgICpcbiAgICAgICAqIEB0eXBlIHtBcnJheTxmdW5jdGlvbigpOnZvaWQ+fVxuICAgICAgICovXG4gICAgICBjb25zdCBmcyA9IFtdO1xuICAgICAgLy8gb2JzZXJ2ZSBldmVudHMgb24gY2hhbmdlZCB0eXBlc1xuICAgICAgdHJhbnNhY3Rpb24uY2hhbmdlZC5mb3JFYWNoKChzdWJzLCBpdGVtdHlwZSkgPT5cbiAgICAgICAgZnMucHVzaCgoKSA9PiB7XG4gICAgICAgICAgaWYgKGl0ZW10eXBlLl9pdGVtID09PSBudWxsIHx8ICFpdGVtdHlwZS5faXRlbS5kZWxldGVkKSB7XG4gICAgICAgICAgICBpdGVtdHlwZS5fY2FsbE9ic2VydmVyKHRyYW5zYWN0aW9uLCBzdWJzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgZnMucHVzaCgoKSA9PiB7XG4gICAgICAgIC8vIGRlZXAgb2JzZXJ2ZSBldmVudHNcbiAgICAgICAgdHJhbnNhY3Rpb24uY2hhbmdlZFBhcmVudFR5cGVzLmZvckVhY2goKGV2ZW50cywgdHlwZSkgPT5cbiAgICAgICAgICBmcy5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gdGhpbmsgYWJvdXQgdGhlIHBvc3NpYmlsaXR5IHRoYXQgdGhlIHVzZXIgdHJhbnNmb3JtcyB0aGVcbiAgICAgICAgICAgIC8vIFkuRG9jIGluIHRoZSBldmVudC5cbiAgICAgICAgICAgIGlmICh0eXBlLl9pdGVtID09PSBudWxsIHx8ICF0eXBlLl9pdGVtLmRlbGV0ZWQpIHtcbiAgICAgICAgICAgICAgZXZlbnRzID0gZXZlbnRzXG4gICAgICAgICAgICAgICAgLmZpbHRlcihldmVudCA9PlxuICAgICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0Ll9pdGVtID09PSBudWxsIHx8ICFldmVudC50YXJnZXQuX2l0ZW0uZGVsZXRlZFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGV2ZW50c1xuICAgICAgICAgICAgICAgIC5mb3JFYWNoKGV2ZW50ID0+IHtcbiAgICAgICAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQgPSB0eXBlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAvLyBzb3J0IGV2ZW50cyBieSBwYXRoIGxlbmd0aCBzbyB0aGF0IHRvcC1sZXZlbCBldmVudHMgYXJlIGZpcmVkIGZpcnN0LlxuICAgICAgICAgICAgICBldmVudHNcbiAgICAgICAgICAgICAgICAuc29ydCgoZXZlbnQxLCBldmVudDIpID0+IGV2ZW50MS5wYXRoLmxlbmd0aCAtIGV2ZW50Mi5wYXRoLmxlbmd0aCk7XG4gICAgICAgICAgICAgIC8vIFdlIGRvbid0IG5lZWQgdG8gY2hlY2sgZm9yIGV2ZW50cy5sZW5ndGhcbiAgICAgICAgICAgICAgLy8gYmVjYXVzZSB3ZSBrbm93IGl0IGhhcyBhdCBsZWFzdCBvbmUgZWxlbWVudFxuICAgICAgICAgICAgICBjYWxsRXZlbnRIYW5kbGVyTGlzdGVuZXJzKHR5cGUuX2RFSCwgZXZlbnRzLCB0cmFuc2FjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgICAgZnMucHVzaCgoKSA9PiBkb2MuZW1pdCgnYWZ0ZXJUcmFuc2FjdGlvbicsIFt0cmFuc2FjdGlvbiwgZG9jXSkpO1xuICAgICAgfSk7XG4gICAgICBjYWxsQWxsKGZzLCBbXSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIC8vIFJlcGxhY2UgZGVsZXRlZCBpdGVtcyB3aXRoIEl0ZW1EZWxldGVkIC8gR0MuXG4gICAgICAvLyBUaGlzIGlzIHdoZXJlIGNvbnRlbnQgaXMgYWN0dWFsbHkgcmVtb3ZlIGZyb20gdGhlIFlqcyBEb2MuXG4gICAgICBpZiAoZG9jLmdjKSB7XG4gICAgICAgIHRyeUdjRGVsZXRlU2V0KGRzLCBzdG9yZSwgZG9jLmdjRmlsdGVyKTtcbiAgICAgIH1cbiAgICAgIHRyeU1lcmdlRGVsZXRlU2V0KGRzLCBzdG9yZSk7XG5cbiAgICAgIC8vIG9uIGFsbCBhZmZlY3RlZCBzdG9yZS5jbGllbnRzIHByb3BzLCB0cnkgdG8gbWVyZ2VcbiAgICAgIHRyYW5zYWN0aW9uLmFmdGVyU3RhdGUuZm9yRWFjaCgoY2xvY2ssIGNsaWVudCkgPT4ge1xuICAgICAgICBjb25zdCBiZWZvcmVDbG9jayA9IHRyYW5zYWN0aW9uLmJlZm9yZVN0YXRlLmdldChjbGllbnQpIHx8IDA7XG4gICAgICAgIGlmIChiZWZvcmVDbG9jayAhPT0gY2xvY2spIHtcbiAgICAgICAgICBjb25zdCBzdHJ1Y3RzID0gLyoqIEB0eXBlIHtBcnJheTxHQ3xJdGVtPn0gKi8gKHN0b3JlLmNsaWVudHMuZ2V0KGNsaWVudCkpO1xuICAgICAgICAgIC8vIHdlIGl0ZXJhdGUgZnJvbSByaWdodCB0byBsZWZ0IHNvIHdlIGNhbiBzYWZlbHkgcmVtb3ZlIGVudHJpZXNcbiAgICAgICAgICBjb25zdCBmaXJzdENoYW5nZVBvcyA9IG1hdGgubWF4KGZpbmRJbmRleFNTKHN0cnVjdHMsIGJlZm9yZUNsb2NrKSwgMSk7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IHN0cnVjdHMubGVuZ3RoIC0gMTsgaSA+PSBmaXJzdENoYW5nZVBvczsgaS0tKSB7XG4gICAgICAgICAgICB0cnlUb01lcmdlV2l0aExlZnQoc3RydWN0cywgaSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIHRyeSB0byBtZXJnZSBtZXJnZVN0cnVjdHNcbiAgICAgIC8vIEB0b2RvOiBpdCBtYWtlcyBtb3JlIHNlbnNlIHRvIHRyYW5zZm9ybSBtZXJnZVN0cnVjdHMgdG8gYSBEUywgc29ydCBpdCwgYW5kIG1lcmdlIGZyb20gcmlnaHQgdG8gbGVmdFxuICAgICAgLy8gICAgICAgIGJ1dCBhdCB0aGUgbW9tZW50IERTIGRvZXMgbm90IGhhbmRsZSBkdXBsaWNhdGVzXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lcmdlU3RydWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB7IGNsaWVudCwgY2xvY2sgfSA9IG1lcmdlU3RydWN0c1tpXS5pZDtcbiAgICAgICAgY29uc3Qgc3RydWN0cyA9IC8qKiBAdHlwZSB7QXJyYXk8R0N8SXRlbT59ICovIChzdG9yZS5jbGllbnRzLmdldChjbGllbnQpKTtcbiAgICAgICAgY29uc3QgcmVwbGFjZWRTdHJ1Y3RQb3MgPSBmaW5kSW5kZXhTUyhzdHJ1Y3RzLCBjbG9jayk7XG4gICAgICAgIGlmIChyZXBsYWNlZFN0cnVjdFBvcyArIDEgPCBzdHJ1Y3RzLmxlbmd0aCkge1xuICAgICAgICAgIHRyeVRvTWVyZ2VXaXRoTGVmdChzdHJ1Y3RzLCByZXBsYWNlZFN0cnVjdFBvcyArIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXBsYWNlZFN0cnVjdFBvcyA+IDApIHtcbiAgICAgICAgICB0cnlUb01lcmdlV2l0aExlZnQoc3RydWN0cywgcmVwbGFjZWRTdHJ1Y3RQb3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIXRyYW5zYWN0aW9uLmxvY2FsICYmIHRyYW5zYWN0aW9uLmFmdGVyU3RhdGUuZ2V0KGRvYy5jbGllbnRJRCkgIT09IHRyYW5zYWN0aW9uLmJlZm9yZVN0YXRlLmdldChkb2MuY2xpZW50SUQpKSB7XG4gICAgICAgIGxvZ2dpbmcucHJpbnQobG9nZ2luZy5PUkFOR0UsIGxvZ2dpbmcuQk9MRCwgJ1t5anNdICcsIGxvZ2dpbmcuVU5CT0xELCBsb2dnaW5nLlJFRCwgJ0NoYW5nZWQgdGhlIGNsaWVudC1pZCBiZWNhdXNlIGFub3RoZXIgY2xpZW50IHNlZW1zIHRvIGJlIHVzaW5nIGl0LicpO1xuICAgICAgICBkb2MuY2xpZW50SUQgPSBnZW5lcmF0ZU5ld0NsaWVudElkKCk7XG4gICAgICB9XG4gICAgICAvLyBAdG9kbyBNZXJnZSBhbGwgdGhlIHRyYW5zYWN0aW9ucyBpbnRvIG9uZSBhbmQgcHJvdmlkZSBzZW5kIHRoZSBkYXRhIGFzIGEgc2luZ2xlIHVwZGF0ZSBtZXNzYWdlXG4gICAgICBkb2MuZW1pdCgnYWZ0ZXJUcmFuc2FjdGlvbkNsZWFudXAnLCBbdHJhbnNhY3Rpb24sIGRvY10pO1xuICAgICAgaWYgKGRvYy5fb2JzZXJ2ZXJzLmhhcygndXBkYXRlJykpIHtcbiAgICAgICAgY29uc3QgZW5jb2RlciA9IG5ldyBVcGRhdGVFbmNvZGVyVjEoKTtcbiAgICAgICAgY29uc3QgaGFzQ29udGVudCA9IHdyaXRlVXBkYXRlTWVzc2FnZUZyb21UcmFuc2FjdGlvbihlbmNvZGVyLCB0cmFuc2FjdGlvbik7XG4gICAgICAgIGlmIChoYXNDb250ZW50KSB7XG4gICAgICAgICAgZG9jLmVtaXQoJ3VwZGF0ZScsIFtlbmNvZGVyLnRvVWludDhBcnJheSgpLCB0cmFuc2FjdGlvbi5vcmlnaW4sIGRvYywgdHJhbnNhY3Rpb25dKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGRvYy5fb2JzZXJ2ZXJzLmhhcygndXBkYXRlVjInKSkge1xuICAgICAgICBjb25zdCBlbmNvZGVyID0gbmV3IFVwZGF0ZUVuY29kZXJWMigpO1xuICAgICAgICBjb25zdCBoYXNDb250ZW50ID0gd3JpdGVVcGRhdGVNZXNzYWdlRnJvbVRyYW5zYWN0aW9uKGVuY29kZXIsIHRyYW5zYWN0aW9uKTtcbiAgICAgICAgaWYgKGhhc0NvbnRlbnQpIHtcbiAgICAgICAgICBkb2MuZW1pdCgndXBkYXRlVjInLCBbZW5jb2Rlci50b1VpbnQ4QXJyYXkoKSwgdHJhbnNhY3Rpb24ub3JpZ2luLCBkb2MsIHRyYW5zYWN0aW9uXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgc3ViZG9jc0FkZGVkLCBzdWJkb2NzTG9hZGVkLCBzdWJkb2NzUmVtb3ZlZCB9ID0gdHJhbnNhY3Rpb247XG4gICAgICBpZiAoc3ViZG9jc0FkZGVkLnNpemUgPiAwIHx8IHN1YmRvY3NSZW1vdmVkLnNpemUgPiAwIHx8IHN1YmRvY3NMb2FkZWQuc2l6ZSA+IDApIHtcbiAgICAgICAgc3ViZG9jc0FkZGVkLmZvckVhY2goc3ViZG9jID0+IHtcbiAgICAgICAgICBzdWJkb2MuY2xpZW50SUQgPSBkb2MuY2xpZW50SUQ7XG4gICAgICAgICAgaWYgKHN1YmRvYy5jb2xsZWN0aW9uaWQgPT0gbnVsbCkge1xuICAgICAgICAgICAgc3ViZG9jLmNvbGxlY3Rpb25pZCA9IGRvYy5jb2xsZWN0aW9uaWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRvYy5zdWJkb2NzLmFkZChzdWJkb2MpO1xuICAgICAgICB9KTtcbiAgICAgICAgc3ViZG9jc1JlbW92ZWQuZm9yRWFjaChzdWJkb2MgPT4gZG9jLnN1YmRvY3MuZGVsZXRlKHN1YmRvYykpO1xuICAgICAgICBkb2MuZW1pdCgnc3ViZG9jcycsIFt7IGxvYWRlZDogc3ViZG9jc0xvYWRlZCwgYWRkZWQ6IHN1YmRvY3NBZGRlZCwgcmVtb3ZlZDogc3ViZG9jc1JlbW92ZWQgfSwgZG9jLCB0cmFuc2FjdGlvbl0pO1xuICAgICAgICBzdWJkb2NzUmVtb3ZlZC5mb3JFYWNoKHN1YmRvYyA9PiBzdWJkb2MuZGVzdHJveSgpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRyYW5zYWN0aW9uQ2xlYW51cHMubGVuZ3RoIDw9IGkgKyAxKSB7XG4gICAgICAgIGRvYy5fdHJhbnNhY3Rpb25DbGVhbnVwcyA9IFtdO1xuICAgICAgICBkb2MuZW1pdCgnYWZ0ZXJBbGxUcmFuc2FjdGlvbnMnLCBbZG9jLCB0cmFuc2FjdGlvbkNsZWFudXBzXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbGVhbnVwVHJhbnNhY3Rpb25zKHRyYW5zYWN0aW9uQ2xlYW51cHMsIGkgKyAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogSW1wbGVtZW50cyB0aGUgZnVuY3Rpb25hbGl0eSBvZiBgeS50cmFuc2FjdCgoKT0+ey4ufSlgXG4gKlxuICogQHBhcmFtIHtEb2N9IGRvY1xuICogQHBhcmFtIHtmdW5jdGlvbihUcmFuc2FjdGlvbik6dm9pZH0gZlxuICogQHBhcmFtIHthbnl9IFtvcmlnaW49dHJ1ZV1cbiAqXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgdHJhbnNhY3QgPSAoZG9jLCBmLCBvcmlnaW4gPSBudWxsLCBsb2NhbCA9IHRydWUpID0+IHtcbiAgY29uc3QgdHJhbnNhY3Rpb25DbGVhbnVwcyA9IGRvYy5fdHJhbnNhY3Rpb25DbGVhbnVwcztcbiAgbGV0IGluaXRpYWxDYWxsID0gZmFsc2U7XG4gIGlmIChkb2MuX3RyYW5zYWN0aW9uID09PSBudWxsKSB7XG4gICAgaW5pdGlhbENhbGwgPSB0cnVlO1xuICAgIGRvYy5fdHJhbnNhY3Rpb24gPSBuZXcgVHJhbnNhY3Rpb24oZG9jLCBvcmlnaW4sIGxvY2FsKTtcbiAgICB0cmFuc2FjdGlvbkNsZWFudXBzLnB1c2goZG9jLl90cmFuc2FjdGlvbik7XG4gICAgaWYgKHRyYW5zYWN0aW9uQ2xlYW51cHMubGVuZ3RoID09PSAxKSB7XG4gICAgICBkb2MuZW1pdCgnYmVmb3JlQWxsVHJhbnNhY3Rpb25zJywgW2RvY10pO1xuICAgIH1cbiAgICBkb2MuZW1pdCgnYmVmb3JlVHJhbnNhY3Rpb24nLCBbZG9jLl90cmFuc2FjdGlvbiwgZG9jXSk7XG4gIH1cbiAgdHJ5IHtcbiAgICBmKGRvYy5fdHJhbnNhY3Rpb24pO1xuICB9IGZpbmFsbHkge1xuICAgIGlmIChpbml0aWFsQ2FsbCAmJiB0cmFuc2FjdGlvbkNsZWFudXBzWzBdID09PSBkb2MuX3RyYW5zYWN0aW9uKSB7XG4gICAgICAvLyBUaGUgZmlyc3QgdHJhbnNhY3Rpb24gZW5kZWQsIG5vdyBwcm9jZXNzIG9ic2VydmVyIGNhbGxzLlxuICAgICAgLy8gT2JzZXJ2ZXIgY2FsbCBtYXkgY3JlYXRlIG5ldyB0cmFuc2FjdGlvbnMgZm9yIHdoaWNoIHdlIG5lZWQgdG8gY2FsbCB0aGUgb2JzZXJ2ZXJzIGFuZCBkbyBjbGVhbnVwLlxuICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0byBuZXN0IHRoZXNlIGNhbGxzLCBzbyB3ZSBleGVjdXRlIHRoZXNlIGNhbGxzIG9uZSBhZnRlclxuICAgICAgLy8gYW5vdGhlci5cbiAgICAgIC8vIEFsc28gd2UgbmVlZCB0byBlbnN1cmUgdGhhdCBhbGwgY2xlYW51cHMgYXJlIGNhbGxlZCwgZXZlbiBpZiB0aGVcbiAgICAgIC8vIG9ic2VydmVzIHRocm93IGVycm9ycy5cbiAgICAgIC8vIFRoaXMgZmlsZSBpcyBmdWxsIG9mIGhhY2t5IHRyeSB7fSBmaW5hbGx5IHt9IGJsb2NrcyB0byBlbnN1cmUgdGhhdCBhblxuICAgICAgLy8gZXZlbnQgY2FuIHRocm93IGVycm9ycyBhbmQgYWxzbyB0aGF0IHRoZSBjbGVhbnVwIGlzIGNhbGxlZC5cbiAgICAgIGNsZWFudXBUcmFuc2FjdGlvbnModHJhbnNhY3Rpb25DbGVhbnVwcywgMCk7XG4gICAgfVxuICB9XG59O1xuXG5jbGFzcyBTdGFja0l0ZW0ge1xuICAvKipcbiAgICogQHBhcmFtIHtEZWxldGVTZXR9IGRlbGV0aW9uc1xuICAgKiBAcGFyYW0ge0RlbGV0ZVNldH0gaW5zZXJ0aW9uc1xuICAgKi9cbiAgY29uc3RydWN0b3IgKGRlbGV0aW9ucywgaW5zZXJ0aW9ucykge1xuICAgIHRoaXMuaW5zZXJ0aW9ucyA9IGluc2VydGlvbnM7XG4gICAgdGhpcy5kZWxldGlvbnMgPSBkZWxldGlvbnM7XG4gICAgLyoqXG4gICAgICogVXNlIHRoaXMgdG8gc2F2ZSBhbmQgcmVzdG9yZSBtZXRhZGF0YSBsaWtlIHNlbGVjdGlvbiByYW5nZVxuICAgICAqL1xuICAgIHRoaXMubWV0YSA9IG5ldyBNYXAoKTtcbiAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0clxuICogQHBhcmFtIHtVbmRvTWFuYWdlcn0gdW1cbiAqIEBwYXJhbSB7U3RhY2tJdGVtfSBzdGFja0l0ZW1cbiAqL1xuY29uc3QgY2xlYXJVbmRvTWFuYWdlclN0YWNrSXRlbSA9ICh0ciwgdW0sIHN0YWNrSXRlbSkgPT4ge1xuICBpdGVyYXRlRGVsZXRlZFN0cnVjdHModHIsIHN0YWNrSXRlbS5kZWxldGlvbnMsIGl0ZW0gPT4ge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgSXRlbSAmJiB1bS5zY29wZS5zb21lKHR5cGUgPT4gaXNQYXJlbnRPZih0eXBlLCBpdGVtKSkpIHtcbiAgICAgIGtlZXBJdGVtKGl0ZW0sIGZhbHNlKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge1VuZG9NYW5hZ2VyfSB1bmRvTWFuYWdlclxuICogQHBhcmFtIHtBcnJheTxTdGFja0l0ZW0+fSBzdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZVxuICogQHJldHVybiB7U3RhY2tJdGVtP31cbiAqL1xuY29uc3QgcG9wU3RhY2tJdGVtID0gKHVuZG9NYW5hZ2VyLCBzdGFjaywgZXZlbnRUeXBlKSA9PiB7XG4gIC8qKlxuICAgKiBXaGV0aGVyIGEgY2hhbmdlIGhhcHBlbmVkXG4gICAqIEB0eXBlIHtTdGFja0l0ZW0/fVxuICAgKi9cbiAgbGV0IHJlc3VsdCA9IG51bGw7XG4gIC8qKlxuICAgKiBLZWVwIGEgcmVmZXJlbmNlIHRvIHRoZSB0cmFuc2FjdGlvbiBzbyB3ZSBjYW4gZmlyZSB0aGUgZXZlbnQgd2l0aCB0aGUgY2hhbmdlZFBhcmVudFR5cGVzXG4gICAqIEB0eXBlIHthbnl9XG4gICAqL1xuICBsZXQgX3RyID0gbnVsbDtcbiAgY29uc3QgZG9jID0gdW5kb01hbmFnZXIuZG9jO1xuICBjb25zdCBzY29wZSA9IHVuZG9NYW5hZ2VyLnNjb3BlO1xuICB0cmFuc2FjdChkb2MsIHRyYW5zYWN0aW9uID0+IHtcbiAgICB3aGlsZSAoc3RhY2subGVuZ3RoID4gMCAmJiByZXN1bHQgPT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHN0b3JlID0gZG9jLnN0b3JlO1xuICAgICAgY29uc3Qgc3RhY2tJdGVtID0gLyoqIEB0eXBlIHtTdGFja0l0ZW19ICovIChzdGFjay5wb3AoKSk7XG4gICAgICAvKipcbiAgICAgICAqIEB0eXBlIHtTZXQ8SXRlbT59XG4gICAgICAgKi9cbiAgICAgIGNvbnN0IGl0ZW1zVG9SZWRvID0gbmV3IFNldCgpO1xuICAgICAgLyoqXG4gICAgICAgKiBAdHlwZSB7QXJyYXk8SXRlbT59XG4gICAgICAgKi9cbiAgICAgIGNvbnN0IGl0ZW1zVG9EZWxldGUgPSBbXTtcbiAgICAgIGxldCBwZXJmb3JtZWRDaGFuZ2UgPSBmYWxzZTtcbiAgICAgIGl0ZXJhdGVEZWxldGVkU3RydWN0cyh0cmFuc2FjdGlvbiwgc3RhY2tJdGVtLmluc2VydGlvbnMsIHN0cnVjdCA9PiB7XG4gICAgICAgIGlmIChzdHJ1Y3QgaW5zdGFuY2VvZiBJdGVtKSB7XG4gICAgICAgICAgaWYgKHN0cnVjdC5yZWRvbmUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGxldCB7IGl0ZW0sIGRpZmYgfSA9IGZvbGxvd1JlZG9uZShzdG9yZSwgc3RydWN0LmlkKTtcbiAgICAgICAgICAgIGlmIChkaWZmID4gMCkge1xuICAgICAgICAgICAgICBpdGVtID0gZ2V0SXRlbUNsZWFuU3RhcnQodHJhbnNhY3Rpb24sIGNyZWF0ZUlEKGl0ZW0uaWQuY2xpZW50LCBpdGVtLmlkLmNsb2NrICsgZGlmZikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RydWN0ID0gaXRlbTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFzdHJ1Y3QuZGVsZXRlZCAmJiBzY29wZS5zb21lKHR5cGUgPT4gaXNQYXJlbnRPZih0eXBlLCAvKiogQHR5cGUge0l0ZW19ICovIChzdHJ1Y3QpKSkpIHtcbiAgICAgICAgICAgIGl0ZW1zVG9EZWxldGUucHVzaChzdHJ1Y3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpdGVyYXRlRGVsZXRlZFN0cnVjdHModHJhbnNhY3Rpb24sIHN0YWNrSXRlbS5kZWxldGlvbnMsIHN0cnVjdCA9PiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBzdHJ1Y3QgaW5zdGFuY2VvZiBJdGVtICYmXG4gICAgICAgICAgc2NvcGUuc29tZSh0eXBlID0+IGlzUGFyZW50T2YodHlwZSwgc3RydWN0KSkgJiZcbiAgICAgICAgICAvLyBOZXZlciByZWRvIHN0cnVjdHMgaW4gc3RhY2tJdGVtLmluc2VydGlvbnMgYmVjYXVzZSB0aGV5IHdlcmUgY3JlYXRlZCBhbmQgZGVsZXRlZCBpbiB0aGUgc2FtZSBjYXB0dXJlIGludGVydmFsLlxuICAgICAgICAgICFpc0RlbGV0ZWQoc3RhY2tJdGVtLmluc2VydGlvbnMsIHN0cnVjdC5pZClcbiAgICAgICAgKSB7XG4gICAgICAgICAgaXRlbXNUb1JlZG8uYWRkKHN0cnVjdCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaXRlbXNUb1JlZG8uZm9yRWFjaChzdHJ1Y3QgPT4ge1xuICAgICAgICBwZXJmb3JtZWRDaGFuZ2UgPSByZWRvSXRlbSh0cmFuc2FjdGlvbiwgc3RydWN0LCBpdGVtc1RvUmVkbywgc3RhY2tJdGVtLmluc2VydGlvbnMsIHVuZG9NYW5hZ2VyLmlnbm9yZVJlbW90ZU1hcENoYW5nZXMpICE9PSBudWxsIHx8IHBlcmZvcm1lZENoYW5nZTtcbiAgICAgIH0pO1xuICAgICAgLy8gV2Ugd2FudCB0byBkZWxldGUgaW4gcmV2ZXJzZSBvcmRlciBzbyB0aGF0IGNoaWxkcmVuIGFyZSBkZWxldGVkIGJlZm9yZVxuICAgICAgLy8gcGFyZW50cywgc28gd2UgaGF2ZSBtb3JlIGluZm9ybWF0aW9uIGF2YWlsYWJsZSB3aGVuIGl0ZW1zIGFyZSBmaWx0ZXJlZC5cbiAgICAgIGZvciAobGV0IGkgPSBpdGVtc1RvRGVsZXRlLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtc1RvRGVsZXRlW2ldO1xuICAgICAgICBpZiAodW5kb01hbmFnZXIuZGVsZXRlRmlsdGVyKGl0ZW0pKSB7XG4gICAgICAgICAgaXRlbS5kZWxldGUodHJhbnNhY3Rpb24pO1xuICAgICAgICAgIHBlcmZvcm1lZENoYW5nZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlc3VsdCA9IHBlcmZvcm1lZENoYW5nZSA/IHN0YWNrSXRlbSA6IG51bGw7XG4gICAgfVxuICAgIHRyYW5zYWN0aW9uLmNoYW5nZWQuZm9yRWFjaCgoc3ViUHJvcHMsIHR5cGUpID0+IHtcbiAgICAgIC8vIGRlc3Ryb3kgc2VhcmNoIG1hcmtlciBpZiBuZWNlc3NhcnlcbiAgICAgIGlmIChzdWJQcm9wcy5oYXMobnVsbCkgJiYgdHlwZS5fc2VhcmNoTWFya2VyKSB7XG4gICAgICAgIHR5cGUuX3NlYXJjaE1hcmtlci5sZW5ndGggPSAwO1xuICAgICAgfVxuICAgIH0pO1xuICAgIF90ciA9IHRyYW5zYWN0aW9uO1xuICB9LCB1bmRvTWFuYWdlcik7XG4gIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgIGNvbnN0IGNoYW5nZWRQYXJlbnRUeXBlcyA9IF90ci5jaGFuZ2VkUGFyZW50VHlwZXM7XG4gICAgdW5kb01hbmFnZXIuZW1pdCgnc3RhY2staXRlbS1wb3BwZWQnLCBbeyBzdGFja0l0ZW06IHJlc3VsdCwgdHlwZTogZXZlbnRUeXBlLCBjaGFuZ2VkUGFyZW50VHlwZXMgfSwgdW5kb01hbmFnZXJdKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0XG59O1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFVuZG9NYW5hZ2VyT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFtVbmRvTWFuYWdlck9wdGlvbnMuY2FwdHVyZVRpbWVvdXQ9NTAwXVxuICogQHByb3BlcnR5IHtmdW5jdGlvbihUcmFuc2FjdGlvbik6Ym9vbGVhbn0gW1VuZG9NYW5hZ2VyT3B0aW9ucy5jYXB0dXJlVHJhbnNhY3Rpb25dIERvIG5vdCBjYXB0dXJlIGNoYW5nZXMgb2YgYSBUcmFuc2FjdGlvbiBpZiByZXN1bHQgZmFsc2UuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKEl0ZW0pOmJvb2xlYW59IFtVbmRvTWFuYWdlck9wdGlvbnMuZGVsZXRlRmlsdGVyPSgpPT50cnVlXSBTb21ldGltZXNcbiAqIGl0IGlzIG5lY2Vzc2FyeSB0byBmaWx0ZXIgd2hhbiBhbiBVbmRvL1JlZG8gb3BlcmF0aW9uIGNhbiBkZWxldGUuIElmIHRoaXNcbiAqIGZpbHRlciByZXR1cm5zIGZhbHNlLCB0aGUgdHlwZS9pdGVtIHdvbid0IGJlIGRlbGV0ZWQgZXZlbiBpdCBpcyBpbiB0aGVcbiAqIHVuZG8vcmVkbyBzY29wZS5cbiAqIEBwcm9wZXJ0eSB7U2V0PGFueT59IFtVbmRvTWFuYWdlck9wdGlvbnMudHJhY2tlZE9yaWdpbnM9bmV3IFNldChbbnVsbF0pXVxuICogQHByb3BlcnR5IHtib29sZWFufSBbaWdub3JlUmVtb3RlTWFwQ2hhbmdlc10gRXhwZXJpbWVudGFsLiBCeSBkZWZhdWx0LCB0aGUgVW5kb01hbmFnZXIgd2lsbCBuZXZlciBvdmVyd3JpdGUgcmVtb3RlIGNoYW5nZXMuIEVuYWJsZSB0aGlzIHByb3BlcnR5IHRvIGVuYWJsZSBvdmVyd3JpdGluZyByZW1vdGUgY2hhbmdlcyBvbiBrZXktdmFsdWUgY2hhbmdlcyAoWS5NYXAsIHByb3BlcnRpZXMgb24gWS5YbWwsIGV0Yy4uKS5cbiAqL1xuXG4vKipcbiAqIEZpcmVzICdzdGFjay1pdGVtLWFkZGVkJyBldmVudCB3aGVuIGEgc3RhY2sgaXRlbSB3YXMgYWRkZWQgdG8gZWl0aGVyIHRoZSB1bmRvLSBvclxuICogdGhlIHJlZG8tc3RhY2suIFlvdSBtYXkgc3RvcmUgYWRkaXRpb25hbCBzdGFjayBpbmZvcm1hdGlvbiB2aWEgdGhlXG4gKiBtZXRhZGF0YSBwcm9wZXJ0eSBvbiBgZXZlbnQuc3RhY2tJdGVtLm1ldGFgIChpdCBpcyBhIGBNYXBgIG9mIG1ldGFkYXRhIHByb3BlcnRpZXMpLlxuICogRmlyZXMgJ3N0YWNrLWl0ZW0tcG9wcGVkJyBldmVudCB3aGVuIGEgc3RhY2sgaXRlbSB3YXMgcG9wcGVkIGZyb20gZWl0aGVyIHRoZVxuICogdW5kby0gb3IgdGhlIHJlZG8tc3RhY2suIFlvdSBtYXkgcmVzdG9yZSB0aGUgc2F2ZWQgc3RhY2sgaW5mb3JtYXRpb24gZnJvbSBgZXZlbnQuc3RhY2tJdGVtLm1ldGFgLlxuICpcbiAqIEBleHRlbmRzIHtPYnNlcnZhYmxlPCdzdGFjay1pdGVtLWFkZGVkJ3wnc3RhY2staXRlbS1wb3BwZWQnfCdzdGFjay1jbGVhcmVkJ3wnc3RhY2staXRlbS11cGRhdGVkJz59XG4gKi9cbmNsYXNzIFVuZG9NYW5hZ2VyIGV4dGVuZHMgT2JzZXJ2YWJsZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0Fic3RyYWN0VHlwZTxhbnk+fEFycmF5PEFic3RyYWN0VHlwZTxhbnk+Pn0gdHlwZVNjb3BlIEFjY2VwdHMgZWl0aGVyIGEgc2luZ2xlIHR5cGUsIG9yIGFuIGFycmF5IG9mIHR5cGVzXG4gICAqIEBwYXJhbSB7VW5kb01hbmFnZXJPcHRpb25zfSBvcHRpb25zXG4gICAqL1xuICBjb25zdHJ1Y3RvciAodHlwZVNjb3BlLCB7XG4gICAgY2FwdHVyZVRpbWVvdXQgPSA1MDAsXG4gICAgY2FwdHVyZVRyYW5zYWN0aW9uID0gdHIgPT4gdHJ1ZSxcbiAgICBkZWxldGVGaWx0ZXIgPSAoKSA9PiB0cnVlLFxuICAgIHRyYWNrZWRPcmlnaW5zID0gbmV3IFNldChbbnVsbF0pLFxuICAgIGlnbm9yZVJlbW90ZU1hcENoYW5nZXMgPSBmYWxzZVxuICB9ID0ge30pIHtcbiAgICBzdXBlcigpO1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheTxBYnN0cmFjdFR5cGU8YW55Pj59XG4gICAgICovXG4gICAgdGhpcy5zY29wZSA9IFtdO1xuICAgIHRoaXMuYWRkVG9TY29wZSh0eXBlU2NvcGUpO1xuICAgIHRoaXMuZGVsZXRlRmlsdGVyID0gZGVsZXRlRmlsdGVyO1xuICAgIHRyYWNrZWRPcmlnaW5zLmFkZCh0aGlzKTtcbiAgICB0aGlzLnRyYWNrZWRPcmlnaW5zID0gdHJhY2tlZE9yaWdpbnM7XG4gICAgdGhpcy5jYXB0dXJlVHJhbnNhY3Rpb24gPSBjYXB0dXJlVHJhbnNhY3Rpb247XG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5PFN0YWNrSXRlbT59XG4gICAgICovXG4gICAgdGhpcy51bmRvU3RhY2sgPSBbXTtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QXJyYXk8U3RhY2tJdGVtPn1cbiAgICAgKi9cbiAgICB0aGlzLnJlZG9TdGFjayA9IFtdO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGNsaWVudCBpcyBjdXJyZW50bHkgdW5kb2luZyAoY2FsbGluZyBVbmRvTWFuYWdlci51bmRvKVxuICAgICAqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy51bmRvaW5nID0gZmFsc2U7XG4gICAgdGhpcy5yZWRvaW5nID0gZmFsc2U7XG4gICAgdGhpcy5kb2MgPSAvKiogQHR5cGUge0RvY30gKi8gKHRoaXMuc2NvcGVbMF0uZG9jKTtcbiAgICB0aGlzLmxhc3RDaGFuZ2UgPSAwO1xuICAgIHRoaXMuaWdub3JlUmVtb3RlTWFwQ2hhbmdlcyA9IGlnbm9yZVJlbW90ZU1hcENoYW5nZXM7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAgICAgKi9cbiAgICB0aGlzLmFmdGVyVHJhbnNhY3Rpb25IYW5kbGVyID0gdHJhbnNhY3Rpb24gPT4ge1xuICAgICAgLy8gT25seSB0cmFjayBjZXJ0YWluIHRyYW5zYWN0aW9uc1xuICAgICAgaWYgKFxuICAgICAgICAhdGhpcy5jYXB0dXJlVHJhbnNhY3Rpb24odHJhbnNhY3Rpb24pIHx8XG4gICAgICAgICF0aGlzLnNjb3BlLnNvbWUodHlwZSA9PiB0cmFuc2FjdGlvbi5jaGFuZ2VkUGFyZW50VHlwZXMuaGFzKHR5cGUpKSB8fFxuICAgICAgICAoIXRoaXMudHJhY2tlZE9yaWdpbnMuaGFzKHRyYW5zYWN0aW9uLm9yaWdpbikgJiYgKCF0cmFuc2FjdGlvbi5vcmlnaW4gfHwgIXRoaXMudHJhY2tlZE9yaWdpbnMuaGFzKHRyYW5zYWN0aW9uLm9yaWdpbi5jb25zdHJ1Y3RvcikpKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgY29uc3QgdW5kb2luZyA9IHRoaXMudW5kb2luZztcbiAgICAgIGNvbnN0IHJlZG9pbmcgPSB0aGlzLnJlZG9pbmc7XG4gICAgICBjb25zdCBzdGFjayA9IHVuZG9pbmcgPyB0aGlzLnJlZG9TdGFjayA6IHRoaXMudW5kb1N0YWNrO1xuICAgICAgaWYgKHVuZG9pbmcpIHtcbiAgICAgICAgdGhpcy5zdG9wQ2FwdHVyaW5nKCk7IC8vIG5leHQgdW5kbyBzaG91bGQgbm90IGJlIGFwcGVuZGVkIHRvIGxhc3Qgc3RhY2sgaXRlbVxuICAgICAgfSBlbHNlIGlmICghcmVkb2luZykge1xuICAgICAgICAvLyBuZWl0aGVyIHVuZG9pbmcgbm9yIHJlZG9pbmc6IGRlbGV0ZSByZWRvU3RhY2tcbiAgICAgICAgdGhpcy5jbGVhcihmYWxzZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBjb25zdCBpbnNlcnRpb25zID0gbmV3IERlbGV0ZVNldCgpO1xuICAgICAgdHJhbnNhY3Rpb24uYWZ0ZXJTdGF0ZS5mb3JFYWNoKChlbmRDbG9jaywgY2xpZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YXJ0Q2xvY2sgPSB0cmFuc2FjdGlvbi5iZWZvcmVTdGF0ZS5nZXQoY2xpZW50KSB8fCAwO1xuICAgICAgICBjb25zdCBsZW4gPSBlbmRDbG9jayAtIHN0YXJ0Q2xvY2s7XG4gICAgICAgIGlmIChsZW4gPiAwKSB7XG4gICAgICAgICAgYWRkVG9EZWxldGVTZXQoaW5zZXJ0aW9ucywgY2xpZW50LCBzdGFydENsb2NrLCBsZW4pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IG5vdyA9IHRpbWUuZ2V0VW5peFRpbWUoKTtcbiAgICAgIGxldCBkaWRBZGQgPSBmYWxzZTtcbiAgICAgIGlmIChub3cgLSB0aGlzLmxhc3RDaGFuZ2UgPCBjYXB0dXJlVGltZW91dCAmJiBzdGFjay5sZW5ndGggPiAwICYmICF1bmRvaW5nICYmICFyZWRvaW5nKSB7XG4gICAgICAgIC8vIGFwcGVuZCBjaGFuZ2UgdG8gbGFzdCBzdGFjayBvcFxuICAgICAgICBjb25zdCBsYXN0T3AgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgbGFzdE9wLmRlbGV0aW9ucyA9IG1lcmdlRGVsZXRlU2V0cyhbbGFzdE9wLmRlbGV0aW9ucywgdHJhbnNhY3Rpb24uZGVsZXRlU2V0XSk7XG4gICAgICAgIGxhc3RPcC5pbnNlcnRpb25zID0gbWVyZ2VEZWxldGVTZXRzKFtsYXN0T3AuaW5zZXJ0aW9ucywgaW5zZXJ0aW9uc10pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY3JlYXRlIGEgbmV3IHN0YWNrIG9wXG4gICAgICAgIHN0YWNrLnB1c2gobmV3IFN0YWNrSXRlbSh0cmFuc2FjdGlvbi5kZWxldGVTZXQsIGluc2VydGlvbnMpKTtcbiAgICAgICAgZGlkQWRkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICghdW5kb2luZyAmJiAhcmVkb2luZykge1xuICAgICAgICB0aGlzLmxhc3RDaGFuZ2UgPSBub3c7XG4gICAgICB9XG4gICAgICAvLyBtYWtlIHN1cmUgdGhhdCBkZWxldGVkIHN0cnVjdHMgYXJlIG5vdCBnYydkXG4gICAgICBpdGVyYXRlRGVsZXRlZFN0cnVjdHModHJhbnNhY3Rpb24sIHRyYW5zYWN0aW9uLmRlbGV0ZVNldCwgLyoqIEBwYXJhbSB7SXRlbXxHQ30gaXRlbSAqLyBpdGVtID0+IHtcbiAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBJdGVtICYmIHRoaXMuc2NvcGUuc29tZSh0eXBlID0+IGlzUGFyZW50T2YodHlwZSwgaXRlbSkpKSB7XG4gICAgICAgICAga2VlcEl0ZW0oaXRlbSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3QgY2hhbmdlRXZlbnQgPSBbeyBzdGFja0l0ZW06IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdLCBvcmlnaW46IHRyYW5zYWN0aW9uLm9yaWdpbiwgdHlwZTogdW5kb2luZyA/ICdyZWRvJyA6ICd1bmRvJywgY2hhbmdlZFBhcmVudFR5cGVzOiB0cmFuc2FjdGlvbi5jaGFuZ2VkUGFyZW50VHlwZXMgfSwgdGhpc107XG4gICAgICBpZiAoZGlkQWRkKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnc3RhY2staXRlbS1hZGRlZCcsIGNoYW5nZUV2ZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZW1pdCgnc3RhY2staXRlbS11cGRhdGVkJywgY2hhbmdlRXZlbnQpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5kb2Mub24oJ2FmdGVyVHJhbnNhY3Rpb24nLCB0aGlzLmFmdGVyVHJhbnNhY3Rpb25IYW5kbGVyKTtcbiAgICB0aGlzLmRvYy5vbignZGVzdHJveScsICgpID0+IHtcbiAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8QWJzdHJhY3RUeXBlPGFueT4+IHwgQWJzdHJhY3RUeXBlPGFueT59IHl0eXBlc1xuICAgKi9cbiAgYWRkVG9TY29wZSAoeXR5cGVzKSB7XG4gICAgeXR5cGVzID0gYXJyYXkuaXNBcnJheSh5dHlwZXMpID8geXR5cGVzIDogW3l0eXBlc107XG4gICAgeXR5cGVzLmZvckVhY2goeXR5cGUgPT4ge1xuICAgICAgaWYgKHRoaXMuc2NvcGUuZXZlcnkoeXQgPT4geXQgIT09IHl0eXBlKSkge1xuICAgICAgICB0aGlzLnNjb3BlLnB1c2goeXR5cGUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7YW55fSBvcmlnaW5cbiAgICovXG4gIGFkZFRyYWNrZWRPcmlnaW4gKG9yaWdpbikge1xuICAgIHRoaXMudHJhY2tlZE9yaWdpbnMuYWRkKG9yaWdpbik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHthbnl9IG9yaWdpblxuICAgKi9cbiAgcmVtb3ZlVHJhY2tlZE9yaWdpbiAob3JpZ2luKSB7XG4gICAgdGhpcy50cmFja2VkT3JpZ2lucy5kZWxldGUob3JpZ2luKTtcbiAgfVxuXG4gIGNsZWFyIChjbGVhclVuZG9TdGFjayA9IHRydWUsIGNsZWFyUmVkb1N0YWNrID0gdHJ1ZSkge1xuICAgIGlmICgoY2xlYXJVbmRvU3RhY2sgJiYgdGhpcy5jYW5VbmRvKCkpIHx8IChjbGVhclJlZG9TdGFjayAmJiB0aGlzLmNhblJlZG8oKSkpIHtcbiAgICAgIHRoaXMuZG9jLnRyYW5zYWN0KHRyID0+IHtcbiAgICAgICAgaWYgKGNsZWFyVW5kb1N0YWNrKSB7XG4gICAgICAgICAgdGhpcy51bmRvU3RhY2suZm9yRWFjaChpdGVtID0+IGNsZWFyVW5kb01hbmFnZXJTdGFja0l0ZW0odHIsIHRoaXMsIGl0ZW0pKTtcbiAgICAgICAgICB0aGlzLnVuZG9TdGFjayA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbGVhclJlZG9TdGFjaykge1xuICAgICAgICAgIHRoaXMucmVkb1N0YWNrLmZvckVhY2goaXRlbSA9PiBjbGVhclVuZG9NYW5hZ2VyU3RhY2tJdGVtKHRyLCB0aGlzLCBpdGVtKSk7XG4gICAgICAgICAgdGhpcy5yZWRvU3RhY2sgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoJ3N0YWNrLWNsZWFyZWQnLCBbeyB1bmRvU3RhY2tDbGVhcmVkOiBjbGVhclVuZG9TdGFjaywgcmVkb1N0YWNrQ2xlYXJlZDogY2xlYXJSZWRvU3RhY2sgfV0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVuZG9NYW5hZ2VyIG1lcmdlcyBVbmRvLVN0YWNrSXRlbSBpZiB0aGV5IGFyZSBjcmVhdGVkIHdpdGhpbiB0aW1lLWdhcFxuICAgKiBzbWFsbGVyIHRoYW4gYG9wdGlvbnMuY2FwdHVyZVRpbWVvdXRgLiBDYWxsIGB1bS5zdG9wQ2FwdHVyaW5nKClgIHNvIHRoYXQgdGhlIG5leHRcbiAgICogU3RhY2tJdGVtIHdvbid0IGJlIG1lcmdlZC5cbiAgICpcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogICAgIC8vIHdpdGhvdXQgc3RvcENhcHR1cmluZ1xuICAgKiAgICAgeXRleHQuaW5zZXJ0KDAsICdhJylcbiAgICogICAgIHl0ZXh0Lmluc2VydCgxLCAnYicpXG4gICAqICAgICB1bS51bmRvKClcbiAgICogICAgIHl0ZXh0LnRvU3RyaW5nKCkgLy8gPT4gJycgKG5vdGUgdGhhdCAnYWInIHdhcyByZW1vdmVkKVxuICAgKiAgICAgLy8gd2l0aCBzdG9wQ2FwdHVyaW5nXG4gICAqICAgICB5dGV4dC5pbnNlcnQoMCwgJ2EnKVxuICAgKiAgICAgdW0uc3RvcENhcHR1cmluZygpXG4gICAqICAgICB5dGV4dC5pbnNlcnQoMCwgJ2InKVxuICAgKiAgICAgdW0udW5kbygpXG4gICAqICAgICB5dGV4dC50b1N0cmluZygpIC8vID0+ICdhJyAobm90ZSB0aGF0IG9ubHkgJ2InIHdhcyByZW1vdmVkKVxuICAgKlxuICAgKi9cbiAgc3RvcENhcHR1cmluZyAoKSB7XG4gICAgdGhpcy5sYXN0Q2hhbmdlID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbmRvIGxhc3QgY2hhbmdlcyBvbiB0eXBlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtTdGFja0l0ZW0/fSBSZXR1cm5zIFN0YWNrSXRlbSBpZiBhIGNoYW5nZSB3YXMgYXBwbGllZFxuICAgKi9cbiAgdW5kbyAoKSB7XG4gICAgdGhpcy51bmRvaW5nID0gdHJ1ZTtcbiAgICBsZXQgcmVzO1xuICAgIHRyeSB7XG4gICAgICByZXMgPSBwb3BTdGFja0l0ZW0odGhpcywgdGhpcy51bmRvU3RhY2ssICd1bmRvJyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRoaXMudW5kb2luZyA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzXG4gIH1cblxuICAvKipcbiAgICogUmVkbyBsYXN0IHVuZG8gb3BlcmF0aW9uLlxuICAgKlxuICAgKiBAcmV0dXJuIHtTdGFja0l0ZW0/fSBSZXR1cm5zIFN0YWNrSXRlbSBpZiBhIGNoYW5nZSB3YXMgYXBwbGllZFxuICAgKi9cbiAgcmVkbyAoKSB7XG4gICAgdGhpcy5yZWRvaW5nID0gdHJ1ZTtcbiAgICBsZXQgcmVzO1xuICAgIHRyeSB7XG4gICAgICByZXMgPSBwb3BTdGFja0l0ZW0odGhpcywgdGhpcy5yZWRvU3RhY2ssICdyZWRvJyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRoaXMucmVkb2luZyA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzXG4gIH1cblxuICAvKipcbiAgICogQXJlIHVuZG8gc3RlcHMgYXZhaWxhYmxlP1xuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdW5kbyBpcyBwb3NzaWJsZVxuICAgKi9cbiAgY2FuVW5kbyAoKSB7XG4gICAgcmV0dXJuIHRoaXMudW5kb1N0YWNrLmxlbmd0aCA+IDBcbiAgfVxuXG4gIC8qKlxuICAgKiBBcmUgcmVkbyBzdGVwcyBhdmFpbGFibGU/XG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiByZWRvIGlzIHBvc3NpYmxlXG4gICAqL1xuICBjYW5SZWRvICgpIHtcbiAgICByZXR1cm4gdGhpcy5yZWRvU3RhY2subGVuZ3RoID4gMFxuICB9XG5cbiAgZGVzdHJveSAoKSB7XG4gICAgdGhpcy50cmFja2VkT3JpZ2lucy5kZWxldGUodGhpcyk7XG4gICAgdGhpcy5kb2Mub2ZmKCdhZnRlclRyYW5zYWN0aW9uJywgdGhpcy5hZnRlclRyYW5zYWN0aW9uSGFuZGxlcik7XG4gICAgc3VwZXIuZGVzdHJveSgpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtVcGRhdGVEZWNvZGVyVjEgfCBVcGRhdGVEZWNvZGVyVjJ9IGRlY29kZXJcbiAqL1xuZnVuY3Rpb24gKiBsYXp5U3RydWN0UmVhZGVyR2VuZXJhdG9yIChkZWNvZGVyKSB7XG4gIGNvbnN0IG51bU9mU3RhdGVVcGRhdGVzID0gZGVjb2RpbmcucmVhZFZhclVpbnQoZGVjb2Rlci5yZXN0RGVjb2Rlcik7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtT2ZTdGF0ZVVwZGF0ZXM7IGkrKykge1xuICAgIGNvbnN0IG51bWJlck9mU3RydWN0cyA9IGRlY29kaW5nLnJlYWRWYXJVaW50KGRlY29kZXIucmVzdERlY29kZXIpO1xuICAgIGNvbnN0IGNsaWVudCA9IGRlY29kZXIucmVhZENsaWVudCgpO1xuICAgIGxldCBjbG9jayA9IGRlY29kaW5nLnJlYWRWYXJVaW50KGRlY29kZXIucmVzdERlY29kZXIpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyT2ZTdHJ1Y3RzOyBpKyspIHtcbiAgICAgIGNvbnN0IGluZm8gPSBkZWNvZGVyLnJlYWRJbmZvKCk7XG4gICAgICAvLyBAdG9kbyB1c2Ugc3dpdGNoIGluc3RlYWQgb2YgaWZzXG4gICAgICBpZiAoaW5mbyA9PT0gMTApIHtcbiAgICAgICAgY29uc3QgbGVuID0gZGVjb2RpbmcucmVhZFZhclVpbnQoZGVjb2Rlci5yZXN0RGVjb2Rlcik7XG4gICAgICAgIHlpZWxkIG5ldyBTa2lwKGNyZWF0ZUlEKGNsaWVudCwgY2xvY2spLCBsZW4pO1xuICAgICAgICBjbG9jayArPSBsZW47XG4gICAgICB9IGVsc2UgaWYgKChiaW5hcnkuQklUUzUgJiBpbmZvKSAhPT0gMCkge1xuICAgICAgICBjb25zdCBjYW50Q29weVBhcmVudEluZm8gPSAoaW5mbyAmIChiaW5hcnkuQklUNyB8IGJpbmFyeS5CSVQ4KSkgPT09IDA7XG4gICAgICAgIC8vIElmIHBhcmVudCA9IG51bGwgYW5kIG5laXRoZXIgbGVmdCBub3IgcmlnaHQgYXJlIGRlZmluZWQsIHRoZW4gd2Uga25vdyB0aGF0IGBwYXJlbnRgIGlzIGNoaWxkIG9mIGB5YFxuICAgICAgICAvLyBhbmQgd2UgcmVhZCB0aGUgbmV4dCBzdHJpbmcgYXMgcGFyZW50WUtleS5cbiAgICAgICAgLy8gSXQgaW5kaWNhdGVzIGhvdyB3ZSBzdG9yZS9yZXRyaWV2ZSBwYXJlbnQgZnJvbSBgeS5zaGFyZWBcbiAgICAgICAgLy8gQHR5cGUge3N0cmluZ3xudWxsfVxuICAgICAgICBjb25zdCBzdHJ1Y3QgPSBuZXcgSXRlbShcbiAgICAgICAgICBjcmVhdGVJRChjbGllbnQsIGNsb2NrKSxcbiAgICAgICAgICBudWxsLCAvLyBsZWZ0XG4gICAgICAgICAgKGluZm8gJiBiaW5hcnkuQklUOCkgPT09IGJpbmFyeS5CSVQ4ID8gZGVjb2Rlci5yZWFkTGVmdElEKCkgOiBudWxsLCAvLyBvcmlnaW5cbiAgICAgICAgICBudWxsLCAvLyByaWdodFxuICAgICAgICAgIChpbmZvICYgYmluYXJ5LkJJVDcpID09PSBiaW5hcnkuQklUNyA/IGRlY29kZXIucmVhZFJpZ2h0SUQoKSA6IG51bGwsIC8vIHJpZ2h0IG9yaWdpblxuICAgICAgICAgIC8vIEB0cy1pZ25vcmUgRm9yY2Ugd3JpdGluZyBhIHN0cmluZyBoZXJlLlxuICAgICAgICAgIGNhbnRDb3B5UGFyZW50SW5mbyA/IChkZWNvZGVyLnJlYWRQYXJlbnRJbmZvKCkgPyBkZWNvZGVyLnJlYWRTdHJpbmcoKSA6IGRlY29kZXIucmVhZExlZnRJRCgpKSA6IG51bGwsIC8vIHBhcmVudFxuICAgICAgICAgIGNhbnRDb3B5UGFyZW50SW5mbyAmJiAoaW5mbyAmIGJpbmFyeS5CSVQ2KSA9PT0gYmluYXJ5LkJJVDYgPyBkZWNvZGVyLnJlYWRTdHJpbmcoKSA6IG51bGwsIC8vIHBhcmVudFN1YlxuICAgICAgICAgIHJlYWRJdGVtQ29udGVudChkZWNvZGVyLCBpbmZvKSAvLyBpdGVtIGNvbnRlbnRcbiAgICAgICAgKTtcbiAgICAgICAgeWllbGQgc3RydWN0O1xuICAgICAgICBjbG9jayArPSBzdHJ1Y3QubGVuZ3RoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbGVuID0gZGVjb2Rlci5yZWFkTGVuKCk7XG4gICAgICAgIHlpZWxkIG5ldyBHQyhjcmVhdGVJRChjbGllbnQsIGNsb2NrKSwgbGVuKTtcbiAgICAgICAgY2xvY2sgKz0gbGVuO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5jbGFzcyBMYXp5U3RydWN0UmVhZGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7VXBkYXRlRGVjb2RlclYxIHwgVXBkYXRlRGVjb2RlclYyfSBkZWNvZGVyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZmlsdGVyU2tpcHNcbiAgICovXG4gIGNvbnN0cnVjdG9yIChkZWNvZGVyLCBmaWx0ZXJTa2lwcykge1xuICAgIHRoaXMuZ2VuID0gbGF6eVN0cnVjdFJlYWRlckdlbmVyYXRvcihkZWNvZGVyKTtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVsbCB8IEl0ZW0gfCBTa2lwIHwgR0N9XG4gICAgICovXG4gICAgdGhpcy5jdXJyID0gbnVsbDtcbiAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICB0aGlzLmZpbHRlclNraXBzID0gZmlsdGVyU2tpcHM7XG4gICAgdGhpcy5uZXh0KCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7SXRlbSB8IEdDIHwgU2tpcCB8bnVsbH1cbiAgICovXG4gIG5leHQgKCkge1xuICAgIC8vIGlnbm9yZSBcIlNraXBcIiBzdHJ1Y3RzXG4gICAgZG8ge1xuICAgICAgdGhpcy5jdXJyID0gdGhpcy5nZW4ubmV4dCgpLnZhbHVlIHx8IG51bGw7XG4gICAgfSB3aGlsZSAodGhpcy5maWx0ZXJTa2lwcyAmJiB0aGlzLmN1cnIgIT09IG51bGwgJiYgdGhpcy5jdXJyLmNvbnN0cnVjdG9yID09PSBTa2lwKVxuICAgIHJldHVybiB0aGlzLmN1cnJcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gdXBkYXRlXG4gKlxuICovXG5jb25zdCBsb2dVcGRhdGUgPSB1cGRhdGUgPT4gbG9nVXBkYXRlVjIodXBkYXRlLCBVcGRhdGVEZWNvZGVyVjEpO1xuXG4vKipcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gdXBkYXRlXG4gKiBAcGFyYW0ge3R5cGVvZiBVcGRhdGVEZWNvZGVyVjIgfCB0eXBlb2YgVXBkYXRlRGVjb2RlclYxfSBbWURlY29kZXJdXG4gKlxuICovXG5jb25zdCBsb2dVcGRhdGVWMiA9ICh1cGRhdGUsIFlEZWNvZGVyID0gVXBkYXRlRGVjb2RlclYyKSA9PiB7XG4gIGNvbnN0IHN0cnVjdHMgPSBbXTtcbiAgY29uc3QgdXBkYXRlRGVjb2RlciA9IG5ldyBZRGVjb2RlcihkZWNvZGluZy5jcmVhdGVEZWNvZGVyKHVwZGF0ZSkpO1xuICBjb25zdCBsYXp5RGVjb2RlciA9IG5ldyBMYXp5U3RydWN0UmVhZGVyKHVwZGF0ZURlY29kZXIsIGZhbHNlKTtcbiAgZm9yIChsZXQgY3VyciA9IGxhenlEZWNvZGVyLmN1cnI7IGN1cnIgIT09IG51bGw7IGN1cnIgPSBsYXp5RGVjb2Rlci5uZXh0KCkpIHtcbiAgICBzdHJ1Y3RzLnB1c2goY3Vycik7XG4gIH1cbiAgbG9nZ2luZy5wcmludCgnU3RydWN0czogJywgc3RydWN0cyk7XG4gIGNvbnN0IGRzID0gcmVhZERlbGV0ZVNldCh1cGRhdGVEZWNvZGVyKTtcbiAgbG9nZ2luZy5wcmludCgnRGVsZXRlU2V0OiAnLCBkcyk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gdXBkYXRlXG4gKlxuICovXG5jb25zdCBkZWNvZGVVcGRhdGUgPSAodXBkYXRlKSA9PiBkZWNvZGVVcGRhdGVWMih1cGRhdGUsIFVwZGF0ZURlY29kZXJWMSk7XG5cbi8qKlxuICogQHBhcmFtIHtVaW50OEFycmF5fSB1cGRhdGVcbiAqIEBwYXJhbSB7dHlwZW9mIFVwZGF0ZURlY29kZXJWMiB8IHR5cGVvZiBVcGRhdGVEZWNvZGVyVjF9IFtZRGVjb2Rlcl1cbiAqXG4gKi9cbmNvbnN0IGRlY29kZVVwZGF0ZVYyID0gKHVwZGF0ZSwgWURlY29kZXIgPSBVcGRhdGVEZWNvZGVyVjIpID0+IHtcbiAgY29uc3Qgc3RydWN0cyA9IFtdO1xuICBjb25zdCB1cGRhdGVEZWNvZGVyID0gbmV3IFlEZWNvZGVyKGRlY29kaW5nLmNyZWF0ZURlY29kZXIodXBkYXRlKSk7XG4gIGNvbnN0IGxhenlEZWNvZGVyID0gbmV3IExhenlTdHJ1Y3RSZWFkZXIodXBkYXRlRGVjb2RlciwgZmFsc2UpO1xuICBmb3IgKGxldCBjdXJyID0gbGF6eURlY29kZXIuY3VycjsgY3VyciAhPT0gbnVsbDsgY3VyciA9IGxhenlEZWNvZGVyLm5leHQoKSkge1xuICAgIHN0cnVjdHMucHVzaChjdXJyKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHN0cnVjdHMsXG4gICAgZHM6IHJlYWREZWxldGVTZXQodXBkYXRlRGVjb2RlcilcbiAgfVxufTtcblxuY2xhc3MgTGF6eVN0cnVjdFdyaXRlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1VwZGF0ZUVuY29kZXJWMSB8IFVwZGF0ZUVuY29kZXJWMn0gZW5jb2RlclxuICAgKi9cbiAgY29uc3RydWN0b3IgKGVuY29kZXIpIHtcbiAgICB0aGlzLmN1cnJDbGllbnQgPSAwO1xuICAgIHRoaXMuc3RhcnRDbG9jayA9IDA7XG4gICAgdGhpcy53cml0dGVuID0gMDtcbiAgICB0aGlzLmVuY29kZXIgPSBlbmNvZGVyO1xuICAgIC8qKlxuICAgICAqIFdlIHdhbnQgdG8gd3JpdGUgb3BlcmF0aW9ucyBsYXppbHksIGJ1dCBhbHNvIHdlIG5lZWQgdG8ga25vdyBiZWZvcmVoYW5kIGhvdyBtYW55IG9wZXJhdGlvbnMgd2Ugd2FudCB0byB3cml0ZSBmb3IgZWFjaCBjbGllbnQuXG4gICAgICpcbiAgICAgKiBUaGlzIGtpbmQgb2YgbWV0YS1pbmZvcm1hdGlvbiAoI2NsaWVudHMsICNzdHJ1Y3RzLXBlci1jbGllbnQtd3JpdHRlbikgaXMgd3JpdHRlbiB0byB0aGUgcmVzdEVuY29kZXIuXG4gICAgICpcbiAgICAgKiBXZSBmcmFnbWVudCB0aGUgcmVzdEVuY29kZXIgYW5kIHN0b3JlIGEgc2xpY2Ugb2YgaXQgcGVyLWNsaWVudCB1bnRpbCB3ZSBrbm93IGhvdyBtYW55IGNsaWVudHMgdGhlcmUgYXJlLlxuICAgICAqIFdoZW4gd2UgZmx1c2ggKHRvVWludDhBcnJheSkgd2Ugd3JpdGUgdGhlIHJlc3RFbmNvZGVyIHVzaW5nIHRoZSBmcmFnbWVudHMgYW5kIHRoZSBtZXRhLWluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQHR5cGUge0FycmF5PHsgd3JpdHRlbjogbnVtYmVyLCByZXN0RW5jb2RlcjogVWludDhBcnJheSB9Pn1cbiAgICAgKi9cbiAgICB0aGlzLmNsaWVudFN0cnVjdHMgPSBbXTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8VWludDhBcnJheT59IHVwZGF0ZXNcbiAqIEByZXR1cm4ge1VpbnQ4QXJyYXl9XG4gKi9cbmNvbnN0IG1lcmdlVXBkYXRlcyA9IHVwZGF0ZXMgPT4gbWVyZ2VVcGRhdGVzVjIodXBkYXRlcywgVXBkYXRlRGVjb2RlclYxLCBVcGRhdGVFbmNvZGVyVjEpO1xuXG4vKipcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gdXBkYXRlXG4gKiBAcGFyYW0ge3R5cGVvZiBEU0VuY29kZXJWMSB8IHR5cGVvZiBEU0VuY29kZXJWMn0gWUVuY29kZXJcbiAqIEBwYXJhbSB7dHlwZW9mIFVwZGF0ZURlY29kZXJWMSB8IHR5cGVvZiBVcGRhdGVEZWNvZGVyVjJ9IFlEZWNvZGVyXG4gKiBAcmV0dXJuIHtVaW50OEFycmF5fVxuICovXG5jb25zdCBlbmNvZGVTdGF0ZVZlY3RvckZyb21VcGRhdGVWMiA9ICh1cGRhdGUsIFlFbmNvZGVyID0gRFNFbmNvZGVyVjIsIFlEZWNvZGVyID0gVXBkYXRlRGVjb2RlclYyKSA9PiB7XG4gIGNvbnN0IGVuY29kZXIgPSBuZXcgWUVuY29kZXIoKTtcbiAgY29uc3QgdXBkYXRlRGVjb2RlciA9IG5ldyBMYXp5U3RydWN0UmVhZGVyKG5ldyBZRGVjb2RlcihkZWNvZGluZy5jcmVhdGVEZWNvZGVyKHVwZGF0ZSkpLCBmYWxzZSk7XG4gIGxldCBjdXJyID0gdXBkYXRlRGVjb2Rlci5jdXJyO1xuICBpZiAoY3VyciAhPT0gbnVsbCkge1xuICAgIGxldCBzaXplID0gMDtcbiAgICBsZXQgY3VyckNsaWVudCA9IGN1cnIuaWQuY2xpZW50O1xuICAgIGxldCBzdG9wQ291bnRpbmcgPSBjdXJyLmlkLmNsb2NrICE9PSAwOyAvLyBtdXN0IHN0YXJ0IGF0IDBcbiAgICBsZXQgY3VyckNsb2NrID0gc3RvcENvdW50aW5nID8gMCA6IGN1cnIuaWQuY2xvY2sgKyBjdXJyLmxlbmd0aDtcbiAgICBmb3IgKDsgY3VyciAhPT0gbnVsbDsgY3VyciA9IHVwZGF0ZURlY29kZXIubmV4dCgpKSB7XG4gICAgICBpZiAoY3VyckNsaWVudCAhPT0gY3Vyci5pZC5jbGllbnQpIHtcbiAgICAgICAgaWYgKGN1cnJDbG9jayAhPT0gMCkge1xuICAgICAgICAgIHNpemUrKztcbiAgICAgICAgICAvLyBXZSBmb3VuZCBhIG5ldyBjbGllbnRcbiAgICAgICAgICAvLyB3cml0ZSB3aGF0IHdlIGhhdmUgdG8gdGhlIGVuY29kZXJcbiAgICAgICAgICBlbmNvZGluZy53cml0ZVZhclVpbnQoZW5jb2Rlci5yZXN0RW5jb2RlciwgY3VyckNsaWVudCk7XG4gICAgICAgICAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KGVuY29kZXIucmVzdEVuY29kZXIsIGN1cnJDbG9jayk7XG4gICAgICAgIH1cbiAgICAgICAgY3VyckNsaWVudCA9IGN1cnIuaWQuY2xpZW50O1xuICAgICAgICBjdXJyQ2xvY2sgPSAwO1xuICAgICAgICBzdG9wQ291bnRpbmcgPSBjdXJyLmlkLmNsb2NrICE9PSAwO1xuICAgICAgfVxuICAgICAgLy8gd2UgaWdub3JlIHNraXBzXG4gICAgICBpZiAoY3Vyci5jb25zdHJ1Y3RvciA9PT0gU2tpcCkge1xuICAgICAgICBzdG9wQ291bnRpbmcgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKCFzdG9wQ291bnRpbmcpIHtcbiAgICAgICAgY3VyckNsb2NrID0gY3Vyci5pZC5jbG9jayArIGN1cnIubGVuZ3RoO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyB3cml0ZSB3aGF0IHdlIGhhdmVcbiAgICBpZiAoY3VyckNsb2NrICE9PSAwKSB7XG4gICAgICBzaXplKys7XG4gICAgICBlbmNvZGluZy53cml0ZVZhclVpbnQoZW5jb2Rlci5yZXN0RW5jb2RlciwgY3VyckNsaWVudCk7XG4gICAgICBlbmNvZGluZy53cml0ZVZhclVpbnQoZW5jb2Rlci5yZXN0RW5jb2RlciwgY3VyckNsb2NrKTtcbiAgICB9XG4gICAgLy8gcHJlcGVuZCB0aGUgc2l6ZSBvZiB0aGUgc3RhdGUgdmVjdG9yXG4gICAgY29uc3QgZW5jID0gZW5jb2RpbmcuY3JlYXRlRW5jb2RlcigpO1xuICAgIGVuY29kaW5nLndyaXRlVmFyVWludChlbmMsIHNpemUpO1xuICAgIGVuY29kaW5nLndyaXRlQmluYXJ5RW5jb2RlcihlbmMsIGVuY29kZXIucmVzdEVuY29kZXIpO1xuICAgIGVuY29kZXIucmVzdEVuY29kZXIgPSBlbmM7XG4gICAgcmV0dXJuIGVuY29kZXIudG9VaW50OEFycmF5KClcbiAgfSBlbHNlIHtcbiAgICBlbmNvZGluZy53cml0ZVZhclVpbnQoZW5jb2Rlci5yZXN0RW5jb2RlciwgMCk7XG4gICAgcmV0dXJuIGVuY29kZXIudG9VaW50OEFycmF5KClcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IHVwZGF0ZVxuICogQHJldHVybiB7VWludDhBcnJheX1cbiAqL1xuY29uc3QgZW5jb2RlU3RhdGVWZWN0b3JGcm9tVXBkYXRlID0gdXBkYXRlID0+IGVuY29kZVN0YXRlVmVjdG9yRnJvbVVwZGF0ZVYyKHVwZGF0ZSwgRFNFbmNvZGVyVjEsIFVwZGF0ZURlY29kZXJWMSk7XG5cbi8qKlxuICogQHBhcmFtIHtVaW50OEFycmF5fSB1cGRhdGVcbiAqIEBwYXJhbSB7dHlwZW9mIFVwZGF0ZURlY29kZXJWMSB8IHR5cGVvZiBVcGRhdGVEZWNvZGVyVjJ9IFlEZWNvZGVyXG4gKiBAcmV0dXJuIHt7IGZyb206IE1hcDxudW1iZXIsbnVtYmVyPiwgdG86IE1hcDxudW1iZXIsbnVtYmVyPiB9fVxuICovXG5jb25zdCBwYXJzZVVwZGF0ZU1ldGFWMiA9ICh1cGRhdGUsIFlEZWNvZGVyID0gVXBkYXRlRGVjb2RlclYyKSA9PiB7XG4gIC8qKlxuICAgKiBAdHlwZSB7TWFwPG51bWJlciwgbnVtYmVyPn1cbiAgICovXG4gIGNvbnN0IGZyb20gPSBuZXcgTWFwKCk7XG4gIC8qKlxuICAgKiBAdHlwZSB7TWFwPG51bWJlciwgbnVtYmVyPn1cbiAgICovXG4gIGNvbnN0IHRvID0gbmV3IE1hcCgpO1xuICBjb25zdCB1cGRhdGVEZWNvZGVyID0gbmV3IExhenlTdHJ1Y3RSZWFkZXIobmV3IFlEZWNvZGVyKGRlY29kaW5nLmNyZWF0ZURlY29kZXIodXBkYXRlKSksIGZhbHNlKTtcbiAgbGV0IGN1cnIgPSB1cGRhdGVEZWNvZGVyLmN1cnI7XG4gIGlmIChjdXJyICE9PSBudWxsKSB7XG4gICAgbGV0IGN1cnJDbGllbnQgPSBjdXJyLmlkLmNsaWVudDtcbiAgICBsZXQgY3VyckNsb2NrID0gY3Vyci5pZC5jbG9jaztcbiAgICAvLyB3cml0ZSB0aGUgYmVnaW5uaW5nIHRvIGBmcm9tYFxuICAgIGZyb20uc2V0KGN1cnJDbGllbnQsIGN1cnJDbG9jayk7XG4gICAgZm9yICg7IGN1cnIgIT09IG51bGw7IGN1cnIgPSB1cGRhdGVEZWNvZGVyLm5leHQoKSkge1xuICAgICAgaWYgKGN1cnJDbGllbnQgIT09IGN1cnIuaWQuY2xpZW50KSB7XG4gICAgICAgIC8vIFdlIGZvdW5kIGEgbmV3IGNsaWVudFxuICAgICAgICAvLyB3cml0ZSB0aGUgZW5kIHRvIGB0b2BcbiAgICAgICAgdG8uc2V0KGN1cnJDbGllbnQsIGN1cnJDbG9jayk7XG4gICAgICAgIC8vIHdyaXRlIHRoZSBiZWdpbm5pbmcgdG8gYGZyb21gXG4gICAgICAgIGZyb20uc2V0KGN1cnIuaWQuY2xpZW50LCBjdXJyLmlkLmNsb2NrKTtcbiAgICAgICAgLy8gdXBkYXRlIGN1cnJDbGllbnRcbiAgICAgICAgY3VyckNsaWVudCA9IGN1cnIuaWQuY2xpZW50O1xuICAgICAgfVxuICAgICAgY3VyckNsb2NrID0gY3Vyci5pZC5jbG9jayArIGN1cnIubGVuZ3RoO1xuICAgIH1cbiAgICAvLyB3cml0ZSB0aGUgZW5kIHRvIGB0b2BcbiAgICB0by5zZXQoY3VyckNsaWVudCwgY3VyckNsb2NrKTtcbiAgfVxuICByZXR1cm4geyBmcm9tLCB0byB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gdXBkYXRlXG4gKiBAcmV0dXJuIHt7IGZyb206IE1hcDxudW1iZXIsbnVtYmVyPiwgdG86IE1hcDxudW1iZXIsbnVtYmVyPiB9fVxuICovXG5jb25zdCBwYXJzZVVwZGF0ZU1ldGEgPSB1cGRhdGUgPT4gcGFyc2VVcGRhdGVNZXRhVjIodXBkYXRlLCBVcGRhdGVEZWNvZGVyVjEpO1xuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIGludGVuZGVkIHRvIHNsaWNlIGFueSBraW5kIG9mIHN0cnVjdCBhbmQgcmV0cmlldmUgdGhlIHJpZ2h0IHBhcnQuXG4gKiBJdCBkb2VzIG5vdCBoYW5kbGUgc2lkZS1lZmZlY3RzLCBzbyBpdCBzaG91bGQgb25seSBiZSB1c2VkIGJ5IHRoZSBsYXp5LWVuY29kZXIuXG4gKlxuICogQHBhcmFtIHtJdGVtIHwgR0MgfCBTa2lwfSBsZWZ0XG4gKiBAcGFyYW0ge251bWJlcn0gZGlmZlxuICogQHJldHVybiB7SXRlbSB8IEdDfVxuICovXG5jb25zdCBzbGljZVN0cnVjdCA9IChsZWZ0LCBkaWZmKSA9PiB7XG4gIGlmIChsZWZ0LmNvbnN0cnVjdG9yID09PSBHQykge1xuICAgIGNvbnN0IHsgY2xpZW50LCBjbG9jayB9ID0gbGVmdC5pZDtcbiAgICByZXR1cm4gbmV3IEdDKGNyZWF0ZUlEKGNsaWVudCwgY2xvY2sgKyBkaWZmKSwgbGVmdC5sZW5ndGggLSBkaWZmKVxuICB9IGVsc2UgaWYgKGxlZnQuY29uc3RydWN0b3IgPT09IFNraXApIHtcbiAgICBjb25zdCB7IGNsaWVudCwgY2xvY2sgfSA9IGxlZnQuaWQ7XG4gICAgcmV0dXJuIG5ldyBTa2lwKGNyZWF0ZUlEKGNsaWVudCwgY2xvY2sgKyBkaWZmKSwgbGVmdC5sZW5ndGggLSBkaWZmKVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IGxlZnRJdGVtID0gLyoqIEB0eXBlIHtJdGVtfSAqLyAobGVmdCk7XG4gICAgY29uc3QgeyBjbGllbnQsIGNsb2NrIH0gPSBsZWZ0SXRlbS5pZDtcbiAgICByZXR1cm4gbmV3IEl0ZW0oXG4gICAgICBjcmVhdGVJRChjbGllbnQsIGNsb2NrICsgZGlmZiksXG4gICAgICBudWxsLFxuICAgICAgY3JlYXRlSUQoY2xpZW50LCBjbG9jayArIGRpZmYgLSAxKSxcbiAgICAgIG51bGwsXG4gICAgICBsZWZ0SXRlbS5yaWdodE9yaWdpbixcbiAgICAgIGxlZnRJdGVtLnBhcmVudCxcbiAgICAgIGxlZnRJdGVtLnBhcmVudFN1YixcbiAgICAgIGxlZnRJdGVtLmNvbnRlbnQuc3BsaWNlKGRpZmYpXG4gICAgKVxuICB9XG59O1xuXG4vKipcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdvcmtzIHNpbWlsYXJseSB0byBgcmVhZFVwZGF0ZVYyYC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PFVpbnQ4QXJyYXk+fSB1cGRhdGVzXG4gKiBAcGFyYW0ge3R5cGVvZiBVcGRhdGVEZWNvZGVyVjEgfCB0eXBlb2YgVXBkYXRlRGVjb2RlclYyfSBbWURlY29kZXJdXG4gKiBAcGFyYW0ge3R5cGVvZiBVcGRhdGVFbmNvZGVyVjEgfCB0eXBlb2YgVXBkYXRlRW5jb2RlclYyfSBbWUVuY29kZXJdXG4gKiBAcmV0dXJuIHtVaW50OEFycmF5fVxuICovXG5jb25zdCBtZXJnZVVwZGF0ZXNWMiA9ICh1cGRhdGVzLCBZRGVjb2RlciA9IFVwZGF0ZURlY29kZXJWMiwgWUVuY29kZXIgPSBVcGRhdGVFbmNvZGVyVjIpID0+IHtcbiAgaWYgKHVwZGF0ZXMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIHVwZGF0ZXNbMF1cbiAgfVxuICBjb25zdCB1cGRhdGVEZWNvZGVycyA9IHVwZGF0ZXMubWFwKHVwZGF0ZSA9PiBuZXcgWURlY29kZXIoZGVjb2RpbmcuY3JlYXRlRGVjb2Rlcih1cGRhdGUpKSk7XG4gIGxldCBsYXp5U3RydWN0RGVjb2RlcnMgPSB1cGRhdGVEZWNvZGVycy5tYXAoZGVjb2RlciA9PiBuZXcgTGF6eVN0cnVjdFJlYWRlcihkZWNvZGVyLCB0cnVlKSk7XG5cbiAgLyoqXG4gICAqIEB0b2RvIHdlIGRvbid0IG5lZWQgb2Zmc2V0IGJlY2F1c2Ugd2UgYWx3YXlzIHNsaWNlIGJlZm9yZVxuICAgKiBAdHlwZSB7bnVsbCB8IHsgc3RydWN0OiBJdGVtIHwgR0MgfCBTa2lwLCBvZmZzZXQ6IG51bWJlciB9fVxuICAgKi9cbiAgbGV0IGN1cnJXcml0ZSA9IG51bGw7XG5cbiAgY29uc3QgdXBkYXRlRW5jb2RlciA9IG5ldyBZRW5jb2RlcigpO1xuICAvLyB3cml0ZSBzdHJ1Y3RzIGxhemlseVxuICBjb25zdCBsYXp5U3RydWN0RW5jb2RlciA9IG5ldyBMYXp5U3RydWN0V3JpdGVyKHVwZGF0ZUVuY29kZXIpO1xuXG4gIC8vIE5vdGU6IFdlIG5lZWQgdG8gZW5zdXJlIHRoYXQgYWxsIGxhenlTdHJ1Y3REZWNvZGVycyBhcmUgZnVsbHkgY29uc3VtZWRcbiAgLy8gTm90ZTogU2hvdWxkIG1lcmdlIGRvY3VtZW50IHVwZGF0ZXMgd2hlbmV2ZXIgcG9zc2libGUgLSBldmVuIGZyb20gZGlmZmVyZW50IHVwZGF0ZXNcbiAgLy8gTm90ZTogU2hvdWxkIGhhbmRsZSB0aGF0IHNvbWUgb3BlcmF0aW9ucyBjYW5ub3QgYmUgYXBwbGllZCB5ZXQgKClcblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIC8vIFdyaXRlIGhpZ2hlciBjbGllbnRzIGZpcnN0IOKHkiBzb3J0IGJ5IGNsaWVudElEICYgY2xvY2sgYW5kIHJlbW92ZSBkZWNvZGVycyB3aXRob3V0IGNvbnRlbnRcbiAgICBsYXp5U3RydWN0RGVjb2RlcnMgPSBsYXp5U3RydWN0RGVjb2RlcnMuZmlsdGVyKGRlYyA9PiBkZWMuY3VyciAhPT0gbnVsbCk7XG4gICAgbGF6eVN0cnVjdERlY29kZXJzLnNvcnQoXG4gICAgICAvKiogQHR5cGUge2Z1bmN0aW9uKGFueSxhbnkpOm51bWJlcn0gKi8gKGRlYzEsIGRlYzIpID0+IHtcbiAgICAgICAgaWYgKGRlYzEuY3Vyci5pZC5jbGllbnQgPT09IGRlYzIuY3Vyci5pZC5jbGllbnQpIHtcbiAgICAgICAgICBjb25zdCBjbG9ja0RpZmYgPSBkZWMxLmN1cnIuaWQuY2xvY2sgLSBkZWMyLmN1cnIuaWQuY2xvY2s7XG4gICAgICAgICAgaWYgKGNsb2NrRGlmZiA9PT0gMCkge1xuICAgICAgICAgICAgLy8gQHRvZG8gcmVtb3ZlIHJlZmVyZW5jZXMgdG8gc2tpcCBzaW5jZSB0aGUgc3RydWN0RGVjb2RlcnMgbXVzdCBmaWx0ZXIgU2tpcHMuXG4gICAgICAgICAgICByZXR1cm4gZGVjMS5jdXJyLmNvbnN0cnVjdG9yID09PSBkZWMyLmN1cnIuY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgPyAwXG4gICAgICAgICAgICAgIDogZGVjMS5jdXJyLmNvbnN0cnVjdG9yID09PSBTa2lwID8gMSA6IC0xIC8vIHdlIGFyZSBmaWx0ZXJpbmcgc2tpcHMgYW55d2F5LlxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gY2xvY2tEaWZmXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBkZWMyLmN1cnIuaWQuY2xpZW50IC0gZGVjMS5jdXJyLmlkLmNsaWVudFxuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgICBpZiAobGF6eVN0cnVjdERlY29kZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgYnJlYWtcbiAgICB9XG4gICAgY29uc3QgY3VyckRlY29kZXIgPSBsYXp5U3RydWN0RGVjb2RlcnNbMF07XG4gICAgLy8gd3JpdGUgZnJvbSBjdXJyRGVjb2RlciB1bnRpbCB0aGUgbmV4dCBvcGVyYXRpb24gaXMgZnJvbSBhbm90aGVyIGNsaWVudCBvciBpZiBmaWxsZXItc3RydWN0XG4gICAgLy8gdGhlbiB3ZSBuZWVkIHRvIHJlb3JkZXIgdGhlIGRlY29kZXJzIGFuZCBmaW5kIHRoZSBuZXh0IG9wZXJhdGlvbiB0byB3cml0ZVxuICAgIGNvbnN0IGZpcnN0Q2xpZW50ID0gLyoqIEB0eXBlIHtJdGVtIHwgR0N9ICovIChjdXJyRGVjb2Rlci5jdXJyKS5pZC5jbGllbnQ7XG5cbiAgICBpZiAoY3VycldyaXRlICE9PSBudWxsKSB7XG4gICAgICBsZXQgY3VyciA9IC8qKiBAdHlwZSB7SXRlbSB8IEdDIHwgbnVsbH0gKi8gKGN1cnJEZWNvZGVyLmN1cnIpO1xuICAgICAgbGV0IGl0ZXJhdGVkID0gZmFsc2U7XG5cbiAgICAgIC8vIGl0ZXJhdGUgdW50aWwgd2UgZmluZCBzb21ldGhpbmcgdGhhdCB3ZSBoYXZlbid0IHdyaXR0ZW4gYWxyZWFkeVxuICAgICAgLy8gcmVtZW1iZXI6IGZpcnN0IHRoZSBoaWdoIGNsaWVudC1pZHMgYXJlIHdyaXR0ZW5cbiAgICAgIHdoaWxlIChjdXJyICE9PSBudWxsICYmIGN1cnIuaWQuY2xvY2sgKyBjdXJyLmxlbmd0aCA8PSBjdXJyV3JpdGUuc3RydWN0LmlkLmNsb2NrICsgY3VycldyaXRlLnN0cnVjdC5sZW5ndGggJiYgY3Vyci5pZC5jbGllbnQgPj0gY3VycldyaXRlLnN0cnVjdC5pZC5jbGllbnQpIHtcbiAgICAgICAgY3VyciA9IGN1cnJEZWNvZGVyLm5leHQoKTtcbiAgICAgICAgaXRlcmF0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBjdXJyID09PSBudWxsIHx8IC8vIGN1cnJlbnQgZGVjb2RlciBpcyBlbXB0eVxuICAgICAgICBjdXJyLmlkLmNsaWVudCAhPT0gZmlyc3RDbGllbnQgfHwgLy8gY2hlY2sgd2hldGhlciB0aGVyZSBpcyBhbm90aGVyIGRlY29kZXIgdGhhdCBoYXMgaGFzIHVwZGF0ZXMgZnJvbSBgZmlyc3RDbGllbnRgXG4gICAgICAgIChpdGVyYXRlZCAmJiBjdXJyLmlkLmNsb2NrID4gY3VycldyaXRlLnN0cnVjdC5pZC5jbG9jayArIGN1cnJXcml0ZS5zdHJ1Y3QubGVuZ3RoKSAvLyB0aGUgYWJvdmUgd2hpbGUgbG9vcCB3YXMgdXNlZCBhbmQgd2UgYXJlIHBvdGVudGlhbGx5IG1pc3NpbmcgdXBkYXRlc1xuICAgICAgKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIGlmIChmaXJzdENsaWVudCAhPT0gY3VycldyaXRlLnN0cnVjdC5pZC5jbGllbnQpIHtcbiAgICAgICAgd3JpdGVTdHJ1Y3RUb0xhenlTdHJ1Y3RXcml0ZXIobGF6eVN0cnVjdEVuY29kZXIsIGN1cnJXcml0ZS5zdHJ1Y3QsIGN1cnJXcml0ZS5vZmZzZXQpO1xuICAgICAgICBjdXJyV3JpdGUgPSB7IHN0cnVjdDogY3Vyciwgb2Zmc2V0OiAwIH07XG4gICAgICAgIGN1cnJEZWNvZGVyLm5leHQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjdXJyV3JpdGUuc3RydWN0LmlkLmNsb2NrICsgY3VycldyaXRlLnN0cnVjdC5sZW5ndGggPCBjdXJyLmlkLmNsb2NrKSB7XG4gICAgICAgICAgLy8gQHRvZG8gd3JpdGUgY3VyclN0cnVjdCAmIHNldCBjdXJyU3RydWN0ID0gU2tpcChjbG9jayA9IGN1cnJTdHJ1Y3QuaWQuY2xvY2sgKyBjdXJyU3RydWN0Lmxlbmd0aCwgbGVuZ3RoID0gY3Vyci5pZC5jbG9jayAtIHNlbGYuY2xvY2spXG4gICAgICAgICAgaWYgKGN1cnJXcml0ZS5zdHJ1Y3QuY29uc3RydWN0b3IgPT09IFNraXApIHtcbiAgICAgICAgICAgIC8vIGV4dGVuZCBleGlzdGluZyBza2lwXG4gICAgICAgICAgICBjdXJyV3JpdGUuc3RydWN0Lmxlbmd0aCA9IGN1cnIuaWQuY2xvY2sgKyBjdXJyLmxlbmd0aCAtIGN1cnJXcml0ZS5zdHJ1Y3QuaWQuY2xvY2s7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdyaXRlU3RydWN0VG9MYXp5U3RydWN0V3JpdGVyKGxhenlTdHJ1Y3RFbmNvZGVyLCBjdXJyV3JpdGUuc3RydWN0LCBjdXJyV3JpdGUub2Zmc2V0KTtcbiAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBjdXJyLmlkLmNsb2NrIC0gY3VycldyaXRlLnN0cnVjdC5pZC5jbG9jayAtIGN1cnJXcml0ZS5zdHJ1Y3QubGVuZ3RoO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAdHlwZSB7U2tpcH1cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3Qgc3RydWN0ID0gbmV3IFNraXAoY3JlYXRlSUQoZmlyc3RDbGllbnQsIGN1cnJXcml0ZS5zdHJ1Y3QuaWQuY2xvY2sgKyBjdXJyV3JpdGUuc3RydWN0Lmxlbmd0aCksIGRpZmYpO1xuICAgICAgICAgICAgY3VycldyaXRlID0geyBzdHJ1Y3QsIG9mZnNldDogMCB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHsgLy8gaWYgKGN1cnJXcml0ZS5zdHJ1Y3QuaWQuY2xvY2sgKyBjdXJyV3JpdGUuc3RydWN0Lmxlbmd0aCA+PSBjdXJyLmlkLmNsb2NrKSB7XG4gICAgICAgICAgY29uc3QgZGlmZiA9IGN1cnJXcml0ZS5zdHJ1Y3QuaWQuY2xvY2sgKyBjdXJyV3JpdGUuc3RydWN0Lmxlbmd0aCAtIGN1cnIuaWQuY2xvY2s7XG4gICAgICAgICAgaWYgKGRpZmYgPiAwKSB7XG4gICAgICAgICAgICBpZiAoY3VycldyaXRlLnN0cnVjdC5jb25zdHJ1Y3RvciA9PT0gU2tpcCkge1xuICAgICAgICAgICAgICAvLyBwcmVmZXIgdG8gc2xpY2UgU2tpcCBiZWNhdXNlIHRoZSBvdGhlciBzdHJ1Y3QgbWlnaHQgY29udGFpbiBtb3JlIGluZm9ybWF0aW9uXG4gICAgICAgICAgICAgIGN1cnJXcml0ZS5zdHJ1Y3QubGVuZ3RoIC09IGRpZmY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjdXJyID0gc2xpY2VTdHJ1Y3QoY3VyciwgZGlmZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghY3VycldyaXRlLnN0cnVjdC5tZXJnZVdpdGgoLyoqIEB0eXBlIHthbnl9ICovIChjdXJyKSkpIHtcbiAgICAgICAgICAgIHdyaXRlU3RydWN0VG9MYXp5U3RydWN0V3JpdGVyKGxhenlTdHJ1Y3RFbmNvZGVyLCBjdXJyV3JpdGUuc3RydWN0LCBjdXJyV3JpdGUub2Zmc2V0KTtcbiAgICAgICAgICAgIGN1cnJXcml0ZSA9IHsgc3RydWN0OiBjdXJyLCBvZmZzZXQ6IDAgfTtcbiAgICAgICAgICAgIGN1cnJEZWNvZGVyLm5leHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY3VycldyaXRlID0geyBzdHJ1Y3Q6IC8qKiBAdHlwZSB7SXRlbSB8IEdDfSAqLyAoY3VyckRlY29kZXIuY3VyciksIG9mZnNldDogMCB9O1xuICAgICAgY3VyckRlY29kZXIubmV4dCgpO1xuICAgIH1cbiAgICBmb3IgKFxuICAgICAgbGV0IG5leHQgPSBjdXJyRGVjb2Rlci5jdXJyO1xuICAgICAgbmV4dCAhPT0gbnVsbCAmJiBuZXh0LmlkLmNsaWVudCA9PT0gZmlyc3RDbGllbnQgJiYgbmV4dC5pZC5jbG9jayA9PT0gY3VycldyaXRlLnN0cnVjdC5pZC5jbG9jayArIGN1cnJXcml0ZS5zdHJ1Y3QubGVuZ3RoICYmIG5leHQuY29uc3RydWN0b3IgIT09IFNraXA7XG4gICAgICBuZXh0ID0gY3VyckRlY29kZXIubmV4dCgpXG4gICAgKSB7XG4gICAgICB3cml0ZVN0cnVjdFRvTGF6eVN0cnVjdFdyaXRlcihsYXp5U3RydWN0RW5jb2RlciwgY3VycldyaXRlLnN0cnVjdCwgY3VycldyaXRlLm9mZnNldCk7XG4gICAgICBjdXJyV3JpdGUgPSB7IHN0cnVjdDogbmV4dCwgb2Zmc2V0OiAwIH07XG4gICAgfVxuICB9XG4gIGlmIChjdXJyV3JpdGUgIT09IG51bGwpIHtcbiAgICB3cml0ZVN0cnVjdFRvTGF6eVN0cnVjdFdyaXRlcihsYXp5U3RydWN0RW5jb2RlciwgY3VycldyaXRlLnN0cnVjdCwgY3VycldyaXRlLm9mZnNldCk7XG4gICAgY3VycldyaXRlID0gbnVsbDtcbiAgfVxuICBmaW5pc2hMYXp5U3RydWN0V3JpdGluZyhsYXp5U3RydWN0RW5jb2Rlcik7XG5cbiAgY29uc3QgZHNzID0gdXBkYXRlRGVjb2RlcnMubWFwKGRlY29kZXIgPT4gcmVhZERlbGV0ZVNldChkZWNvZGVyKSk7XG4gIGNvbnN0IGRzID0gbWVyZ2VEZWxldGVTZXRzKGRzcyk7XG4gIHdyaXRlRGVsZXRlU2V0KHVwZGF0ZUVuY29kZXIsIGRzKTtcbiAgcmV0dXJuIHVwZGF0ZUVuY29kZXIudG9VaW50OEFycmF5KClcbn07XG5cbi8qKlxuICogQHBhcmFtIHtVaW50OEFycmF5fSB1cGRhdGVcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gc3ZcbiAqIEBwYXJhbSB7dHlwZW9mIFVwZGF0ZURlY29kZXJWMSB8IHR5cGVvZiBVcGRhdGVEZWNvZGVyVjJ9IFtZRGVjb2Rlcl1cbiAqIEBwYXJhbSB7dHlwZW9mIFVwZGF0ZUVuY29kZXJWMSB8IHR5cGVvZiBVcGRhdGVFbmNvZGVyVjJ9IFtZRW5jb2Rlcl1cbiAqL1xuY29uc3QgZGlmZlVwZGF0ZVYyID0gKHVwZGF0ZSwgc3YsIFlEZWNvZGVyID0gVXBkYXRlRGVjb2RlclYyLCBZRW5jb2RlciA9IFVwZGF0ZUVuY29kZXJWMikgPT4ge1xuICBjb25zdCBzdGF0ZSA9IGRlY29kZVN0YXRlVmVjdG9yKHN2KTtcbiAgY29uc3QgZW5jb2RlciA9IG5ldyBZRW5jb2RlcigpO1xuICBjb25zdCBsYXp5U3RydWN0V3JpdGVyID0gbmV3IExhenlTdHJ1Y3RXcml0ZXIoZW5jb2Rlcik7XG4gIGNvbnN0IGRlY29kZXIgPSBuZXcgWURlY29kZXIoZGVjb2RpbmcuY3JlYXRlRGVjb2Rlcih1cGRhdGUpKTtcbiAgY29uc3QgcmVhZGVyID0gbmV3IExhenlTdHJ1Y3RSZWFkZXIoZGVjb2RlciwgZmFsc2UpO1xuICB3aGlsZSAocmVhZGVyLmN1cnIpIHtcbiAgICBjb25zdCBjdXJyID0gcmVhZGVyLmN1cnI7XG4gICAgY29uc3QgY3VyckNsaWVudCA9IGN1cnIuaWQuY2xpZW50O1xuICAgIGNvbnN0IHN2Q2xvY2sgPSBzdGF0ZS5nZXQoY3VyckNsaWVudCkgfHwgMDtcbiAgICBpZiAocmVhZGVyLmN1cnIuY29uc3RydWN0b3IgPT09IFNraXApIHtcbiAgICAgIC8vIHRoZSBmaXJzdCB3cml0dGVuIHN0cnVjdCBzaG91bGRuJ3QgYmUgYSBza2lwXG4gICAgICByZWFkZXIubmV4dCgpO1xuICAgICAgY29udGludWVcbiAgICB9XG4gICAgaWYgKGN1cnIuaWQuY2xvY2sgKyBjdXJyLmxlbmd0aCA+IHN2Q2xvY2spIHtcbiAgICAgIHdyaXRlU3RydWN0VG9MYXp5U3RydWN0V3JpdGVyKGxhenlTdHJ1Y3RXcml0ZXIsIGN1cnIsIG1hdGgubWF4KHN2Q2xvY2sgLSBjdXJyLmlkLmNsb2NrLCAwKSk7XG4gICAgICByZWFkZXIubmV4dCgpO1xuICAgICAgd2hpbGUgKHJlYWRlci5jdXJyICYmIHJlYWRlci5jdXJyLmlkLmNsaWVudCA9PT0gY3VyckNsaWVudCkge1xuICAgICAgICB3cml0ZVN0cnVjdFRvTGF6eVN0cnVjdFdyaXRlcihsYXp5U3RydWN0V3JpdGVyLCByZWFkZXIuY3VyciwgMCk7XG4gICAgICAgIHJlYWRlci5uZXh0KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHJlYWQgdW50aWwgc29tZXRoaW5nIG5ldyBjb21lcyB1cFxuICAgICAgd2hpbGUgKHJlYWRlci5jdXJyICYmIHJlYWRlci5jdXJyLmlkLmNsaWVudCA9PT0gY3VyckNsaWVudCAmJiByZWFkZXIuY3Vyci5pZC5jbG9jayArIHJlYWRlci5jdXJyLmxlbmd0aCA8PSBzdkNsb2NrKSB7XG4gICAgICAgIHJlYWRlci5uZXh0KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZpbmlzaExhenlTdHJ1Y3RXcml0aW5nKGxhenlTdHJ1Y3RXcml0ZXIpO1xuICAvLyB3cml0ZSBkc1xuICBjb25zdCBkcyA9IHJlYWREZWxldGVTZXQoZGVjb2Rlcik7XG4gIHdyaXRlRGVsZXRlU2V0KGVuY29kZXIsIGRzKTtcbiAgcmV0dXJuIGVuY29kZXIudG9VaW50OEFycmF5KClcbn07XG5cbi8qKlxuICogQHBhcmFtIHtVaW50OEFycmF5fSB1cGRhdGVcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gc3ZcbiAqL1xuY29uc3QgZGlmZlVwZGF0ZSA9ICh1cGRhdGUsIHN2KSA9PiBkaWZmVXBkYXRlVjIodXBkYXRlLCBzdiwgVXBkYXRlRGVjb2RlclYxLCBVcGRhdGVFbmNvZGVyVjEpO1xuXG4vKipcbiAqIEBwYXJhbSB7TGF6eVN0cnVjdFdyaXRlcn0gbGF6eVdyaXRlclxuICovXG5jb25zdCBmbHVzaExhenlTdHJ1Y3RXcml0ZXIgPSBsYXp5V3JpdGVyID0+IHtcbiAgaWYgKGxhenlXcml0ZXIud3JpdHRlbiA+IDApIHtcbiAgICBsYXp5V3JpdGVyLmNsaWVudFN0cnVjdHMucHVzaCh7IHdyaXR0ZW46IGxhenlXcml0ZXIud3JpdHRlbiwgcmVzdEVuY29kZXI6IGVuY29kaW5nLnRvVWludDhBcnJheShsYXp5V3JpdGVyLmVuY29kZXIucmVzdEVuY29kZXIpIH0pO1xuICAgIGxhenlXcml0ZXIuZW5jb2Rlci5yZXN0RW5jb2RlciA9IGVuY29kaW5nLmNyZWF0ZUVuY29kZXIoKTtcbiAgICBsYXp5V3JpdGVyLndyaXR0ZW4gPSAwO1xuICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7TGF6eVN0cnVjdFdyaXRlcn0gbGF6eVdyaXRlclxuICogQHBhcmFtIHtJdGVtIHwgR0N9IHN0cnVjdFxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldFxuICovXG5jb25zdCB3cml0ZVN0cnVjdFRvTGF6eVN0cnVjdFdyaXRlciA9IChsYXp5V3JpdGVyLCBzdHJ1Y3QsIG9mZnNldCkgPT4ge1xuICAvLyBmbHVzaCBjdXJyIGlmIHdlIHN0YXJ0IGFub3RoZXIgY2xpZW50XG4gIGlmIChsYXp5V3JpdGVyLndyaXR0ZW4gPiAwICYmIGxhenlXcml0ZXIuY3VyckNsaWVudCAhPT0gc3RydWN0LmlkLmNsaWVudCkge1xuICAgIGZsdXNoTGF6eVN0cnVjdFdyaXRlcihsYXp5V3JpdGVyKTtcbiAgfVxuICBpZiAobGF6eVdyaXRlci53cml0dGVuID09PSAwKSB7XG4gICAgbGF6eVdyaXRlci5jdXJyQ2xpZW50ID0gc3RydWN0LmlkLmNsaWVudDtcbiAgICAvLyB3cml0ZSBuZXh0IGNsaWVudFxuICAgIGxhenlXcml0ZXIuZW5jb2Rlci53cml0ZUNsaWVudChzdHJ1Y3QuaWQuY2xpZW50KTtcbiAgICAvLyB3cml0ZSBzdGFydENsb2NrXG4gICAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KGxhenlXcml0ZXIuZW5jb2Rlci5yZXN0RW5jb2Rlciwgc3RydWN0LmlkLmNsb2NrICsgb2Zmc2V0KTtcbiAgfVxuICBzdHJ1Y3Qud3JpdGUobGF6eVdyaXRlci5lbmNvZGVyLCBvZmZzZXQpO1xuICBsYXp5V3JpdGVyLndyaXR0ZW4rKztcbn07XG4vKipcbiAqIENhbGwgdGhpcyBmdW5jdGlvbiB3aGVuIHdlIGNvbGxlY3RlZCBhbGwgcGFydHMgYW5kIHdhbnQgdG9cbiAqIHB1dCBhbGwgdGhlIHBhcnRzIHRvZ2V0aGVyLiBBZnRlciBjYWxsaW5nIHRoaXMgbWV0aG9kLFxuICogeW91IGNhbiBjb250aW51ZSB1c2luZyB0aGUgVXBkYXRlRW5jb2Rlci5cbiAqXG4gKiBAcGFyYW0ge0xhenlTdHJ1Y3RXcml0ZXJ9IGxhenlXcml0ZXJcbiAqL1xuY29uc3QgZmluaXNoTGF6eVN0cnVjdFdyaXRpbmcgPSAobGF6eVdyaXRlcikgPT4ge1xuICBmbHVzaExhenlTdHJ1Y3RXcml0ZXIobGF6eVdyaXRlcik7XG5cbiAgLy8gdGhpcyBpcyBhIGZyZXNoIGVuY29kZXIgYmVjYXVzZSB3ZSBjYWxsZWQgZmx1c2hDdXJyXG4gIGNvbnN0IHJlc3RFbmNvZGVyID0gbGF6eVdyaXRlci5lbmNvZGVyLnJlc3RFbmNvZGVyO1xuXG4gIC8qKlxuICAgKiBOb3cgd2UgcHV0IGFsbCB0aGUgZnJhZ21lbnRzIHRvZ2V0aGVyLlxuICAgKiBUaGlzIHdvcmtzIHNpbWlsYXJseSB0byBgd3JpdGVDbGllbnRzU3RydWN0c2BcbiAgICovXG5cbiAgLy8gd3JpdGUgIyBzdGF0ZXMgdGhhdCB3ZXJlIHVwZGF0ZWQgLSBpLmUuIHRoZSBjbGllbnRzXG4gIGVuY29kaW5nLndyaXRlVmFyVWludChyZXN0RW5jb2RlciwgbGF6eVdyaXRlci5jbGllbnRTdHJ1Y3RzLmxlbmd0aCk7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXp5V3JpdGVyLmNsaWVudFN0cnVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBwYXJ0U3RydWN0cyA9IGxhenlXcml0ZXIuY2xpZW50U3RydWN0c1tpXTtcbiAgICAvKipcbiAgICAgKiBXb3JrcyBzaW1pbGFybHkgdG8gYHdyaXRlU3RydWN0c2BcbiAgICAgKi9cbiAgICAvLyB3cml0ZSAjIGVuY29kZWQgc3RydWN0c1xuICAgIGVuY29kaW5nLndyaXRlVmFyVWludChyZXN0RW5jb2RlciwgcGFydFN0cnVjdHMud3JpdHRlbik7XG4gICAgLy8gd3JpdGUgdGhlIHJlc3Qgb2YgdGhlIGZyYWdtZW50XG4gICAgZW5jb2Rpbmcud3JpdGVVaW50OEFycmF5KHJlc3RFbmNvZGVyLCBwYXJ0U3RydWN0cy5yZXN0RW5jb2Rlcik7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtVaW50OEFycmF5fSB1cGRhdGVcbiAqIEBwYXJhbSB7dHlwZW9mIFVwZGF0ZURlY29kZXJWMiB8IHR5cGVvZiBVcGRhdGVEZWNvZGVyVjF9IFlEZWNvZGVyXG4gKiBAcGFyYW0ge3R5cGVvZiBVcGRhdGVFbmNvZGVyVjIgfCB0eXBlb2YgVXBkYXRlRW5jb2RlclYxIH0gWUVuY29kZXJcbiAqL1xuY29uc3QgY29udmVydFVwZGF0ZUZvcm1hdCA9ICh1cGRhdGUsIFlEZWNvZGVyLCBZRW5jb2RlcikgPT4ge1xuICBjb25zdCB1cGRhdGVEZWNvZGVyID0gbmV3IFlEZWNvZGVyKGRlY29kaW5nLmNyZWF0ZURlY29kZXIodXBkYXRlKSk7XG4gIGNvbnN0IGxhenlEZWNvZGVyID0gbmV3IExhenlTdHJ1Y3RSZWFkZXIodXBkYXRlRGVjb2RlciwgZmFsc2UpO1xuICBjb25zdCB1cGRhdGVFbmNvZGVyID0gbmV3IFlFbmNvZGVyKCk7XG4gIGNvbnN0IGxhenlXcml0ZXIgPSBuZXcgTGF6eVN0cnVjdFdyaXRlcih1cGRhdGVFbmNvZGVyKTtcblxuICBmb3IgKGxldCBjdXJyID0gbGF6eURlY29kZXIuY3VycjsgY3VyciAhPT0gbnVsbDsgY3VyciA9IGxhenlEZWNvZGVyLm5leHQoKSkge1xuICAgIHdyaXRlU3RydWN0VG9MYXp5U3RydWN0V3JpdGVyKGxhenlXcml0ZXIsIGN1cnIsIDApO1xuICB9XG4gIGZpbmlzaExhenlTdHJ1Y3RXcml0aW5nKGxhenlXcml0ZXIpO1xuICBjb25zdCBkcyA9IHJlYWREZWxldGVTZXQodXBkYXRlRGVjb2Rlcik7XG4gIHdyaXRlRGVsZXRlU2V0KHVwZGF0ZUVuY29kZXIsIGRzKTtcbiAgcmV0dXJuIHVwZGF0ZUVuY29kZXIudG9VaW50OEFycmF5KClcbn07XG5cbi8qKlxuICogQHBhcmFtIHtVaW50OEFycmF5fSB1cGRhdGVcbiAqL1xuY29uc3QgY29udmVydFVwZGF0ZUZvcm1hdFYxVG9WMiA9IHVwZGF0ZSA9PiBjb252ZXJ0VXBkYXRlRm9ybWF0KHVwZGF0ZSwgVXBkYXRlRGVjb2RlclYxLCBVcGRhdGVFbmNvZGVyVjIpO1xuXG4vKipcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gdXBkYXRlXG4gKi9cbmNvbnN0IGNvbnZlcnRVcGRhdGVGb3JtYXRWMlRvVjEgPSB1cGRhdGUgPT4gY29udmVydFVwZGF0ZUZvcm1hdCh1cGRhdGUsIFVwZGF0ZURlY29kZXJWMiwgVXBkYXRlRW5jb2RlclYxKTtcblxuLyoqXG4gKiBAdGVtcGxhdGUge0Fic3RyYWN0VHlwZTxhbnk+fSBUXG4gKiBZRXZlbnQgZGVzY3JpYmVzIHRoZSBjaGFuZ2VzIG9uIGEgWVR5cGUuXG4gKi9cbmNsYXNzIFlFdmVudCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1R9IHRhcmdldCBUaGUgY2hhbmdlZCB0eXBlLlxuICAgKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKi9cbiAgY29uc3RydWN0b3IgKHRhcmdldCwgdHJhbnNhY3Rpb24pIHtcbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvbiB3aGljaCB0aGlzIGV2ZW50IHdhcyBjcmVhdGVkIG9uLlxuICAgICAqIEB0eXBlIHtUfVxuICAgICAqL1xuICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IHRhcmdldCBvbiB3aGljaCB0aGUgb2JzZXJ2ZSBjYWxsYmFjayBpcyBjYWxsZWQuXG4gICAgICogQHR5cGUge0Fic3RyYWN0VHlwZTxhbnk+fVxuICAgICAqL1xuICAgIHRoaXMuY3VycmVudFRhcmdldCA9IHRhcmdldDtcbiAgICAvKipcbiAgICAgKiBUaGUgdHJhbnNhY3Rpb24gdGhhdCB0cmlnZ2VyZWQgdGhpcyBldmVudC5cbiAgICAgKiBAdHlwZSB7VHJhbnNhY3Rpb259XG4gICAgICovXG4gICAgdGhpcy50cmFuc2FjdGlvbiA9IHRyYW5zYWN0aW9uO1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtPYmplY3R8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLl9jaGFuZ2VzID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVsbCB8IE1hcDxzdHJpbmcsIHsgYWN0aW9uOiAnYWRkJyB8ICd1cGRhdGUnIHwgJ2RlbGV0ZScsIG9sZFZhbHVlOiBhbnksIG5ld1ZhbHVlOiBhbnkgfT59XG4gICAgICovXG4gICAgdGhpcy5fa2V5cyA9IG51bGw7XG4gICAgLyoqXG4gICAgICogQHR5cGUge251bGwgfCBBcnJheTx7IGluc2VydD86IHN0cmluZyB8IEFycmF5PGFueT4gfCBvYmplY3QgfCBBYnN0cmFjdFR5cGU8YW55PiwgcmV0YWluPzogbnVtYmVyLCBkZWxldGU/OiBudW1iZXIsIGF0dHJpYnV0ZXM/OiBPYmplY3Q8c3RyaW5nLCBhbnk+IH0+fVxuICAgICAqL1xuICAgIHRoaXMuX2RlbHRhID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wdXRlcyB0aGUgcGF0aCBmcm9tIGB5YCB0byB0aGUgY2hhbmdlZCB0eXBlLlxuICAgKlxuICAgKiBAdG9kbyB2MTQgc2hvdWxkIHN0YW5kYXJkaXplIG9uIHBhdGg6IEFycmF5PHtwYXJlbnQsIGluZGV4fT4gYmVjYXVzZSB0aGF0IGlzIGVhc2llciB0byB3b3JrIHdpdGguXG4gICAqXG4gICAqIFRoZSBmb2xsb3dpbmcgcHJvcGVydHkgaG9sZHM6XG4gICAqIEBleGFtcGxlXG4gICAqICAgbGV0IHR5cGUgPSB5XG4gICAqICAgZXZlbnQucGF0aC5mb3JFYWNoKGRpciA9PiB7XG4gICAqICAgICB0eXBlID0gdHlwZS5nZXQoZGlyKVxuICAgKiAgIH0pXG4gICAqICAgdHlwZSA9PT0gZXZlbnQudGFyZ2V0IC8vID0+IHRydWVcbiAgICovXG4gIGdldCBwYXRoICgpIHtcbiAgICAvLyBAdHMtaWdub3JlIF9pdGVtIGlzIGRlZmluZWQgYmVjYXVzZSB0YXJnZXQgaXMgaW50ZWdyYXRlZFxuICAgIHJldHVybiBnZXRQYXRoVG8odGhpcy5jdXJyZW50VGFyZ2V0LCB0aGlzLnRhcmdldClcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHN0cnVjdCBpcyBkZWxldGVkIGJ5IHRoaXMgZXZlbnQuXG4gICAqXG4gICAqIEluIGNvbnRyYXN0IHRvIGNoYW5nZS5kZWxldGVkLCB0aGlzIG1ldGhvZCBhbHNvIHJldHVybnMgdHJ1ZSBpZiB0aGUgc3RydWN0IHdhcyBhZGRlZCBhbmQgdGhlbiBkZWxldGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge0Fic3RyYWN0U3RydWN0fSBzdHJ1Y3RcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGRlbGV0ZXMgKHN0cnVjdCkge1xuICAgIHJldHVybiBpc0RlbGV0ZWQodGhpcy50cmFuc2FjdGlvbi5kZWxldGVTZXQsIHN0cnVjdC5pZClcbiAgfVxuXG4gIC8qKlxuICAgKiBAdHlwZSB7TWFwPHN0cmluZywgeyBhY3Rpb246ICdhZGQnIHwgJ3VwZGF0ZScgfCAnZGVsZXRlJywgb2xkVmFsdWU6IGFueSwgbmV3VmFsdWU6IGFueSB9Pn1cbiAgICovXG4gIGdldCBrZXlzICgpIHtcbiAgICBpZiAodGhpcy5fa2V5cyA9PT0gbnVsbCkge1xuICAgICAgY29uc3Qga2V5cyA9IG5ldyBNYXAoKTtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMudGFyZ2V0O1xuICAgICAgY29uc3QgY2hhbmdlZCA9IC8qKiBAdHlwZSBTZXQ8c3RyaW5nfG51bGw+ICovICh0aGlzLnRyYW5zYWN0aW9uLmNoYW5nZWQuZ2V0KHRhcmdldCkpO1xuICAgICAgY2hhbmdlZC5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGlmIChrZXkgIT09IG51bGwpIHtcbiAgICAgICAgICBjb25zdCBpdGVtID0gLyoqIEB0eXBlIHtJdGVtfSAqLyAodGFyZ2V0Ll9tYXAuZ2V0KGtleSkpO1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEB0eXBlIHsnZGVsZXRlJyB8ICdhZGQnIHwgJ3VwZGF0ZSd9XG4gICAgICAgICAgICovXG4gICAgICAgICAgbGV0IGFjdGlvbjtcbiAgICAgICAgICBsZXQgb2xkVmFsdWU7XG4gICAgICAgICAgaWYgKHRoaXMuYWRkcyhpdGVtKSkge1xuICAgICAgICAgICAgbGV0IHByZXYgPSBpdGVtLmxlZnQ7XG4gICAgICAgICAgICB3aGlsZSAocHJldiAhPT0gbnVsbCAmJiB0aGlzLmFkZHMocHJldikpIHtcbiAgICAgICAgICAgICAgcHJldiA9IHByZXYubGVmdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmRlbGV0ZXMoaXRlbSkpIHtcbiAgICAgICAgICAgICAgaWYgKHByZXYgIT09IG51bGwgJiYgdGhpcy5kZWxldGVzKHByZXYpKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uID0gJ2RlbGV0ZSc7XG4gICAgICAgICAgICAgICAgb2xkVmFsdWUgPSBhcnJheS5sYXN0KHByZXYuY29udGVudC5nZXRDb250ZW50KCkpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAocHJldiAhPT0gbnVsbCAmJiB0aGlzLmRlbGV0ZXMocHJldikpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb24gPSAndXBkYXRlJztcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZSA9IGFycmF5Lmxhc3QocHJldi5jb250ZW50LmdldENvbnRlbnQoKSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uID0gJ2FkZCc7XG4gICAgICAgICAgICAgICAgb2xkVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGVsZXRlcyhpdGVtKSkge1xuICAgICAgICAgICAgICBhY3Rpb24gPSAnZGVsZXRlJztcbiAgICAgICAgICAgICAgb2xkVmFsdWUgPSBhcnJheS5sYXN0KC8qKiBAdHlwZSB7SXRlbX0gKi8gaXRlbS5jb250ZW50LmdldENvbnRlbnQoKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gLy8gbm9wXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGtleXMuc2V0KGtleSwgeyBhY3Rpb24sIG9sZFZhbHVlIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2tleXMgPSBrZXlzO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fa2V5c1xuICB9XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtBcnJheTx7aW5zZXJ0Pzogc3RyaW5nIHwgQXJyYXk8YW55PiB8IG9iamVjdCB8IEFic3RyYWN0VHlwZTxhbnk+LCByZXRhaW4/OiBudW1iZXIsIGRlbGV0ZT86IG51bWJlciwgYXR0cmlidXRlcz86IE9iamVjdDxzdHJpbmcsIGFueT59Pn1cbiAgICovXG4gIGdldCBkZWx0YSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2hhbmdlcy5kZWx0YVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgc3RydWN0IGlzIGFkZGVkIGJ5IHRoaXMgZXZlbnQuXG4gICAqXG4gICAqIEluIGNvbnRyYXN0IHRvIGNoYW5nZS5kZWxldGVkLCB0aGlzIG1ldGhvZCBhbHNvIHJldHVybnMgdHJ1ZSBpZiB0aGUgc3RydWN0IHdhcyBhZGRlZCBhbmQgdGhlbiBkZWxldGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge0Fic3RyYWN0U3RydWN0fSBzdHJ1Y3RcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGFkZHMgKHN0cnVjdCkge1xuICAgIHJldHVybiBzdHJ1Y3QuaWQuY2xvY2sgPj0gKHRoaXMudHJhbnNhY3Rpb24uYmVmb3JlU3RhdGUuZ2V0KHN0cnVjdC5pZC5jbGllbnQpIHx8IDApXG4gIH1cblxuICAvKipcbiAgICogQHR5cGUge3thZGRlZDpTZXQ8SXRlbT4sZGVsZXRlZDpTZXQ8SXRlbT4sa2V5czpNYXA8c3RyaW5nLHthY3Rpb246J2FkZCd8J3VwZGF0ZSd8J2RlbGV0ZScsb2xkVmFsdWU6YW55fT4sZGVsdGE6QXJyYXk8e2luc2VydD86QXJyYXk8YW55PnxzdHJpbmcsIGRlbGV0ZT86bnVtYmVyLCByZXRhaW4/Om51bWJlcn0+fX1cbiAgICovXG4gIGdldCBjaGFuZ2VzICgpIHtcbiAgICBsZXQgY2hhbmdlcyA9IHRoaXMuX2NoYW5nZXM7XG4gICAgaWYgKGNoYW5nZXMgPT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMudGFyZ2V0O1xuICAgICAgY29uc3QgYWRkZWQgPSBzZXQuY3JlYXRlKCk7XG4gICAgICBjb25zdCBkZWxldGVkID0gc2V0LmNyZWF0ZSgpO1xuICAgICAgLyoqXG4gICAgICAgKiBAdHlwZSB7QXJyYXk8e2luc2VydDpBcnJheTxhbnk+fXx7ZGVsZXRlOm51bWJlcn18e3JldGFpbjpudW1iZXJ9Pn1cbiAgICAgICAqL1xuICAgICAgY29uc3QgZGVsdGEgPSBbXTtcbiAgICAgIGNoYW5nZXMgPSB7XG4gICAgICAgIGFkZGVkLFxuICAgICAgICBkZWxldGVkLFxuICAgICAgICBkZWx0YSxcbiAgICAgICAga2V5czogdGhpcy5rZXlzXG4gICAgICB9O1xuICAgICAgY29uc3QgY2hhbmdlZCA9IC8qKiBAdHlwZSBTZXQ8c3RyaW5nfG51bGw+ICovICh0aGlzLnRyYW5zYWN0aW9uLmNoYW5nZWQuZ2V0KHRhcmdldCkpO1xuICAgICAgaWYgKGNoYW5nZWQuaGFzKG51bGwpKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7YW55fVxuICAgICAgICAgKi9cbiAgICAgICAgbGV0IGxhc3RPcCA9IG51bGw7XG4gICAgICAgIGNvbnN0IHBhY2tPcCA9ICgpID0+IHtcbiAgICAgICAgICBpZiAobGFzdE9wKSB7XG4gICAgICAgICAgICBkZWx0YS5wdXNoKGxhc3RPcCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBmb3IgKGxldCBpdGVtID0gdGFyZ2V0Ll9zdGFydDsgaXRlbSAhPT0gbnVsbDsgaXRlbSA9IGl0ZW0ucmlnaHQpIHtcbiAgICAgICAgICBpZiAoaXRlbS5kZWxldGVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kZWxldGVzKGl0ZW0pICYmICF0aGlzLmFkZHMoaXRlbSkpIHtcbiAgICAgICAgICAgICAgaWYgKGxhc3RPcCA9PT0gbnVsbCB8fCBsYXN0T3AuZGVsZXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwYWNrT3AoKTtcbiAgICAgICAgICAgICAgICBsYXN0T3AgPSB7IGRlbGV0ZTogMCB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxhc3RPcC5kZWxldGUgKz0gaXRlbS5sZW5ndGg7XG4gICAgICAgICAgICAgIGRlbGV0ZWQuYWRkKGl0ZW0pO1xuICAgICAgICAgICAgfSAvLyBlbHNlIG5vcFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hZGRzKGl0ZW0pKSB7XG4gICAgICAgICAgICAgIGlmIChsYXN0T3AgPT09IG51bGwgfHwgbGFzdE9wLmluc2VydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcGFja09wKCk7XG4gICAgICAgICAgICAgICAgbGFzdE9wID0geyBpbnNlcnQ6IFtdIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbGFzdE9wLmluc2VydCA9IGxhc3RPcC5pbnNlcnQuY29uY2F0KGl0ZW0uY29udGVudC5nZXRDb250ZW50KCkpO1xuICAgICAgICAgICAgICBhZGRlZC5hZGQoaXRlbSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAobGFzdE9wID09PSBudWxsIHx8IGxhc3RPcC5yZXRhaW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBhY2tPcCgpO1xuICAgICAgICAgICAgICAgIGxhc3RPcCA9IHsgcmV0YWluOiAwIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbGFzdE9wLnJldGFpbiArPSBpdGVtLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhc3RPcCAhPT0gbnVsbCAmJiBsYXN0T3AucmV0YWluID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBwYWNrT3AoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5fY2hhbmdlcyA9IGNoYW5nZXM7XG4gICAgfVxuICAgIHJldHVybiAvKiogQHR5cGUge2FueX0gKi8gKGNoYW5nZXMpXG4gIH1cbn1cblxuLyoqXG4gKiBDb21wdXRlIHRoZSBwYXRoIGZyb20gdGhpcyB0eXBlIHRvIHRoZSBzcGVjaWZpZWQgdGFyZ2V0LlxuICpcbiAqIEBleGFtcGxlXG4gKiAgIC8vIGBjaGlsZGAgc2hvdWxkIGJlIGFjY2Vzc2libGUgdmlhIGB0eXBlLmdldChwYXRoWzBdKS5nZXQocGF0aFsxXSkuLmBcbiAqICAgY29uc3QgcGF0aCA9IHR5cGUuZ2V0UGF0aFRvKGNoaWxkKVxuICogICAvLyBhc3N1bWluZyBgdHlwZSBpbnN0YW5jZW9mIFlBcnJheWBcbiAqICAgY29uc29sZS5sb2cocGF0aCkgLy8gbWlnaHQgbG9vayBsaWtlID0+IFsyLCAna2V5MSddXG4gKiAgIGNoaWxkID09PSB0eXBlLmdldChwYXRoWzBdKS5nZXQocGF0aFsxXSlcbiAqXG4gKiBAcGFyYW0ge0Fic3RyYWN0VHlwZTxhbnk+fSBwYXJlbnRcbiAqIEBwYXJhbSB7QWJzdHJhY3RUeXBlPGFueT59IGNoaWxkIHRhcmdldFxuICogQHJldHVybiB7QXJyYXk8c3RyaW5nfG51bWJlcj59IFBhdGggdG8gdGhlIHRhcmdldFxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgZ2V0UGF0aFRvID0gKHBhcmVudCwgY2hpbGQpID0+IHtcbiAgY29uc3QgcGF0aCA9IFtdO1xuICB3aGlsZSAoY2hpbGQuX2l0ZW0gIT09IG51bGwgJiYgY2hpbGQgIT09IHBhcmVudCkge1xuICAgIGlmIChjaGlsZC5faXRlbS5wYXJlbnRTdWIgIT09IG51bGwpIHtcbiAgICAgIC8vIHBhcmVudCBpcyBtYXAtaXNoXG4gICAgICBwYXRoLnVuc2hpZnQoY2hpbGQuX2l0ZW0ucGFyZW50U3ViKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gcGFyZW50IGlzIGFycmF5LWlzaFxuICAgICAgbGV0IGkgPSAwO1xuICAgICAgbGV0IGMgPSAvKiogQHR5cGUge0Fic3RyYWN0VHlwZTxhbnk+fSAqLyAoY2hpbGQuX2l0ZW0ucGFyZW50KS5fc3RhcnQ7XG4gICAgICB3aGlsZSAoYyAhPT0gY2hpbGQuX2l0ZW0gJiYgYyAhPT0gbnVsbCkge1xuICAgICAgICBpZiAoIWMuZGVsZXRlZCkge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICBjID0gYy5yaWdodDtcbiAgICAgIH1cbiAgICAgIHBhdGgudW5zaGlmdChpKTtcbiAgICB9XG4gICAgY2hpbGQgPSAvKiogQHR5cGUge0Fic3RyYWN0VHlwZTxhbnk+fSAqLyAoY2hpbGQuX2l0ZW0ucGFyZW50KTtcbiAgfVxuICByZXR1cm4gcGF0aFxufTtcblxuY29uc3QgbWF4U2VhcmNoTWFya2VyID0gODA7XG5cbi8qKlxuICogQSB1bmlxdWUgdGltZXN0YW1wIHRoYXQgaWRlbnRpZmllcyBlYWNoIG1hcmtlci5cbiAqXG4gKiBUaW1lIGlzIHJlbGF0aXZlLC4uIHRoaXMgaXMgbW9yZSBsaWtlIGFuIGV2ZXItaW5jcmVhc2luZyBjbG9jay5cbiAqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5sZXQgZ2xvYmFsU2VhcmNoTWFya2VyVGltZXN0YW1wID0gMDtcblxuY2xhc3MgQXJyYXlTZWFyY2hNYXJrZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtJdGVtfSBwXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgKi9cbiAgY29uc3RydWN0b3IgKHAsIGluZGV4KSB7XG4gICAgcC5tYXJrZXIgPSB0cnVlO1xuICAgIHRoaXMucCA9IHA7XG4gICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgIHRoaXMudGltZXN0YW1wID0gZ2xvYmFsU2VhcmNoTWFya2VyVGltZXN0YW1wKys7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5U2VhcmNoTWFya2VyfSBtYXJrZXJcbiAqL1xuY29uc3QgcmVmcmVzaE1hcmtlclRpbWVzdGFtcCA9IG1hcmtlciA9PiB7IG1hcmtlci50aW1lc3RhbXAgPSBnbG9iYWxTZWFyY2hNYXJrZXJUaW1lc3RhbXArKzsgfTtcblxuLyoqXG4gKiBUaGlzIGlzIHJhdGhlciBjb21wbGV4IHNvIHRoaXMgZnVuY3Rpb24gaXMgdGhlIG9ubHkgdGhpbmcgdGhhdCBzaG91bGQgb3ZlcndyaXRlIGEgbWFya2VyXG4gKlxuICogQHBhcmFtIHtBcnJheVNlYXJjaE1hcmtlcn0gbWFya2VyXG4gKiBAcGFyYW0ge0l0ZW19IHBcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICovXG5jb25zdCBvdmVyd3JpdGVNYXJrZXIgPSAobWFya2VyLCBwLCBpbmRleCkgPT4ge1xuICBtYXJrZXIucC5tYXJrZXIgPSBmYWxzZTtcbiAgbWFya2VyLnAgPSBwO1xuICBwLm1hcmtlciA9IHRydWU7XG4gIG1hcmtlci5pbmRleCA9IGluZGV4O1xuICBtYXJrZXIudGltZXN0YW1wID0gZ2xvYmFsU2VhcmNoTWFya2VyVGltZXN0YW1wKys7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXlTZWFyY2hNYXJrZXI+fSBzZWFyY2hNYXJrZXJcbiAqIEBwYXJhbSB7SXRlbX0gcFxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gKi9cbmNvbnN0IG1hcmtQb3NpdGlvbiA9IChzZWFyY2hNYXJrZXIsIHAsIGluZGV4KSA9PiB7XG4gIGlmIChzZWFyY2hNYXJrZXIubGVuZ3RoID49IG1heFNlYXJjaE1hcmtlcikge1xuICAgIC8vIG92ZXJyaWRlIG9sZGVzdCBtYXJrZXIgKHdlIGRvbid0IHdhbnQgdG8gY3JlYXRlIG1vcmUgb2JqZWN0cylcbiAgICBjb25zdCBtYXJrZXIgPSBzZWFyY2hNYXJrZXIucmVkdWNlKChhLCBiKSA9PiBhLnRpbWVzdGFtcCA8IGIudGltZXN0YW1wID8gYSA6IGIpO1xuICAgIG92ZXJ3cml0ZU1hcmtlcihtYXJrZXIsIHAsIGluZGV4KTtcbiAgICByZXR1cm4gbWFya2VyXG4gIH0gZWxzZSB7XG4gICAgLy8gY3JlYXRlIG5ldyBtYXJrZXJcbiAgICBjb25zdCBwbSA9IG5ldyBBcnJheVNlYXJjaE1hcmtlcihwLCBpbmRleCk7XG4gICAgc2VhcmNoTWFya2VyLnB1c2gocG0pO1xuICAgIHJldHVybiBwbVxuICB9XG59O1xuXG4vKipcbiAqIFNlYXJjaCBtYXJrZXIgaGVscCB1cyB0byBmaW5kIHBvc2l0aW9ucyBpbiB0aGUgYXNzb2NpYXRpdmUgYXJyYXkgZmFzdGVyLlxuICpcbiAqIFRoZXkgc3BlZWQgdXAgdGhlIHByb2Nlc3Mgb2YgZmluZGluZyBhIHBvc2l0aW9uIHdpdGhvdXQgbXVjaCBib29ra2VlcGluZy5cbiAqXG4gKiBBIG1heGltdW0gb2YgYG1heFNlYXJjaE1hcmtlcmAgb2JqZWN0cyBhcmUgY3JlYXRlZC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGFsd2F5cyByZXR1cm5zIGEgcmVmcmVzaGVkIG1hcmtlciAodXBkYXRlZCB0aW1lc3RhbXApXG4gKlxuICogQHBhcmFtIHtBYnN0cmFjdFR5cGU8YW55Pn0geWFycmF5XG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAqL1xuY29uc3QgZmluZE1hcmtlciA9ICh5YXJyYXksIGluZGV4KSA9PiB7XG4gIGlmICh5YXJyYXkuX3N0YXJ0ID09PSBudWxsIHx8IGluZGV4ID09PSAwIHx8IHlhcnJheS5fc2VhcmNoTWFya2VyID09PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuICBjb25zdCBtYXJrZXIgPSB5YXJyYXkuX3NlYXJjaE1hcmtlci5sZW5ndGggPT09IDAgPyBudWxsIDogeWFycmF5Ll9zZWFyY2hNYXJrZXIucmVkdWNlKChhLCBiKSA9PiBtYXRoLmFicyhpbmRleCAtIGEuaW5kZXgpIDwgbWF0aC5hYnMoaW5kZXggLSBiLmluZGV4KSA/IGEgOiBiKTtcbiAgbGV0IHAgPSB5YXJyYXkuX3N0YXJ0O1xuICBsZXQgcGluZGV4ID0gMDtcbiAgaWYgKG1hcmtlciAhPT0gbnVsbCkge1xuICAgIHAgPSBtYXJrZXIucDtcbiAgICBwaW5kZXggPSBtYXJrZXIuaW5kZXg7XG4gICAgcmVmcmVzaE1hcmtlclRpbWVzdGFtcChtYXJrZXIpOyAvLyB3ZSB1c2VkIGl0LCB3ZSBtaWdodCBuZWVkIHRvIHVzZSBpdCBhZ2FpblxuICB9XG4gIC8vIGl0ZXJhdGUgdG8gcmlnaHQgaWYgcG9zc2libGVcbiAgd2hpbGUgKHAucmlnaHQgIT09IG51bGwgJiYgcGluZGV4IDwgaW5kZXgpIHtcbiAgICBpZiAoIXAuZGVsZXRlZCAmJiBwLmNvdW50YWJsZSkge1xuICAgICAgaWYgKGluZGV4IDwgcGluZGV4ICsgcC5sZW5ndGgpIHtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIHBpbmRleCArPSBwLmxlbmd0aDtcbiAgICB9XG4gICAgcCA9IHAucmlnaHQ7XG4gIH1cbiAgLy8gaXRlcmF0ZSB0byBsZWZ0IGlmIG5lY2Vzc2FyeSAobWlnaHQgYmUgdGhhdCBwaW5kZXggPiBpbmRleClcbiAgd2hpbGUgKHAubGVmdCAhPT0gbnVsbCAmJiBwaW5kZXggPiBpbmRleCkge1xuICAgIHAgPSBwLmxlZnQ7XG4gICAgaWYgKCFwLmRlbGV0ZWQgJiYgcC5jb3VudGFibGUpIHtcbiAgICAgIHBpbmRleCAtPSBwLmxlbmd0aDtcbiAgICB9XG4gIH1cbiAgLy8gd2Ugd2FudCB0byBtYWtlIHN1cmUgdGhhdCBwIGNhbid0IGJlIG1lcmdlZCB3aXRoIGxlZnQsIGJlY2F1c2UgdGhhdCB3b3VsZCBzY3JldyB1cCBldmVyeXRoaW5nXG4gIC8vIGluIHRoYXQgY2FzIGp1c3QgcmV0dXJuIHdoYXQgd2UgaGF2ZSAoaXQgaXMgbW9zdCBsaWtlbHkgdGhlIGJlc3QgbWFya2VyIGFueXdheSlcbiAgLy8gaXRlcmF0ZSB0byBsZWZ0IHVudGlsIHAgY2FuJ3QgYmUgbWVyZ2VkIHdpdGggbGVmdFxuICB3aGlsZSAocC5sZWZ0ICE9PSBudWxsICYmIHAubGVmdC5pZC5jbGllbnQgPT09IHAuaWQuY2xpZW50ICYmIHAubGVmdC5pZC5jbG9jayArIHAubGVmdC5sZW5ndGggPT09IHAuaWQuY2xvY2spIHtcbiAgICBwID0gcC5sZWZ0O1xuICAgIGlmICghcC5kZWxldGVkICYmIHAuY291bnRhYmxlKSB7XG4gICAgICBwaW5kZXggLT0gcC5sZW5ndGg7XG4gICAgfVxuICB9XG5cbiAgLy8gQHRvZG8gcmVtb3ZlIVxuICAvLyBhc3N1cmUgcG9zaXRpb25cbiAgLy8ge1xuICAvLyAgIGxldCBzdGFydCA9IHlhcnJheS5fc3RhcnRcbiAgLy8gICBsZXQgcG9zID0gMFxuICAvLyAgIHdoaWxlIChzdGFydCAhPT0gcCkge1xuICAvLyAgICAgaWYgKCFzdGFydC5kZWxldGVkICYmIHN0YXJ0LmNvdW50YWJsZSkge1xuICAvLyAgICAgICBwb3MgKz0gc3RhcnQubGVuZ3RoXG4gIC8vICAgICB9XG4gIC8vICAgICBzdGFydCA9IC8qKiBAdHlwZSB7SXRlbX0gKi8gKHN0YXJ0LnJpZ2h0KVxuICAvLyAgIH1cbiAgLy8gICBpZiAocG9zICE9PSBwaW5kZXgpIHtcbiAgLy8gICAgIGRlYnVnZ2VyXG4gIC8vICAgICB0aHJvdyBuZXcgRXJyb3IoJ0dvdGNoYSBwb3NpdGlvbiBmYWlsIScpXG4gIC8vICAgfVxuICAvLyB9XG4gIC8vIGlmIChtYXJrZXIpIHtcbiAgLy8gICBpZiAod2luZG93Lmxlbmd0aGVzID09IG51bGwpIHtcbiAgLy8gICAgIHdpbmRvdy5sZW5ndGhlcyA9IFtdXG4gIC8vICAgICB3aW5kb3cuZ2V0TGVuZ3RoZXMgPSAoKSA9PiB3aW5kb3cubGVuZ3RoZXMuc29ydCgoYSwgYikgPT4gYSAtIGIpXG4gIC8vICAgfVxuICAvLyAgIHdpbmRvdy5sZW5ndGhlcy5wdXNoKG1hcmtlci5pbmRleCAtIHBpbmRleClcbiAgLy8gICBjb25zb2xlLmxvZygnZGlzdGFuY2UnLCBtYXJrZXIuaW5kZXggLSBwaW5kZXgsICdsZW4nLCBwICYmIHAucGFyZW50Lmxlbmd0aClcbiAgLy8gfVxuICBpZiAobWFya2VyICE9PSBudWxsICYmIG1hdGguYWJzKG1hcmtlci5pbmRleCAtIHBpbmRleCkgPCAvKiogQHR5cGUge1lUZXh0fFlBcnJheTxhbnk+fSAqLyAocC5wYXJlbnQpLmxlbmd0aCAvIG1heFNlYXJjaE1hcmtlcikge1xuICAgIC8vIGFkanVzdCBleGlzdGluZyBtYXJrZXJcbiAgICBvdmVyd3JpdGVNYXJrZXIobWFya2VyLCBwLCBwaW5kZXgpO1xuICAgIHJldHVybiBtYXJrZXJcbiAgfSBlbHNlIHtcbiAgICAvLyBjcmVhdGUgbmV3IG1hcmtlclxuICAgIHJldHVybiBtYXJrUG9zaXRpb24oeWFycmF5Ll9zZWFyY2hNYXJrZXIsIHAsIHBpbmRleClcbiAgfVxufTtcblxuLyoqXG4gKiBVcGRhdGUgbWFya2VycyB3aGVuIGEgY2hhbmdlIGhhcHBlbmVkLlxuICpcbiAqIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBiZWZvcmUgZG9pbmcgYSBkZWxldGlvbiFcbiAqXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5U2VhcmNoTWFya2VyPn0gc2VhcmNoTWFya2VyXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZW4gSWYgaW5zZXJ0aW9uLCBsZW4gaXMgcG9zaXRpdmUuIElmIGRlbGV0aW9uLCBsZW4gaXMgbmVnYXRpdmUuXG4gKi9cbmNvbnN0IHVwZGF0ZU1hcmtlckNoYW5nZXMgPSAoc2VhcmNoTWFya2VyLCBpbmRleCwgbGVuKSA9PiB7XG4gIGZvciAobGV0IGkgPSBzZWFyY2hNYXJrZXIubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBjb25zdCBtID0gc2VhcmNoTWFya2VyW2ldO1xuICAgIGlmIChsZW4gPiAwKSB7XG4gICAgICAvKipcbiAgICAgICAqIEB0eXBlIHtJdGVtfG51bGx9XG4gICAgICAgKi9cbiAgICAgIGxldCBwID0gbS5wO1xuICAgICAgcC5tYXJrZXIgPSBmYWxzZTtcbiAgICAgIC8vIElkZWFsbHkgd2UganVzdCB3YW50IHRvIGRvIGEgc2ltcGxlIHBvc2l0aW9uIGNvbXBhcmlzb24sIGJ1dCB0aGlzIHdpbGwgb25seSB3b3JrIGlmXG4gICAgICAvLyBzZWFyY2ggbWFya2VycyBkb24ndCBwb2ludCB0byBkZWxldGVkIGl0ZW1zIGZvciBmb3JtYXRzLlxuICAgICAgLy8gSXRlcmF0ZSBtYXJrZXIgdG8gcHJldiB1bmRlbGV0ZWQgY291bnRhYmxlIHBvc2l0aW9uIHNvIHdlIGtub3cgd2hhdCB0byBkbyB3aGVuIHVwZGF0aW5nIGEgcG9zaXRpb25cbiAgICAgIHdoaWxlIChwICYmIChwLmRlbGV0ZWQgfHwgIXAuY291bnRhYmxlKSkge1xuICAgICAgICBwID0gcC5sZWZ0O1xuICAgICAgICBpZiAocCAmJiAhcC5kZWxldGVkICYmIHAuY291bnRhYmxlKSB7XG4gICAgICAgICAgLy8gYWRqdXN0IHBvc2l0aW9uLiB0aGUgbG9vcCBzaG91bGQgYnJlYWsgbm93XG4gICAgICAgICAgbS5pbmRleCAtPSBwLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHAgPT09IG51bGwgfHwgcC5tYXJrZXIgPT09IHRydWUpIHtcbiAgICAgICAgLy8gcmVtb3ZlIHNlYXJjaCBtYXJrZXIgaWYgdXBkYXRlZCBwb3NpdGlvbiBpcyBudWxsIG9yIGlmIHBvc2l0aW9uIGlzIGFscmVhZHkgbWFya2VkXG4gICAgICAgIHNlYXJjaE1hcmtlci5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgICBtLnAgPSBwO1xuICAgICAgcC5tYXJrZXIgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoaW5kZXggPCBtLmluZGV4IHx8IChsZW4gPiAwICYmIGluZGV4ID09PSBtLmluZGV4KSkgeyAvLyBhIHNpbXBsZSBpbmRleCA8PSBtLmluZGV4IGNoZWNrIHdvdWxkIGFjdHVhbGx5IHN1ZmZpY2VcbiAgICAgIG0uaW5kZXggPSBtYXRoLm1heChpbmRleCwgbS5pbmRleCArIGxlbik7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEFjY3VtdWxhdGUgYWxsIChsaXN0KSBjaGlsZHJlbiBvZiBhIHR5cGUgYW5kIHJldHVybiB0aGVtIGFzIGFuIEFycmF5LlxuICpcbiAqIEBwYXJhbSB7QWJzdHJhY3RUeXBlPGFueT59IHRcbiAqIEByZXR1cm4ge0FycmF5PEl0ZW0+fVxuICovXG5jb25zdCBnZXRUeXBlQ2hpbGRyZW4gPSB0ID0+IHtcbiAgbGV0IHMgPSB0Ll9zdGFydDtcbiAgY29uc3QgYXJyID0gW107XG4gIHdoaWxlIChzKSB7XG4gICAgYXJyLnB1c2gocyk7XG4gICAgcyA9IHMucmlnaHQ7XG4gIH1cbiAgcmV0dXJuIGFyclxufTtcblxuLyoqXG4gKiBDYWxsIGV2ZW50IGxpc3RlbmVycyB3aXRoIGFuIGV2ZW50LiBUaGlzIHdpbGwgYWxzbyBhZGQgYW4gZXZlbnQgdG8gYWxsXG4gKiBwYXJlbnRzIChmb3IgYC5vYnNlcnZlRGVlcGAgaGFuZGxlcnMpLlxuICpcbiAqIEB0ZW1wbGF0ZSBFdmVudFR5cGVcbiAqIEBwYXJhbSB7QWJzdHJhY3RUeXBlPEV2ZW50VHlwZT59IHR5cGVcbiAqIEBwYXJhbSB7VHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gKiBAcGFyYW0ge0V2ZW50VHlwZX0gZXZlbnRcbiAqL1xuY29uc3QgY2FsbFR5cGVPYnNlcnZlcnMgPSAodHlwZSwgdHJhbnNhY3Rpb24sIGV2ZW50KSA9PiB7XG4gIGNvbnN0IGNoYW5nZWRUeXBlID0gdHlwZTtcbiAgY29uc3QgY2hhbmdlZFBhcmVudFR5cGVzID0gdHJhbnNhY3Rpb24uY2hhbmdlZFBhcmVudFR5cGVzO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBtYXAuc2V0SWZVbmRlZmluZWQoY2hhbmdlZFBhcmVudFR5cGVzLCB0eXBlLCAoKSA9PiBbXSkucHVzaChldmVudCk7XG4gICAgaWYgKHR5cGUuX2l0ZW0gPT09IG51bGwpIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIHR5cGUgPSAvKiogQHR5cGUge0Fic3RyYWN0VHlwZTxhbnk+fSAqLyAodHlwZS5faXRlbS5wYXJlbnQpO1xuICB9XG4gIGNhbGxFdmVudEhhbmRsZXJMaXN0ZW5lcnMoY2hhbmdlZFR5cGUuX2VILCBldmVudCwgdHJhbnNhY3Rpb24pO1xufTtcblxuLyoqXG4gKiBAdGVtcGxhdGUgRXZlbnRUeXBlXG4gKiBBYnN0cmFjdCBZanMgVHlwZSBjbGFzc1xuICovXG5jbGFzcyBBYnN0cmFjdFR5cGUge1xuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge0l0ZW18bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLl9pdGVtID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7TWFwPHN0cmluZyxJdGVtPn1cbiAgICAgKi9cbiAgICB0aGlzLl9tYXAgPSBuZXcgTWFwKCk7XG4gICAgLyoqXG4gICAgICogQHR5cGUge0l0ZW18bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLl9zdGFydCA9IG51bGw7XG4gICAgLyoqXG4gICAgICogQHR5cGUge0RvY3xudWxsfVxuICAgICAqL1xuICAgIHRoaXMuZG9jID0gbnVsbDtcbiAgICB0aGlzLl9sZW5ndGggPSAwO1xuICAgIC8qKlxuICAgICAqIEV2ZW50IGhhbmRsZXJzXG4gICAgICogQHR5cGUge0V2ZW50SGFuZGxlcjxFdmVudFR5cGUsVHJhbnNhY3Rpb24+fVxuICAgICAqL1xuICAgIHRoaXMuX2VIID0gY3JlYXRlRXZlbnRIYW5kbGVyKCk7XG4gICAgLyoqXG4gICAgICogRGVlcCBldmVudCBoYW5kbGVyc1xuICAgICAqIEB0eXBlIHtFdmVudEhhbmRsZXI8QXJyYXk8WUV2ZW50PGFueT4+LFRyYW5zYWN0aW9uPn1cbiAgICAgKi9cbiAgICB0aGlzLl9kRUggPSBjcmVhdGVFdmVudEhhbmRsZXIoKTtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVsbCB8IEFycmF5PEFycmF5U2VhcmNoTWFya2VyPn1cbiAgICAgKi9cbiAgICB0aGlzLl9zZWFyY2hNYXJrZXIgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0Fic3RyYWN0VHlwZTxhbnk+fG51bGx9XG4gICAqL1xuICBnZXQgcGFyZW50ICgpIHtcbiAgICByZXR1cm4gdGhpcy5faXRlbSA/IC8qKiBAdHlwZSB7QWJzdHJhY3RUeXBlPGFueT59ICovICh0aGlzLl9pdGVtLnBhcmVudCkgOiBudWxsXG4gIH1cblxuICAvKipcbiAgICogSW50ZWdyYXRlIHRoaXMgdHlwZSBpbnRvIHRoZSBZanMgaW5zdGFuY2UuXG4gICAqXG4gICAqICogU2F2ZSB0aGlzIHN0cnVjdCBpbiB0aGUgb3NcbiAgICogKiBUaGlzIHR5cGUgaXMgc2VudCB0byBvdGhlciBjbGllbnRcbiAgICogKiBPYnNlcnZlciBmdW5jdGlvbnMgYXJlIGZpcmVkXG4gICAqXG4gICAqIEBwYXJhbSB7RG9jfSB5IFRoZSBZanMgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtJdGVtfG51bGx9IGl0ZW1cbiAgICovXG4gIF9pbnRlZ3JhdGUgKHksIGl0ZW0pIHtcbiAgICB0aGlzLmRvYyA9IHk7XG4gICAgdGhpcy5faXRlbSA9IGl0ZW07XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7QWJzdHJhY3RUeXBlPEV2ZW50VHlwZT59XG4gICAqL1xuICBfY29weSAoKSB7XG4gICAgdGhyb3cgZXJyb3IubWV0aG9kVW5pbXBsZW1lbnRlZCgpXG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7QWJzdHJhY3RUeXBlPEV2ZW50VHlwZT59XG4gICAqL1xuICBjbG9uZSAoKSB7XG4gICAgdGhyb3cgZXJyb3IubWV0aG9kVW5pbXBsZW1lbnRlZCgpXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtVcGRhdGVFbmNvZGVyVjEgfCBVcGRhdGVFbmNvZGVyVjJ9IGVuY29kZXJcbiAgICovXG4gIF93cml0ZSAoZW5jb2RlcikgeyB9XG5cbiAgLyoqXG4gICAqIFRoZSBmaXJzdCBub24tZGVsZXRlZCBpdGVtXG4gICAqL1xuICBnZXQgX2ZpcnN0ICgpIHtcbiAgICBsZXQgbiA9IHRoaXMuX3N0YXJ0O1xuICAgIHdoaWxlIChuICE9PSBudWxsICYmIG4uZGVsZXRlZCkge1xuICAgICAgbiA9IG4ucmlnaHQ7XG4gICAgfVxuICAgIHJldHVybiBuXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBZRXZlbnQgYW5kIGNhbGxzIGFsbCB0eXBlIG9ic2VydmVycy5cbiAgICogTXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIHR5cGUuXG4gICAqXG4gICAqIEBwYXJhbSB7VHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gICAqIEBwYXJhbSB7U2V0PG51bGx8c3RyaW5nPn0gcGFyZW50U3VicyBLZXlzIGNoYW5nZWQgb24gdGhpcyB0eXBlLiBgbnVsbGAgaWYgbGlzdCB3YXMgbW9kaWZpZWQuXG4gICAqL1xuICBfY2FsbE9ic2VydmVyICh0cmFuc2FjdGlvbiwgcGFyZW50U3Vicykge1xuICAgIGlmICghdHJhbnNhY3Rpb24ubG9jYWwgJiYgdGhpcy5fc2VhcmNoTWFya2VyKSB7XG4gICAgICB0aGlzLl9zZWFyY2hNYXJrZXIubGVuZ3RoID0gMDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogT2JzZXJ2ZSBhbGwgZXZlbnRzIHRoYXQgYXJlIGNyZWF0ZWQgb24gdGhpcyB0eXBlLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKEV2ZW50VHlwZSwgVHJhbnNhY3Rpb24pOnZvaWR9IGYgT2JzZXJ2ZXIgZnVuY3Rpb25cbiAgICovXG4gIG9ic2VydmUgKGYpIHtcbiAgICBhZGRFdmVudEhhbmRsZXJMaXN0ZW5lcih0aGlzLl9lSCwgZik7XG4gIH1cblxuICAvKipcbiAgICogT2JzZXJ2ZSBhbGwgZXZlbnRzIHRoYXQgYXJlIGNyZWF0ZWQgYnkgdGhpcyB0eXBlIGFuZCBpdHMgY2hpbGRyZW4uXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oQXJyYXk8WUV2ZW50PGFueT4+LFRyYW5zYWN0aW9uKTp2b2lkfSBmIE9ic2VydmVyIGZ1bmN0aW9uXG4gICAqL1xuICBvYnNlcnZlRGVlcCAoZikge1xuICAgIGFkZEV2ZW50SGFuZGxlckxpc3RlbmVyKHRoaXMuX2RFSCwgZik7XG4gIH1cblxuICAvKipcbiAgICogVW5yZWdpc3RlciBhbiBvYnNlcnZlciBmdW5jdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbihFdmVudFR5cGUsVHJhbnNhY3Rpb24pOnZvaWR9IGYgT2JzZXJ2ZXIgZnVuY3Rpb25cbiAgICovXG4gIHVub2JzZXJ2ZSAoZikge1xuICAgIHJlbW92ZUV2ZW50SGFuZGxlckxpc3RlbmVyKHRoaXMuX2VILCBmKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbnJlZ2lzdGVyIGFuIG9ic2VydmVyIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKEFycmF5PFlFdmVudDxhbnk+PixUcmFuc2FjdGlvbik6dm9pZH0gZiBPYnNlcnZlciBmdW5jdGlvblxuICAgKi9cbiAgdW5vYnNlcnZlRGVlcCAoZikge1xuICAgIHJlbW92ZUV2ZW50SGFuZGxlckxpc3RlbmVyKHRoaXMuX2RFSCwgZik7XG4gIH1cblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEByZXR1cm4ge2FueX1cbiAgICovXG4gIHRvSlNPTiAoKSB7fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7QWJzdHJhY3RUeXBlPGFueT59IHR5cGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFxuICogQHBhcmFtIHtudW1iZXJ9IGVuZFxuICogQHJldHVybiB7QXJyYXk8YW55Pn1cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IHR5cGVMaXN0U2xpY2UgPSAodHlwZSwgc3RhcnQsIGVuZCkgPT4ge1xuICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgPSB0eXBlLl9sZW5ndGggKyBzdGFydDtcbiAgfVxuICBpZiAoZW5kIDwgMCkge1xuICAgIGVuZCA9IHR5cGUuX2xlbmd0aCArIGVuZDtcbiAgfVxuICBsZXQgbGVuID0gZW5kIC0gc3RhcnQ7XG4gIGNvbnN0IGNzID0gW107XG4gIGxldCBuID0gdHlwZS5fc3RhcnQ7XG4gIHdoaWxlIChuICE9PSBudWxsICYmIGxlbiA+IDApIHtcbiAgICBpZiAobi5jb3VudGFibGUgJiYgIW4uZGVsZXRlZCkge1xuICAgICAgY29uc3QgYyA9IG4uY29udGVudC5nZXRDb250ZW50KCk7XG4gICAgICBpZiAoYy5sZW5ndGggPD0gc3RhcnQpIHtcbiAgICAgICAgc3RhcnQgLT0gYy5sZW5ndGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBjLmxlbmd0aCAmJiBsZW4gPiAwOyBpKyspIHtcbiAgICAgICAgICBjcy5wdXNoKGNbaV0pO1xuICAgICAgICAgIGxlbi0tO1xuICAgICAgICB9XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgIH1cbiAgICB9XG4gICAgbiA9IG4ucmlnaHQ7XG4gIH1cbiAgcmV0dXJuIGNzXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7QWJzdHJhY3RUeXBlPGFueT59IHR5cGVcbiAqIEByZXR1cm4ge0FycmF5PGFueT59XG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCB0eXBlTGlzdFRvQXJyYXkgPSB0eXBlID0+IHtcbiAgY29uc3QgY3MgPSBbXTtcbiAgbGV0IG4gPSB0eXBlLl9zdGFydDtcbiAgd2hpbGUgKG4gIT09IG51bGwpIHtcbiAgICBpZiAobi5jb3VudGFibGUgJiYgIW4uZGVsZXRlZCkge1xuICAgICAgY29uc3QgYyA9IG4uY29udGVudC5nZXRDb250ZW50KCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY3MucHVzaChjW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbiA9IG4ucmlnaHQ7XG4gIH1cbiAgcmV0dXJuIGNzXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7QWJzdHJhY3RUeXBlPGFueT59IHR5cGVcbiAqIEBwYXJhbSB7U25hcHNob3R9IHNuYXBzaG90XG4gKiBAcmV0dXJuIHtBcnJheTxhbnk+fVxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgdHlwZUxpc3RUb0FycmF5U25hcHNob3QgPSAodHlwZSwgc25hcHNob3QpID0+IHtcbiAgY29uc3QgY3MgPSBbXTtcbiAgbGV0IG4gPSB0eXBlLl9zdGFydDtcbiAgd2hpbGUgKG4gIT09IG51bGwpIHtcbiAgICBpZiAobi5jb3VudGFibGUgJiYgaXNWaXNpYmxlKG4sIHNuYXBzaG90KSkge1xuICAgICAgY29uc3QgYyA9IG4uY29udGVudC5nZXRDb250ZW50KCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY3MucHVzaChjW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbiA9IG4ucmlnaHQ7XG4gIH1cbiAgcmV0dXJuIGNzXG59O1xuXG4vKipcbiAqIEV4ZWN1dGVzIGEgcHJvdmlkZWQgZnVuY3Rpb24gb24gb25jZSBvbiBvdmVyeSBlbGVtZW50IG9mIHRoaXMgWUFycmF5LlxuICpcbiAqIEBwYXJhbSB7QWJzdHJhY3RUeXBlPGFueT59IHR5cGVcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oYW55LG51bWJlcixhbnkpOnZvaWR9IGYgQSBmdW5jdGlvbiB0byBleGVjdXRlIG9uIGV2ZXJ5IGVsZW1lbnQgb2YgdGhpcyBZQXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCB0eXBlTGlzdEZvckVhY2ggPSAodHlwZSwgZikgPT4ge1xuICBsZXQgaW5kZXggPSAwO1xuICBsZXQgbiA9IHR5cGUuX3N0YXJ0O1xuICB3aGlsZSAobiAhPT0gbnVsbCkge1xuICAgIGlmIChuLmNvdW50YWJsZSAmJiAhbi5kZWxldGVkKSB7XG4gICAgICBjb25zdCBjID0gbi5jb250ZW50LmdldENvbnRlbnQoKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYy5sZW5ndGg7IGkrKykge1xuICAgICAgICBmKGNbaV0sIGluZGV4KyssIHR5cGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBuID0gbi5yaWdodDtcbiAgfVxufTtcblxuLyoqXG4gKiBAdGVtcGxhdGUgQyxSXG4gKiBAcGFyYW0ge0Fic3RyYWN0VHlwZTxhbnk+fSB0eXBlXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKEMsbnVtYmVyLEFic3RyYWN0VHlwZTxhbnk+KTpSfSBmXG4gKiBAcmV0dXJuIHtBcnJheTxSPn1cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IHR5cGVMaXN0TWFwID0gKHR5cGUsIGYpID0+IHtcbiAgLyoqXG4gICAqIEB0eXBlIHtBcnJheTxhbnk+fVxuICAgKi9cbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIHR5cGVMaXN0Rm9yRWFjaCh0eXBlLCAoYywgaSkgPT4ge1xuICAgIHJlc3VsdC5wdXNoKGYoYywgaSwgdHlwZSkpO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdFxufTtcblxuLyoqXG4gKiBAcGFyYW0ge0Fic3RyYWN0VHlwZTxhbnk+fSB0eXBlXG4gKiBAcmV0dXJuIHtJdGVyYWJsZUl0ZXJhdG9yPGFueT59XG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCB0eXBlTGlzdENyZWF0ZUl0ZXJhdG9yID0gdHlwZSA9PiB7XG4gIGxldCBuID0gdHlwZS5fc3RhcnQ7XG4gIC8qKlxuICAgKiBAdHlwZSB7QXJyYXk8YW55PnxudWxsfVxuICAgKi9cbiAgbGV0IGN1cnJlbnRDb250ZW50ID0gbnVsbDtcbiAgbGV0IGN1cnJlbnRDb250ZW50SW5kZXggPSAwO1xuICByZXR1cm4ge1xuICAgIFtTeW1ib2wuaXRlcmF0b3JdICgpIHtcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfSxcbiAgICBuZXh0OiAoKSA9PiB7XG4gICAgICAvLyBmaW5kIHNvbWUgY29udGVudFxuICAgICAgaWYgKGN1cnJlbnRDb250ZW50ID09PSBudWxsKSB7XG4gICAgICAgIHdoaWxlIChuICE9PSBudWxsICYmIG4uZGVsZXRlZCkge1xuICAgICAgICAgIG4gPSBuLnJpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIGlmIHdlIHJlYWNoZWQgdGhlIGVuZCwgbm8gbmVlZCB0byBjaGVjayBjdXJyZW50Q29udGVudCwgYmVjYXVzZSBpdCBkb2VzIG5vdCBleGlzdFxuICAgICAgICBpZiAobiA9PT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkb25lOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHVuZGVmaW5lZFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB3ZSBmb3VuZCBuLCBzbyB3ZSBjYW4gc2V0IGN1cnJlbnRDb250ZW50XG4gICAgICAgIGN1cnJlbnRDb250ZW50ID0gbi5jb250ZW50LmdldENvbnRlbnQoKTtcbiAgICAgICAgY3VycmVudENvbnRlbnRJbmRleCA9IDA7XG4gICAgICAgIG4gPSBuLnJpZ2h0OyAvLyB3ZSB1c2VkIHRoZSBjb250ZW50IG9mIG4sIG5vdyBpdGVyYXRlIHRvIG5leHRcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlID0gY3VycmVudENvbnRlbnRbY3VycmVudENvbnRlbnRJbmRleCsrXTtcbiAgICAgIC8vIGNoZWNrIGlmIHdlIG5lZWQgdG8gZW1wdHkgY3VycmVudENvbnRlbnRcbiAgICAgIGlmIChjdXJyZW50Q29udGVudC5sZW5ndGggPD0gY3VycmVudENvbnRlbnRJbmRleCkge1xuICAgICAgICBjdXJyZW50Q29udGVudCA9IG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkb25lOiBmYWxzZSxcbiAgICAgICAgdmFsdWVcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtBYnN0cmFjdFR5cGU8YW55Pn0gdHlwZVxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gKiBAcmV0dXJuIHthbnl9XG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCB0eXBlTGlzdEdldCA9ICh0eXBlLCBpbmRleCkgPT4ge1xuICBjb25zdCBtYXJrZXIgPSBmaW5kTWFya2VyKHR5cGUsIGluZGV4KTtcbiAgbGV0IG4gPSB0eXBlLl9zdGFydDtcbiAgaWYgKG1hcmtlciAhPT0gbnVsbCkge1xuICAgIG4gPSBtYXJrZXIucDtcbiAgICBpbmRleCAtPSBtYXJrZXIuaW5kZXg7XG4gIH1cbiAgZm9yICg7IG4gIT09IG51bGw7IG4gPSBuLnJpZ2h0KSB7XG4gICAgaWYgKCFuLmRlbGV0ZWQgJiYgbi5jb3VudGFibGUpIHtcbiAgICAgIGlmIChpbmRleCA8IG4ubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBuLmNvbnRlbnQuZ2V0Q29udGVudCgpW2luZGV4XVxuICAgICAgfVxuICAgICAgaW5kZXggLT0gbi5sZW5ndGg7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7VHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gKiBAcGFyYW0ge0Fic3RyYWN0VHlwZTxhbnk+fSBwYXJlbnRcbiAqIEBwYXJhbSB7SXRlbT99IHJlZmVyZW5jZUl0ZW1cbiAqIEBwYXJhbSB7QXJyYXk8T2JqZWN0PHN0cmluZyxhbnk+fEFycmF5PGFueT58Ym9vbGVhbnxudW1iZXJ8bnVsbHxzdHJpbmd8VWludDhBcnJheT59IGNvbnRlbnRcbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IHR5cGVMaXN0SW5zZXJ0R2VuZXJpY3NBZnRlciA9ICh0cmFuc2FjdGlvbiwgcGFyZW50LCByZWZlcmVuY2VJdGVtLCBjb250ZW50KSA9PiB7XG4gIGxldCBsZWZ0ID0gcmVmZXJlbmNlSXRlbTtcbiAgY29uc3QgZG9jID0gdHJhbnNhY3Rpb24uZG9jO1xuICBjb25zdCBvd25DbGllbnRJZCA9IGRvYy5jbGllbnRJRDtcbiAgY29uc3Qgc3RvcmUgPSBkb2Muc3RvcmU7XG4gIGNvbnN0IHJpZ2h0ID0gcmVmZXJlbmNlSXRlbSA9PT0gbnVsbCA/IHBhcmVudC5fc3RhcnQgOiByZWZlcmVuY2VJdGVtLnJpZ2h0O1xuICAvKipcbiAgICogQHR5cGUge0FycmF5PE9iamVjdHxBcnJheTxhbnk+fG51bWJlcnxudWxsPn1cbiAgICovXG4gIGxldCBqc29uQ29udGVudCA9IFtdO1xuICBjb25zdCBwYWNrSnNvbkNvbnRlbnQgPSAoKSA9PiB7XG4gICAgaWYgKGpzb25Db250ZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgIGxlZnQgPSBuZXcgSXRlbShjcmVhdGVJRChvd25DbGllbnRJZCwgZ2V0U3RhdGUoc3RvcmUsIG93bkNsaWVudElkKSksIGxlZnQsIGxlZnQgJiYgbGVmdC5sYXN0SWQsIHJpZ2h0LCByaWdodCAmJiByaWdodC5pZCwgcGFyZW50LCBudWxsLCBuZXcgQ29udGVudEFueShqc29uQ29udGVudCkpO1xuICAgICAgbGVmdC5pbnRlZ3JhdGUodHJhbnNhY3Rpb24sIDApO1xuICAgICAganNvbkNvbnRlbnQgPSBbXTtcbiAgICB9XG4gIH07XG4gIGNvbnRlbnQuZm9yRWFjaChjID0+IHtcbiAgICBpZiAoYyA9PT0gbnVsbCkge1xuICAgICAganNvbkNvbnRlbnQucHVzaChjKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpdGNoIChjLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgIGNhc2UgTnVtYmVyOlxuICAgICAgICBjYXNlIE9iamVjdDpcbiAgICAgICAgY2FzZSBCb29sZWFuOlxuICAgICAgICBjYXNlIEFycmF5OlxuICAgICAgICBjYXNlIFN0cmluZzpcbiAgICAgICAgICBqc29uQ29udGVudC5wdXNoKGMpO1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcGFja0pzb25Db250ZW50KCk7XG4gICAgICAgICAgc3dpdGNoIChjLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICBjYXNlIFVpbnQ4QXJyYXk6XG4gICAgICAgICAgICBjYXNlIEFycmF5QnVmZmVyOlxuICAgICAgICAgICAgICBsZWZ0ID0gbmV3IEl0ZW0oY3JlYXRlSUQob3duQ2xpZW50SWQsIGdldFN0YXRlKHN0b3JlLCBvd25DbGllbnRJZCkpLCBsZWZ0LCBsZWZ0ICYmIGxlZnQubGFzdElkLCByaWdodCwgcmlnaHQgJiYgcmlnaHQuaWQsIHBhcmVudCwgbnVsbCwgbmV3IENvbnRlbnRCaW5hcnkobmV3IFVpbnQ4QXJyYXkoLyoqIEB0eXBlIHtVaW50OEFycmF5fSAqLyAoYykpKSk7XG4gICAgICAgICAgICAgIGxlZnQuaW50ZWdyYXRlKHRyYW5zYWN0aW9uLCAwKTtcbiAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgRG9jOlxuICAgICAgICAgICAgICBsZWZ0ID0gbmV3IEl0ZW0oY3JlYXRlSUQob3duQ2xpZW50SWQsIGdldFN0YXRlKHN0b3JlLCBvd25DbGllbnRJZCkpLCBsZWZ0LCBsZWZ0ICYmIGxlZnQubGFzdElkLCByaWdodCwgcmlnaHQgJiYgcmlnaHQuaWQsIHBhcmVudCwgbnVsbCwgbmV3IENvbnRlbnREb2MoLyoqIEB0eXBlIHtEb2N9ICovIChjKSkpO1xuICAgICAgICAgICAgICBsZWZ0LmludGVncmF0ZSh0cmFuc2FjdGlvbiwgMCk7XG4gICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBpZiAoYyBpbnN0YW5jZW9mIEFic3RyYWN0VHlwZSkge1xuICAgICAgICAgICAgICAgIGxlZnQgPSBuZXcgSXRlbShjcmVhdGVJRChvd25DbGllbnRJZCwgZ2V0U3RhdGUoc3RvcmUsIG93bkNsaWVudElkKSksIGxlZnQsIGxlZnQgJiYgbGVmdC5sYXN0SWQsIHJpZ2h0LCByaWdodCAmJiByaWdodC5pZCwgcGFyZW50LCBudWxsLCBuZXcgQ29udGVudFR5cGUoYykpO1xuICAgICAgICAgICAgICAgIGxlZnQuaW50ZWdyYXRlKHRyYW5zYWN0aW9uLCAwKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgY29udGVudCB0eXBlIGluIGluc2VydCBvcGVyYXRpb24nKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHBhY2tKc29uQ29udGVudCgpO1xufTtcblxuY29uc3QgbGVuZ3RoRXhjZWVkZWQgPSBlcnJvci5jcmVhdGUoJ0xlbmd0aCBleGNlZWRlZCEnKTtcblxuLyoqXG4gKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICogQHBhcmFtIHtBYnN0cmFjdFR5cGU8YW55Pn0gcGFyZW50XG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAqIEBwYXJhbSB7QXJyYXk8T2JqZWN0PHN0cmluZyxhbnk+fEFycmF5PGFueT58bnVtYmVyfG51bGx8c3RyaW5nfFVpbnQ4QXJyYXk+fSBjb250ZW50XG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCB0eXBlTGlzdEluc2VydEdlbmVyaWNzID0gKHRyYW5zYWN0aW9uLCBwYXJlbnQsIGluZGV4LCBjb250ZW50KSA9PiB7XG4gIGlmIChpbmRleCA+IHBhcmVudC5fbGVuZ3RoKSB7XG4gICAgdGhyb3cgbGVuZ3RoRXhjZWVkZWRcbiAgfVxuICBpZiAoaW5kZXggPT09IDApIHtcbiAgICBpZiAocGFyZW50Ll9zZWFyY2hNYXJrZXIpIHtcbiAgICAgIHVwZGF0ZU1hcmtlckNoYW5nZXMocGFyZW50Ll9zZWFyY2hNYXJrZXIsIGluZGV4LCBjb250ZW50Lmxlbmd0aCk7XG4gICAgfVxuICAgIHJldHVybiB0eXBlTGlzdEluc2VydEdlbmVyaWNzQWZ0ZXIodHJhbnNhY3Rpb24sIHBhcmVudCwgbnVsbCwgY29udGVudClcbiAgfVxuICBjb25zdCBzdGFydEluZGV4ID0gaW5kZXg7XG4gIGNvbnN0IG1hcmtlciA9IGZpbmRNYXJrZXIocGFyZW50LCBpbmRleCk7XG4gIGxldCBuID0gcGFyZW50Ll9zdGFydDtcbiAgaWYgKG1hcmtlciAhPT0gbnVsbCkge1xuICAgIG4gPSBtYXJrZXIucDtcbiAgICBpbmRleCAtPSBtYXJrZXIuaW5kZXg7XG4gICAgLy8gd2UgbmVlZCB0byBpdGVyYXRlIG9uZSB0byB0aGUgbGVmdCBzbyB0aGF0IHRoZSBhbGdvcml0aG0gd29ya3NcbiAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgIC8vIEB0b2RvIHJlZmFjdG9yIHRoaXMgYXMgaXQgYWN0dWFsbHkgZG9lc24ndCBjb25zaWRlciBmb3JtYXRzXG4gICAgICBuID0gbi5wcmV2OyAvLyBpbXBvcnRhbnQhIGdldCB0aGUgbGVmdCB1bmRlbGV0ZWQgaXRlbSBzbyB0aGF0IHdlIGNhbiBhY3R1YWxseSBkZWNyZWFzZSBpbmRleFxuICAgICAgaW5kZXggKz0gKG4gJiYgbi5jb3VudGFibGUgJiYgIW4uZGVsZXRlZCkgPyBuLmxlbmd0aCA6IDA7XG4gICAgfVxuICB9XG4gIGZvciAoOyBuICE9PSBudWxsOyBuID0gbi5yaWdodCkge1xuICAgIGlmICghbi5kZWxldGVkICYmIG4uY291bnRhYmxlKSB7XG4gICAgICBpZiAoaW5kZXggPD0gbi5sZW5ndGgpIHtcbiAgICAgICAgaWYgKGluZGV4IDwgbi5sZW5ndGgpIHtcbiAgICAgICAgICAvLyBpbnNlcnQgaW4tYmV0d2VlblxuICAgICAgICAgIGdldEl0ZW1DbGVhblN0YXJ0KHRyYW5zYWN0aW9uLCBjcmVhdGVJRChuLmlkLmNsaWVudCwgbi5pZC5jbG9jayArIGluZGV4KSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGluZGV4IC09IG4ubGVuZ3RoO1xuICAgIH1cbiAgfVxuICBpZiAocGFyZW50Ll9zZWFyY2hNYXJrZXIpIHtcbiAgICB1cGRhdGVNYXJrZXJDaGFuZ2VzKHBhcmVudC5fc2VhcmNoTWFya2VyLCBzdGFydEluZGV4LCBjb250ZW50Lmxlbmd0aCk7XG4gIH1cbiAgcmV0dXJuIHR5cGVMaXN0SW5zZXJ0R2VuZXJpY3NBZnRlcih0cmFuc2FjdGlvbiwgcGFyZW50LCBuLCBjb250ZW50KVxufTtcblxuLyoqXG4gKiBQdXNoaW5nIGNvbnRlbnQgaXMgc3BlY2lhbCBhcyB3ZSBnZW5lcmFsbHkgd2FudCB0byBwdXNoIGFmdGVyIHRoZSBsYXN0IGl0ZW0uIFNvIHdlIGRvbid0IGhhdmUgdG8gdXBkYXRlXG4gKiB0aGUgc2VyYWNoIG1hcmtlci5cbiAqXG4gKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICogQHBhcmFtIHtBYnN0cmFjdFR5cGU8YW55Pn0gcGFyZW50XG4gKiBAcGFyYW0ge0FycmF5PE9iamVjdDxzdHJpbmcsYW55PnxBcnJheTxhbnk+fG51bWJlcnxudWxsfHN0cmluZ3xVaW50OEFycmF5Pn0gY29udGVudFxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgdHlwZUxpc3RQdXNoR2VuZXJpY3MgPSAodHJhbnNhY3Rpb24sIHBhcmVudCwgY29udGVudCkgPT4ge1xuICAvLyBVc2UgdGhlIG1hcmtlciB3aXRoIHRoZSBoaWdoZXN0IGluZGV4IGFuZCBpdGVyYXRlIHRvIHRoZSByaWdodC5cbiAgY29uc3QgbWFya2VyID0gKHBhcmVudC5fc2VhcmNoTWFya2VyIHx8IFtdKS5yZWR1Y2UoKG1heE1hcmtlciwgY3Vyck1hcmtlcikgPT4gY3Vyck1hcmtlci5pbmRleCA+IG1heE1hcmtlci5pbmRleCA/IGN1cnJNYXJrZXIgOiBtYXhNYXJrZXIsIHsgaW5kZXg6IDAsIHA6IHBhcmVudC5fc3RhcnQgfSk7XG4gIGxldCBuID0gbWFya2VyLnA7XG4gIGlmIChuKSB7XG4gICAgd2hpbGUgKG4ucmlnaHQpIHtcbiAgICAgIG4gPSBuLnJpZ2h0O1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHlwZUxpc3RJbnNlcnRHZW5lcmljc0FmdGVyKHRyYW5zYWN0aW9uLCBwYXJlbnQsIG4sIGNvbnRlbnQpXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7VHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gKiBAcGFyYW0ge0Fic3RyYWN0VHlwZTxhbnk+fSBwYXJlbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aFxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgdHlwZUxpc3REZWxldGUgPSAodHJhbnNhY3Rpb24sIHBhcmVudCwgaW5kZXgsIGxlbmd0aCkgPT4ge1xuICBpZiAobGVuZ3RoID09PSAwKSB7IHJldHVybiB9XG4gIGNvbnN0IHN0YXJ0SW5kZXggPSBpbmRleDtcbiAgY29uc3Qgc3RhcnRMZW5ndGggPSBsZW5ndGg7XG4gIGNvbnN0IG1hcmtlciA9IGZpbmRNYXJrZXIocGFyZW50LCBpbmRleCk7XG4gIGxldCBuID0gcGFyZW50Ll9zdGFydDtcbiAgaWYgKG1hcmtlciAhPT0gbnVsbCkge1xuICAgIG4gPSBtYXJrZXIucDtcbiAgICBpbmRleCAtPSBtYXJrZXIuaW5kZXg7XG4gIH1cbiAgLy8gY29tcHV0ZSB0aGUgZmlyc3QgaXRlbSB0byBiZSBkZWxldGVkXG4gIGZvciAoOyBuICE9PSBudWxsICYmIGluZGV4ID4gMDsgbiA9IG4ucmlnaHQpIHtcbiAgICBpZiAoIW4uZGVsZXRlZCAmJiBuLmNvdW50YWJsZSkge1xuICAgICAgaWYgKGluZGV4IDwgbi5sZW5ndGgpIHtcbiAgICAgICAgZ2V0SXRlbUNsZWFuU3RhcnQodHJhbnNhY3Rpb24sIGNyZWF0ZUlEKG4uaWQuY2xpZW50LCBuLmlkLmNsb2NrICsgaW5kZXgpKTtcbiAgICAgIH1cbiAgICAgIGluZGV4IC09IG4ubGVuZ3RoO1xuICAgIH1cbiAgfVxuICAvLyBkZWxldGUgYWxsIGl0ZW1zIHVudGlsIGRvbmVcbiAgd2hpbGUgKGxlbmd0aCA+IDAgJiYgbiAhPT0gbnVsbCkge1xuICAgIGlmICghbi5kZWxldGVkKSB7XG4gICAgICBpZiAobGVuZ3RoIDwgbi5sZW5ndGgpIHtcbiAgICAgICAgZ2V0SXRlbUNsZWFuU3RhcnQodHJhbnNhY3Rpb24sIGNyZWF0ZUlEKG4uaWQuY2xpZW50LCBuLmlkLmNsb2NrICsgbGVuZ3RoKSk7XG4gICAgICB9XG4gICAgICBuLmRlbGV0ZSh0cmFuc2FjdGlvbik7XG4gICAgICBsZW5ndGggLT0gbi5sZW5ndGg7XG4gICAgfVxuICAgIG4gPSBuLnJpZ2h0O1xuICB9XG4gIGlmIChsZW5ndGggPiAwKSB7XG4gICAgdGhyb3cgbGVuZ3RoRXhjZWVkZWRcbiAgfVxuICBpZiAocGFyZW50Ll9zZWFyY2hNYXJrZXIpIHtcbiAgICB1cGRhdGVNYXJrZXJDaGFuZ2VzKHBhcmVudC5fc2VhcmNoTWFya2VyLCBzdGFydEluZGV4LCAtc3RhcnRMZW5ndGggKyBsZW5ndGggLyogaW4gY2FzZSB3ZSByZW1vdmUgdGhlIGFib3ZlIGV4Y2VwdGlvbiAqLyk7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAqIEBwYXJhbSB7QWJzdHJhY3RUeXBlPGFueT59IHBhcmVudFxuICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgdHlwZU1hcERlbGV0ZSA9ICh0cmFuc2FjdGlvbiwgcGFyZW50LCBrZXkpID0+IHtcbiAgY29uc3QgYyA9IHBhcmVudC5fbWFwLmdldChrZXkpO1xuICBpZiAoYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgYy5kZWxldGUodHJhbnNhY3Rpb24pO1xuICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7VHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gKiBAcGFyYW0ge0Fic3RyYWN0VHlwZTxhbnk+fSBwYXJlbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqIEBwYXJhbSB7T2JqZWN0fG51bWJlcnxudWxsfEFycmF5PGFueT58c3RyaW5nfFVpbnQ4QXJyYXl8QWJzdHJhY3RUeXBlPGFueT59IHZhbHVlXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCB0eXBlTWFwU2V0ID0gKHRyYW5zYWN0aW9uLCBwYXJlbnQsIGtleSwgdmFsdWUpID0+IHtcbiAgY29uc3QgbGVmdCA9IHBhcmVudC5fbWFwLmdldChrZXkpIHx8IG51bGw7XG4gIGNvbnN0IGRvYyA9IHRyYW5zYWN0aW9uLmRvYztcbiAgY29uc3Qgb3duQ2xpZW50SWQgPSBkb2MuY2xpZW50SUQ7XG4gIGxldCBjb250ZW50O1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIGNvbnRlbnQgPSBuZXcgQ29udGVudEFueShbdmFsdWVdKTtcbiAgfSBlbHNlIHtcbiAgICBzd2l0Y2ggKHZhbHVlLmNvbnN0cnVjdG9yKSB7XG4gICAgICBjYXNlIE51bWJlcjpcbiAgICAgIGNhc2UgT2JqZWN0OlxuICAgICAgY2FzZSBCb29sZWFuOlxuICAgICAgY2FzZSBBcnJheTpcbiAgICAgIGNhc2UgU3RyaW5nOlxuICAgICAgICBjb250ZW50ID0gbmV3IENvbnRlbnRBbnkoW3ZhbHVlXSk7XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIFVpbnQ4QXJyYXk6XG4gICAgICAgIGNvbnRlbnQgPSBuZXcgQ29udGVudEJpbmFyeSgvKiogQHR5cGUge1VpbnQ4QXJyYXl9ICovICh2YWx1ZSkpO1xuICAgICAgICBicmVha1xuICAgICAgY2FzZSBEb2M6XG4gICAgICAgIGNvbnRlbnQgPSBuZXcgQ29udGVudERvYygvKiogQHR5cGUge0RvY30gKi8gKHZhbHVlKSk7XG4gICAgICAgIGJyZWFrXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBYnN0cmFjdFR5cGUpIHtcbiAgICAgICAgICBjb250ZW50ID0gbmV3IENvbnRlbnRUeXBlKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgY29udGVudCB0eXBlJylcbiAgICAgICAgfVxuICAgIH1cbiAgfVxuICBuZXcgSXRlbShjcmVhdGVJRChvd25DbGllbnRJZCwgZ2V0U3RhdGUoZG9jLnN0b3JlLCBvd25DbGllbnRJZCkpLCBsZWZ0LCBsZWZ0ICYmIGxlZnQubGFzdElkLCBudWxsLCBudWxsLCBwYXJlbnQsIGtleSwgY29udGVudCkuaW50ZWdyYXRlKHRyYW5zYWN0aW9uLCAwKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtBYnN0cmFjdFR5cGU8YW55Pn0gcGFyZW50XG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gKiBAcmV0dXJuIHtPYmplY3Q8c3RyaW5nLGFueT58bnVtYmVyfG51bGx8QXJyYXk8YW55PnxzdHJpbmd8VWludDhBcnJheXxBYnN0cmFjdFR5cGU8YW55Pnx1bmRlZmluZWR9XG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCB0eXBlTWFwR2V0ID0gKHBhcmVudCwga2V5KSA9PiB7XG4gIGNvbnN0IHZhbCA9IHBhcmVudC5fbWFwLmdldChrZXkpO1xuICByZXR1cm4gdmFsICE9PSB1bmRlZmluZWQgJiYgIXZhbC5kZWxldGVkID8gdmFsLmNvbnRlbnQuZ2V0Q29udGVudCgpW3ZhbC5sZW5ndGggLSAxXSA6IHVuZGVmaW5lZFxufTtcblxuLyoqXG4gKiBAcGFyYW0ge0Fic3RyYWN0VHlwZTxhbnk+fSBwYXJlbnRcbiAqIEByZXR1cm4ge09iamVjdDxzdHJpbmcsT2JqZWN0PHN0cmluZyxhbnk+fG51bWJlcnxudWxsfEFycmF5PGFueT58c3RyaW5nfFVpbnQ4QXJyYXl8QWJzdHJhY3RUeXBlPGFueT58dW5kZWZpbmVkPn1cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IHR5cGVNYXBHZXRBbGwgPSAocGFyZW50KSA9PiB7XG4gIC8qKlxuICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZyxhbnk+fVxuICAgKi9cbiAgY29uc3QgcmVzID0ge307XG4gIHBhcmVudC5fbWFwLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICBpZiAoIXZhbHVlLmRlbGV0ZWQpIHtcbiAgICAgIHJlc1trZXldID0gdmFsdWUuY29udGVudC5nZXRDb250ZW50KClbdmFsdWUubGVuZ3RoIC0gMV07XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlc1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge0Fic3RyYWN0VHlwZTxhbnk+fSBwYXJlbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCB0eXBlTWFwSGFzID0gKHBhcmVudCwga2V5KSA9PiB7XG4gIGNvbnN0IHZhbCA9IHBhcmVudC5fbWFwLmdldChrZXkpO1xuICByZXR1cm4gdmFsICE9PSB1bmRlZmluZWQgJiYgIXZhbC5kZWxldGVkXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7QWJzdHJhY3RUeXBlPGFueT59IHBhcmVudFxuICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICogQHBhcmFtIHtTbmFwc2hvdH0gc25hcHNob3RcbiAqIEByZXR1cm4ge09iamVjdDxzdHJpbmcsYW55PnxudW1iZXJ8bnVsbHxBcnJheTxhbnk+fHN0cmluZ3xVaW50OEFycmF5fEFic3RyYWN0VHlwZTxhbnk+fHVuZGVmaW5lZH1cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IHR5cGVNYXBHZXRTbmFwc2hvdCA9IChwYXJlbnQsIGtleSwgc25hcHNob3QpID0+IHtcbiAgbGV0IHYgPSBwYXJlbnQuX21hcC5nZXQoa2V5KSB8fCBudWxsO1xuICB3aGlsZSAodiAhPT0gbnVsbCAmJiAoIXNuYXBzaG90LnN2Lmhhcyh2LmlkLmNsaWVudCkgfHwgdi5pZC5jbG9jayA+PSAoc25hcHNob3Quc3YuZ2V0KHYuaWQuY2xpZW50KSB8fCAwKSkpIHtcbiAgICB2ID0gdi5sZWZ0O1xuICB9XG4gIHJldHVybiB2ICE9PSBudWxsICYmIGlzVmlzaWJsZSh2LCBzbmFwc2hvdCkgPyB2LmNvbnRlbnQuZ2V0Q29udGVudCgpW3YubGVuZ3RoIC0gMV0gOiB1bmRlZmluZWRcbn07XG5cbi8qKlxuICogQHBhcmFtIHtNYXA8c3RyaW5nLEl0ZW0+fSBtYXBcbiAqIEByZXR1cm4ge0l0ZXJhYmxlSXRlcmF0b3I8QXJyYXk8YW55Pj59XG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCBjcmVhdGVNYXBJdGVyYXRvciA9IG1hcCA9PiBpdGVyYXRvci5pdGVyYXRvckZpbHRlcihtYXAuZW50cmllcygpLCAvKiogQHBhcmFtIHthbnl9IGVudHJ5ICovIGVudHJ5ID0+ICFlbnRyeVsxXS5kZWxldGVkKTtcblxuLyoqXG4gKiBAbW9kdWxlIFlBcnJheVxuICovXG5cbi8qKlxuICogRXZlbnQgdGhhdCBkZXNjcmliZXMgdGhlIGNoYW5nZXMgb24gYSBZQXJyYXlcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAZXh0ZW5kcyBZRXZlbnQ8WUFycmF5PFQ+PlxuICovXG5jbGFzcyBZQXJyYXlFdmVudCBleHRlbmRzIFlFdmVudCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1lBcnJheTxUPn0geWFycmF5IFRoZSBjaGFuZ2VkIHR5cGVcbiAgICogQHBhcmFtIHtUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb24gVGhlIHRyYW5zYWN0aW9uIG9iamVjdFxuICAgKi9cbiAgY29uc3RydWN0b3IgKHlhcnJheSwgdHJhbnNhY3Rpb24pIHtcbiAgICBzdXBlcih5YXJyYXksIHRyYW5zYWN0aW9uKTtcbiAgICB0aGlzLl90cmFuc2FjdGlvbiA9IHRyYW5zYWN0aW9uO1xuICB9XG59XG5cbi8qKlxuICogQSBzaGFyZWQgQXJyYXkgaW1wbGVtZW50YXRpb24uXG4gKiBAdGVtcGxhdGUgVFxuICogQGV4dGVuZHMgQWJzdHJhY3RUeXBlPFlBcnJheUV2ZW50PFQ+PlxuICogQGltcGxlbWVudHMge0l0ZXJhYmxlPFQ+fVxuICovXG5jbGFzcyBZQXJyYXkgZXh0ZW5kcyBBYnN0cmFjdFR5cGUge1xuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgc3VwZXIoKTtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QXJyYXk8YW55Pj99XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9wcmVsaW1Db250ZW50ID0gW107XG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5PEFycmF5U2VhcmNoTWFya2VyPn1cbiAgICAgKi9cbiAgICB0aGlzLl9zZWFyY2hNYXJrZXIgPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSBuZXcgWUFycmF5IGNvbnRhaW5pbmcgdGhlIHNwZWNpZmllZCBpdGVtcy5cbiAgICogQHRlbXBsYXRlIFRcbiAgICogQHBhcmFtIHtBcnJheTxUPn0gaXRlbXNcbiAgICogQHJldHVybiB7WUFycmF5PFQ+fVxuICAgKi9cbiAgc3RhdGljIGZyb20gKGl0ZW1zKSB7XG4gICAgY29uc3QgYSA9IG5ldyBZQXJyYXkoKTtcbiAgICBhLnB1c2goaXRlbXMpO1xuICAgIHJldHVybiBhXG4gIH1cblxuICAvKipcbiAgICogSW50ZWdyYXRlIHRoaXMgdHlwZSBpbnRvIHRoZSBZanMgaW5zdGFuY2UuXG4gICAqXG4gICAqICogU2F2ZSB0aGlzIHN0cnVjdCBpbiB0aGUgb3NcbiAgICogKiBUaGlzIHR5cGUgaXMgc2VudCB0byBvdGhlciBjbGllbnRcbiAgICogKiBPYnNlcnZlciBmdW5jdGlvbnMgYXJlIGZpcmVkXG4gICAqXG4gICAqIEBwYXJhbSB7RG9jfSB5IFRoZSBZanMgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtJdGVtfSBpdGVtXG4gICAqL1xuICBfaW50ZWdyYXRlICh5LCBpdGVtKSB7XG4gICAgc3VwZXIuX2ludGVncmF0ZSh5LCBpdGVtKTtcbiAgICB0aGlzLmluc2VydCgwLCAvKiogQHR5cGUge0FycmF5PGFueT59ICovICh0aGlzLl9wcmVsaW1Db250ZW50KSk7XG4gICAgdGhpcy5fcHJlbGltQ29udGVudCA9IG51bGw7XG4gIH1cblxuICBfY29weSAoKSB7XG4gICAgcmV0dXJuIG5ldyBZQXJyYXkoKVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge1lBcnJheTxUPn1cbiAgICovXG4gIGNsb25lICgpIHtcbiAgICBjb25zdCBhcnIgPSBuZXcgWUFycmF5KCk7XG4gICAgYXJyLmluc2VydCgwLCB0aGlzLnRvQXJyYXkoKS5tYXAoZWwgPT5cbiAgICAgIGVsIGluc3RhbmNlb2YgQWJzdHJhY3RUeXBlID8gZWwuY2xvbmUoKSA6IGVsXG4gICAgKSk7XG4gICAgcmV0dXJuIGFyclxuICB9XG5cbiAgZ2V0IGxlbmd0aCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ByZWxpbUNvbnRlbnQgPT09IG51bGwgPyB0aGlzLl9sZW5ndGggOiB0aGlzLl9wcmVsaW1Db250ZW50Lmxlbmd0aFxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgWUFycmF5RXZlbnQgYW5kIGNhbGxzIG9ic2VydmVycy5cbiAgICpcbiAgICogQHBhcmFtIHtUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAgICogQHBhcmFtIHtTZXQ8bnVsbHxzdHJpbmc+fSBwYXJlbnRTdWJzIEtleXMgY2hhbmdlZCBvbiB0aGlzIHR5cGUuIGBudWxsYCBpZiBsaXN0IHdhcyBtb2RpZmllZC5cbiAgICovXG4gIF9jYWxsT2JzZXJ2ZXIgKHRyYW5zYWN0aW9uLCBwYXJlbnRTdWJzKSB7XG4gICAgc3VwZXIuX2NhbGxPYnNlcnZlcih0cmFuc2FjdGlvbiwgcGFyZW50U3Vicyk7XG4gICAgY2FsbFR5cGVPYnNlcnZlcnModGhpcywgdHJhbnNhY3Rpb24sIG5ldyBZQXJyYXlFdmVudCh0aGlzLCB0cmFuc2FjdGlvbikpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluc2VydHMgbmV3IGNvbnRlbnQgYXQgYW4gaW5kZXguXG4gICAqXG4gICAqIEltcG9ydGFudDogVGhpcyBmdW5jdGlvbiBleHBlY3RzIGFuIGFycmF5IG9mIGNvbnRlbnQuIE5vdCBqdXN0IGEgY29udGVudFxuICAgKiBvYmplY3QuIFRoZSByZWFzb24gZm9yIHRoaXMgXCJ3ZWlyZG5lc3NcIiBpcyB0aGF0IGluc2VydGluZyBzZXZlcmFsIGVsZW1lbnRzXG4gICAqIGlzIHZlcnkgZWZmaWNpZW50IHdoZW4gaXQgaXMgZG9uZSBhcyBhIHNpbmdsZSBvcGVyYXRpb24uXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqICAvLyBJbnNlcnQgY2hhcmFjdGVyICdhJyBhdCBwb3NpdGlvbiAwXG4gICAqICB5YXJyYXkuaW5zZXJ0KDAsIFsnYSddKVxuICAgKiAgLy8gSW5zZXJ0IG51bWJlcnMgMSwgMiBhdCBwb3NpdGlvbiAxXG4gICAqICB5YXJyYXkuaW5zZXJ0KDEsIFsxLCAyXSlcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCB0byBpbnNlcnQgY29udGVudCBhdC5cbiAgICogQHBhcmFtIHtBcnJheTxUPn0gY29udGVudCBUaGUgYXJyYXkgb2YgY29udGVudFxuICAgKi9cbiAgaW5zZXJ0IChpbmRleCwgY29udGVudCkge1xuICAgIGlmICh0aGlzLmRvYyAhPT0gbnVsbCkge1xuICAgICAgdHJhbnNhY3QodGhpcy5kb2MsIHRyYW5zYWN0aW9uID0+IHtcbiAgICAgICAgdHlwZUxpc3RJbnNlcnRHZW5lcmljcyh0cmFuc2FjdGlvbiwgdGhpcywgaW5kZXgsIGNvbnRlbnQpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qKiBAdHlwZSB7QXJyYXk8YW55Pn0gKi8gKHRoaXMuX3ByZWxpbUNvbnRlbnQpLnNwbGljZShpbmRleCwgMCwgLi4uY29udGVudCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgY29udGVudCB0byB0aGlzIFlBcnJheS5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheTxUPn0gY29udGVudCBBcnJheSBvZiBjb250ZW50IHRvIGFwcGVuZC5cbiAgICpcbiAgICogQHRvZG8gVXNlIHRoZSBmb2xsb3dpbmcgaW1wbGVtZW50YXRpb24gaW4gYWxsIHR5cGVzLlxuICAgKi9cbiAgcHVzaCAoY29udGVudCkge1xuICAgIGlmICh0aGlzLmRvYyAhPT0gbnVsbCkge1xuICAgICAgdHJhbnNhY3QodGhpcy5kb2MsIHRyYW5zYWN0aW9uID0+IHtcbiAgICAgICAgdHlwZUxpc3RQdXNoR2VuZXJpY3ModHJhbnNhY3Rpb24sIHRoaXMsIGNvbnRlbnQpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qKiBAdHlwZSB7QXJyYXk8YW55Pn0gKi8gKHRoaXMuX3ByZWxpbUNvbnRlbnQpLnB1c2goLi4uY29udGVudCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFByZXBwZW5kcyBjb250ZW50IHRvIHRoaXMgWUFycmF5LlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5PFQ+fSBjb250ZW50IEFycmF5IG9mIGNvbnRlbnQgdG8gcHJlcHBlbmQuXG4gICAqL1xuICB1bnNoaWZ0IChjb250ZW50KSB7XG4gICAgdGhpcy5pbnNlcnQoMCwgY29udGVudCk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlcyBlbGVtZW50cyBzdGFydGluZyBmcm9tIGFuIGluZGV4LlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXggYXQgd2hpY2ggdG8gc3RhcnQgZGVsZXRpbmcgZWxlbWVudHNcbiAgICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHJlbW92ZS4gRGVmYXVsdHMgdG8gMS5cbiAgICovXG4gIGRlbGV0ZSAoaW5kZXgsIGxlbmd0aCA9IDEpIHtcbiAgICBpZiAodGhpcy5kb2MgIT09IG51bGwpIHtcbiAgICAgIHRyYW5zYWN0KHRoaXMuZG9jLCB0cmFuc2FjdGlvbiA9PiB7XG4gICAgICAgIHR5cGVMaXN0RGVsZXRlKHRyYW5zYWN0aW9uLCB0aGlzLCBpbmRleCwgbGVuZ3RoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiogQHR5cGUge0FycmF5PGFueT59ICovICh0aGlzLl9wcmVsaW1Db250ZW50KS5zcGxpY2UoaW5kZXgsIGxlbmd0aCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGktdGggZWxlbWVudCBmcm9tIGEgWUFycmF5LlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHJldHVybiBmcm9tIHRoZSBZQXJyYXlcbiAgICogQHJldHVybiB7VH1cbiAgICovXG4gIGdldCAoaW5kZXgpIHtcbiAgICByZXR1cm4gdHlwZUxpc3RHZXQodGhpcywgaW5kZXgpXG4gIH1cblxuICAvKipcbiAgICogVHJhbnNmb3JtcyB0aGlzIFlBcnJheSB0byBhIEphdmFTY3JpcHQgQXJyYXkuXG4gICAqXG4gICAqIEByZXR1cm4ge0FycmF5PFQ+fVxuICAgKi9cbiAgdG9BcnJheSAoKSB7XG4gICAgcmV0dXJuIHR5cGVMaXN0VG9BcnJheSh0aGlzKVxuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zZm9ybXMgdGhpcyBZQXJyYXkgdG8gYSBKYXZhU2NyaXB0IEFycmF5LlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0XVxuICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZF1cbiAgICogQHJldHVybiB7QXJyYXk8VD59XG4gICAqL1xuICBzbGljZSAoc3RhcnQgPSAwLCBlbmQgPSB0aGlzLmxlbmd0aCkge1xuICAgIHJldHVybiB0eXBlTGlzdFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG4gIH1cblxuICAvKipcbiAgICogVHJhbnNmb3JtcyB0aGlzIFNoYXJlZCBUeXBlIHRvIGEgSlNPTiBvYmplY3QuXG4gICAqXG4gICAqIEByZXR1cm4ge0FycmF5PGFueT59XG4gICAqL1xuICB0b0pTT04gKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChjID0+IGMgaW5zdGFuY2VvZiBBYnN0cmFjdFR5cGUgPyBjLnRvSlNPTigpIDogYylcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIEFycmF5IHdpdGggdGhlIHJlc3VsdCBvZiBjYWxsaW5nIGEgcHJvdmlkZWQgZnVuY3Rpb24gb24gZXZlcnlcbiAgICogZWxlbWVudCBvZiB0aGlzIFlBcnJheS5cbiAgICpcbiAgICogQHRlbXBsYXRlIE1cbiAgICogQHBhcmFtIHtmdW5jdGlvbihULG51bWJlcixZQXJyYXk8VD4pOk19IGYgRnVuY3Rpb24gdGhhdCBwcm9kdWNlcyBhbiBlbGVtZW50IG9mIHRoZSBuZXcgQXJyYXlcbiAgICogQHJldHVybiB7QXJyYXk8TT59IEEgbmV3IGFycmF5IHdpdGggZWFjaCBlbGVtZW50IGJlaW5nIHRoZSByZXN1bHQgb2YgdGhlXG4gICAqICAgICAgICAgICAgICAgICBjYWxsYmFjayBmdW5jdGlvblxuICAgKi9cbiAgbWFwIChmKSB7XG4gICAgcmV0dXJuIHR5cGVMaXN0TWFwKHRoaXMsIC8qKiBAdHlwZSB7YW55fSAqLyAoZikpXG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZXMgYSBwcm92aWRlZCBmdW5jdGlvbiBvbiBvbmNlIG9uIG92ZXJ5IGVsZW1lbnQgb2YgdGhpcyBZQXJyYXkuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oVCxudW1iZXIsWUFycmF5PFQ+KTp2b2lkfSBmIEEgZnVuY3Rpb24gdG8gZXhlY3V0ZSBvbiBldmVyeSBlbGVtZW50IG9mIHRoaXMgWUFycmF5LlxuICAgKi9cbiAgZm9yRWFjaCAoZikge1xuICAgIHR5cGVMaXN0Rm9yRWFjaCh0aGlzLCBmKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtJdGVyYWJsZUl0ZXJhdG9yPFQ+fVxuICAgKi9cbiAgW1N5bWJvbC5pdGVyYXRvcl0gKCkge1xuICAgIHJldHVybiB0eXBlTGlzdENyZWF0ZUl0ZXJhdG9yKHRoaXMpXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtVcGRhdGVFbmNvZGVyVjEgfCBVcGRhdGVFbmNvZGVyVjJ9IGVuY29kZXJcbiAgICovXG4gIF93cml0ZSAoZW5jb2Rlcikge1xuICAgIGVuY29kZXIud3JpdGVUeXBlUmVmKFlBcnJheVJlZklEKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7VXBkYXRlRGVjb2RlclYxIHwgVXBkYXRlRGVjb2RlclYyfSBkZWNvZGVyXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCByZWFkWUFycmF5ID0gZGVjb2RlciA9PiBuZXcgWUFycmF5KCk7XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEBleHRlbmRzIFlFdmVudDxZTWFwPFQ+PlxuICogRXZlbnQgdGhhdCBkZXNjcmliZXMgdGhlIGNoYW5nZXMgb24gYSBZTWFwLlxuICovXG5jbGFzcyBZTWFwRXZlbnQgZXh0ZW5kcyBZRXZlbnQge1xuICAvKipcbiAgICogQHBhcmFtIHtZTWFwPFQ+fSB5bWFwIFRoZSBZQXJyYXkgdGhhdCBjaGFuZ2VkLlxuICAgKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKiBAcGFyYW0ge1NldDxhbnk+fSBzdWJzIFRoZSBrZXlzIHRoYXQgY2hhbmdlZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yICh5bWFwLCB0cmFuc2FjdGlvbiwgc3Vicykge1xuICAgIHN1cGVyKHltYXAsIHRyYW5zYWN0aW9uKTtcbiAgICB0aGlzLmtleXNDaGFuZ2VkID0gc3VicztcbiAgfVxufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBNYXBUeXBlXG4gKiBBIHNoYXJlZCBNYXAgaW1wbGVtZW50YXRpb24uXG4gKlxuICogQGV4dGVuZHMgQWJzdHJhY3RUeXBlPFlNYXBFdmVudDxNYXBUeXBlPj5cbiAqIEBpbXBsZW1lbnRzIHtJdGVyYWJsZTxNYXBUeXBlPn1cbiAqL1xuY2xhc3MgWU1hcCBleHRlbmRzIEFic3RyYWN0VHlwZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge0l0ZXJhYmxlPHJlYWRvbmx5IFtzdHJpbmcsIGFueV0+PX0gZW50cmllcyAtIGFuIG9wdGlvbmFsIGl0ZXJhYmxlIHRvIGluaXRpYWxpemUgdGhlIFlNYXBcbiAgICovXG4gIGNvbnN0cnVjdG9yIChlbnRyaWVzKSB7XG4gICAgc3VwZXIoKTtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7TWFwPHN0cmluZyxhbnk+P31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX3ByZWxpbUNvbnRlbnQgPSBudWxsO1xuXG4gICAgaWYgKGVudHJpZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5fcHJlbGltQ29udGVudCA9IG5ldyBNYXAoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fcHJlbGltQ29udGVudCA9IG5ldyBNYXAoZW50cmllcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEludGVncmF0ZSB0aGlzIHR5cGUgaW50byB0aGUgWWpzIGluc3RhbmNlLlxuICAgKlxuICAgKiAqIFNhdmUgdGhpcyBzdHJ1Y3QgaW4gdGhlIG9zXG4gICAqICogVGhpcyB0eXBlIGlzIHNlbnQgdG8gb3RoZXIgY2xpZW50XG4gICAqICogT2JzZXJ2ZXIgZnVuY3Rpb25zIGFyZSBmaXJlZFxuICAgKlxuICAgKiBAcGFyYW0ge0RvY30geSBUaGUgWWpzIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7SXRlbX0gaXRlbVxuICAgKi9cbiAgX2ludGVncmF0ZSAoeSwgaXRlbSkge1xuICAgIHN1cGVyLl9pbnRlZ3JhdGUoeSwgaXRlbSlcbiAgICA7LyoqIEB0eXBlIHtNYXA8c3RyaW5nLCBhbnk+fSAqLyAodGhpcy5fcHJlbGltQ29udGVudCkuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgdGhpcy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgfSk7XG4gICAgdGhpcy5fcHJlbGltQ29udGVudCA9IG51bGw7XG4gIH1cblxuICBfY29weSAoKSB7XG4gICAgcmV0dXJuIG5ldyBZTWFwKClcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtZTWFwPE1hcFR5cGU+fVxuICAgKi9cbiAgY2xvbmUgKCkge1xuICAgIGNvbnN0IG1hcCA9IG5ldyBZTWFwKCk7XG4gICAgdGhpcy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICBtYXAuc2V0KGtleSwgdmFsdWUgaW5zdGFuY2VvZiBBYnN0cmFjdFR5cGUgPyB2YWx1ZS5jbG9uZSgpIDogdmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBtYXBcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIFlNYXBFdmVudCBhbmQgY2FsbHMgb2JzZXJ2ZXJzLlxuICAgKlxuICAgKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKiBAcGFyYW0ge1NldDxudWxsfHN0cmluZz59IHBhcmVudFN1YnMgS2V5cyBjaGFuZ2VkIG9uIHRoaXMgdHlwZS4gYG51bGxgIGlmIGxpc3Qgd2FzIG1vZGlmaWVkLlxuICAgKi9cbiAgX2NhbGxPYnNlcnZlciAodHJhbnNhY3Rpb24sIHBhcmVudFN1YnMpIHtcbiAgICBjYWxsVHlwZU9ic2VydmVycyh0aGlzLCB0cmFuc2FjdGlvbiwgbmV3IFlNYXBFdmVudCh0aGlzLCB0cmFuc2FjdGlvbiwgcGFyZW50U3VicykpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zZm9ybXMgdGhpcyBTaGFyZWQgVHlwZSB0byBhIEpTT04gb2JqZWN0LlxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3Q8c3RyaW5nLGFueT59XG4gICAqL1xuICB0b0pTT04gKCkge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLE1hcFR5cGU+fVxuICAgICAqL1xuICAgIGNvbnN0IG1hcCA9IHt9O1xuICAgIHRoaXMuX21hcC5mb3JFYWNoKChpdGVtLCBrZXkpID0+IHtcbiAgICAgIGlmICghaXRlbS5kZWxldGVkKSB7XG4gICAgICAgIGNvbnN0IHYgPSBpdGVtLmNvbnRlbnQuZ2V0Q29udGVudCgpW2l0ZW0ubGVuZ3RoIC0gMV07XG4gICAgICAgIG1hcFtrZXldID0gdiBpbnN0YW5jZW9mIEFic3RyYWN0VHlwZSA/IHYudG9KU09OKCkgOiB2O1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBtYXBcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBzaXplIG9mIHRoZSBZTWFwIChjb3VudCBvZiBrZXkvdmFsdWUgcGFpcnMpXG4gICAqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIGdldCBzaXplICgpIHtcbiAgICByZXR1cm4gWy4uLmNyZWF0ZU1hcEl0ZXJhdG9yKHRoaXMuX21hcCldLmxlbmd0aFxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGtleXMgZm9yIGVhY2ggZWxlbWVudCBpbiB0aGUgWU1hcCBUeXBlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtJdGVyYWJsZUl0ZXJhdG9yPHN0cmluZz59XG4gICAqL1xuICBrZXlzICgpIHtcbiAgICByZXR1cm4gaXRlcmF0b3IuaXRlcmF0b3JNYXAoY3JlYXRlTWFwSXRlcmF0b3IodGhpcy5fbWFwKSwgLyoqIEBwYXJhbSB7YW55fSB2ICovIHYgPT4gdlswXSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSB2YWx1ZXMgZm9yIGVhY2ggZWxlbWVudCBpbiB0aGUgWU1hcCBUeXBlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtJdGVyYWJsZUl0ZXJhdG9yPGFueT59XG4gICAqL1xuICB2YWx1ZXMgKCkge1xuICAgIHJldHVybiBpdGVyYXRvci5pdGVyYXRvck1hcChjcmVhdGVNYXBJdGVyYXRvcih0aGlzLl9tYXApLCAvKiogQHBhcmFtIHthbnl9IHYgKi8gdiA9PiB2WzFdLmNvbnRlbnQuZ2V0Q29udGVudCgpW3ZbMV0ubGVuZ3RoIC0gMV0pXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbiBJdGVyYXRvciBvZiBba2V5LCB2YWx1ZV0gcGFpcnNcbiAgICpcbiAgICogQHJldHVybiB7SXRlcmFibGVJdGVyYXRvcjxhbnk+fVxuICAgKi9cbiAgZW50cmllcyAoKSB7XG4gICAgcmV0dXJuIGl0ZXJhdG9yLml0ZXJhdG9yTWFwKGNyZWF0ZU1hcEl0ZXJhdG9yKHRoaXMuX21hcCksIC8qKiBAcGFyYW0ge2FueX0gdiAqLyB2ID0+IFt2WzBdLCB2WzFdLmNvbnRlbnQuZ2V0Q29udGVudCgpW3ZbMV0ubGVuZ3RoIC0gMV1dKVxuICB9XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGVzIGEgcHJvdmlkZWQgZnVuY3Rpb24gb24gb25jZSBvbiBldmVyeSBrZXktdmFsdWUgcGFpci5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbihNYXBUeXBlLHN0cmluZyxZTWFwPE1hcFR5cGU+KTp2b2lkfSBmIEEgZnVuY3Rpb24gdG8gZXhlY3V0ZSBvbiBldmVyeSBlbGVtZW50IG9mIHRoaXMgWUFycmF5LlxuICAgKi9cbiAgZm9yRWFjaCAoZikge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLE1hcFR5cGU+fVxuICAgICAqL1xuICAgIGNvbnN0IG1hcCA9IHt9O1xuICAgIHRoaXMuX21hcC5mb3JFYWNoKChpdGVtLCBrZXkpID0+IHtcbiAgICAgIGlmICghaXRlbS5kZWxldGVkKSB7XG4gICAgICAgIGYoaXRlbS5jb250ZW50LmdldENvbnRlbnQoKVtpdGVtLmxlbmd0aCAtIDFdLCBrZXksIHRoaXMpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBtYXBcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIEl0ZXJhdG9yIG9mIFtrZXksIHZhbHVlXSBwYWlyc1xuICAgKlxuICAgKiBAcmV0dXJuIHtJdGVyYWJsZUl0ZXJhdG9yPGFueT59XG4gICAqL1xuICBbU3ltYm9sLml0ZXJhdG9yXSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZW50cmllcygpXG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgc3BlY2lmaWVkIGVsZW1lbnQgZnJvbSB0aGlzIFlNYXAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZWxlbWVudCB0byByZW1vdmUuXG4gICAqL1xuICBkZWxldGUgKGtleSkge1xuICAgIGlmICh0aGlzLmRvYyAhPT0gbnVsbCkge1xuICAgICAgdHJhbnNhY3QodGhpcy5kb2MsIHRyYW5zYWN0aW9uID0+IHtcbiAgICAgICAgdHlwZU1hcERlbGV0ZSh0cmFuc2FjdGlvbiwgdGhpcywga2V5KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiogQHR5cGUge01hcDxzdHJpbmcsIGFueT59ICovICh0aGlzLl9wcmVsaW1Db250ZW50KS5kZWxldGUoa2V5KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBvciB1cGRhdGVzIGFuIGVsZW1lbnQgd2l0aCBhIHNwZWNpZmllZCBrZXkgYW5kIHZhbHVlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVsZW1lbnQgdG8gYWRkIHRvIHRoaXMgWU1hcFxuICAgKiBAcGFyYW0ge01hcFR5cGV9IHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCB0byBhZGRcbiAgICovXG4gIHNldCAoa2V5LCB2YWx1ZSkge1xuICAgIGlmICh0aGlzLmRvYyAhPT0gbnVsbCkge1xuICAgICAgdHJhbnNhY3QodGhpcy5kb2MsIHRyYW5zYWN0aW9uID0+IHtcbiAgICAgICAgdHlwZU1hcFNldCh0cmFuc2FjdGlvbiwgdGhpcywga2V5LCB2YWx1ZSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLyoqIEB0eXBlIHtNYXA8c3RyaW5nLCBhbnk+fSAqLyAodGhpcy5fcHJlbGltQ29udGVudCkuc2V0KGtleSwgdmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWVcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc3BlY2lmaWVkIGVsZW1lbnQgZnJvbSB0aGlzIFlNYXAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICogQHJldHVybiB7TWFwVHlwZXx1bmRlZmluZWR9XG4gICAqL1xuICBnZXQgKGtleSkge1xuICAgIHJldHVybiAvKiogQHR5cGUge2FueX0gKi8gKHR5cGVNYXBHZXQodGhpcywga2V5KSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHNwZWNpZmllZCBrZXkgZXhpc3RzIG9yIG5vdC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IHRvIHRlc3QuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBoYXMgKGtleSkge1xuICAgIHJldHVybiB0eXBlTWFwSGFzKHRoaXMsIGtleSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCBlbGVtZW50cyBmcm9tIHRoaXMgWU1hcC5cbiAgICovXG4gIGNsZWFyICgpIHtcbiAgICBpZiAodGhpcy5kb2MgIT09IG51bGwpIHtcbiAgICAgIHRyYW5zYWN0KHRoaXMuZG9jLCB0cmFuc2FjdGlvbiA9PiB7XG4gICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSwgbWFwKSB7XG4gICAgICAgICAgdHlwZU1hcERlbGV0ZSh0cmFuc2FjdGlvbiwgbWFwLCBrZXkpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiogQHR5cGUge01hcDxzdHJpbmcsIGFueT59ICovICh0aGlzLl9wcmVsaW1Db250ZW50KS5jbGVhcigpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1VwZGF0ZUVuY29kZXJWMSB8IFVwZGF0ZUVuY29kZXJWMn0gZW5jb2RlclxuICAgKi9cbiAgX3dyaXRlIChlbmNvZGVyKSB7XG4gICAgZW5jb2Rlci53cml0ZVR5cGVSZWYoWU1hcFJlZklEKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7VXBkYXRlRGVjb2RlclYxIHwgVXBkYXRlRGVjb2RlclYyfSBkZWNvZGVyXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCByZWFkWU1hcCA9IGRlY29kZXIgPT4gbmV3IFlNYXAoKTtcblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gYVxuICogQHBhcmFtIHthbnl9IGJcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmNvbnN0IGVxdWFsQXR0cnMgPSAoYSwgYikgPT4gYSA9PT0gYiB8fCAodHlwZW9mIGEgPT09ICdvYmplY3QnICYmIHR5cGVvZiBiID09PSAnb2JqZWN0JyAmJiBhICYmIGIgJiYgb2JqZWN0LmVxdWFsRmxhdChhLCBiKSk7XG5cbmNsYXNzIEl0ZW1UZXh0TGlzdFBvc2l0aW9uIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7SXRlbXxudWxsfSBsZWZ0XG4gICAqIEBwYXJhbSB7SXRlbXxudWxsfSByaWdodFxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAgICogQHBhcmFtIHtNYXA8c3RyaW5nLGFueT59IGN1cnJlbnRBdHRyaWJ1dGVzXG4gICAqL1xuICBjb25zdHJ1Y3RvciAobGVmdCwgcmlnaHQsIGluZGV4LCBjdXJyZW50QXR0cmlidXRlcykge1xuICAgIHRoaXMubGVmdCA9IGxlZnQ7XG4gICAgdGhpcy5yaWdodCA9IHJpZ2h0O1xuICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICB0aGlzLmN1cnJlbnRBdHRyaWJ1dGVzID0gY3VycmVudEF0dHJpYnV0ZXM7XG4gIH1cblxuICAvKipcbiAgICogT25seSBjYWxsIHRoaXMgaWYgeW91IGtub3cgdGhhdCB0aGlzLnJpZ2h0IGlzIGRlZmluZWRcbiAgICovXG4gIGZvcndhcmQgKCkge1xuICAgIGlmICh0aGlzLnJpZ2h0ID09PSBudWxsKSB7XG4gICAgICBlcnJvci51bmV4cGVjdGVkQ2FzZSgpO1xuICAgIH1cbiAgICBzd2l0Y2ggKHRoaXMucmlnaHQuY29udGVudC5jb25zdHJ1Y3Rvcikge1xuICAgICAgY2FzZSBDb250ZW50Rm9ybWF0OlxuICAgICAgICBpZiAoIXRoaXMucmlnaHQuZGVsZXRlZCkge1xuICAgICAgICAgIHVwZGF0ZUN1cnJlbnRBdHRyaWJ1dGVzKHRoaXMuY3VycmVudEF0dHJpYnV0ZXMsIC8qKiBAdHlwZSB7Q29udGVudEZvcm1hdH0gKi8gKHRoaXMucmlnaHQuY29udGVudCkpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoIXRoaXMucmlnaHQuZGVsZXRlZCkge1xuICAgICAgICAgIHRoaXMuaW5kZXggKz0gdGhpcy5yaWdodC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICB9XG4gICAgdGhpcy5sZWZ0ID0gdGhpcy5yaWdodDtcbiAgICB0aGlzLnJpZ2h0ID0gdGhpcy5yaWdodC5yaWdodDtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7VHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gKiBAcGFyYW0ge0l0ZW1UZXh0TGlzdFBvc2l0aW9ufSBwb3NcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb3VudCBzdGVwcyB0byBtb3ZlIGZvcndhcmRcbiAqIEByZXR1cm4ge0l0ZW1UZXh0TGlzdFBvc2l0aW9ufVxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgZmluZE5leHRQb3NpdGlvbiA9ICh0cmFuc2FjdGlvbiwgcG9zLCBjb3VudCkgPT4ge1xuICB3aGlsZSAocG9zLnJpZ2h0ICE9PSBudWxsICYmIGNvdW50ID4gMCkge1xuICAgIHN3aXRjaCAocG9zLnJpZ2h0LmNvbnRlbnQuY29uc3RydWN0b3IpIHtcbiAgICAgIGNhc2UgQ29udGVudEZvcm1hdDpcbiAgICAgICAgaWYgKCFwb3MucmlnaHQuZGVsZXRlZCkge1xuICAgICAgICAgIHVwZGF0ZUN1cnJlbnRBdHRyaWJ1dGVzKHBvcy5jdXJyZW50QXR0cmlidXRlcywgLyoqIEB0eXBlIHtDb250ZW50Rm9ybWF0fSAqLyAocG9zLnJpZ2h0LmNvbnRlbnQpKTtcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKCFwb3MucmlnaHQuZGVsZXRlZCkge1xuICAgICAgICAgIGlmIChjb3VudCA8IHBvcy5yaWdodC5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIHNwbGl0IHJpZ2h0XG4gICAgICAgICAgICBnZXRJdGVtQ2xlYW5TdGFydCh0cmFuc2FjdGlvbiwgY3JlYXRlSUQocG9zLnJpZ2h0LmlkLmNsaWVudCwgcG9zLnJpZ2h0LmlkLmNsb2NrICsgY291bnQpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcG9zLmluZGV4ICs9IHBvcy5yaWdodC5sZW5ndGg7XG4gICAgICAgICAgY291bnQgLT0gcG9zLnJpZ2h0Lmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgIH1cbiAgICBwb3MubGVmdCA9IHBvcy5yaWdodDtcbiAgICBwb3MucmlnaHQgPSBwb3MucmlnaHQucmlnaHQ7XG4gICAgLy8gcG9zLmZvcndhcmQoKSAtIHdlIGRvbid0IGZvcndhcmQgYmVjYXVzZSB0aGF0IHdvdWxkIGhhbHZlIHRoZSBwZXJmb3JtYW5jZSBiZWNhdXNlIHdlIGFscmVhZHkgZG8gdGhlIGNoZWNrcyBhYm92ZVxuICB9XG4gIHJldHVybiBwb3Ncbn07XG5cbi8qKlxuICogQHBhcmFtIHtUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAqIEBwYXJhbSB7QWJzdHJhY3RUeXBlPGFueT59IHBhcmVudFxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gKiBAcmV0dXJuIHtJdGVtVGV4dExpc3RQb3NpdGlvbn1cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IGZpbmRQb3NpdGlvbiA9ICh0cmFuc2FjdGlvbiwgcGFyZW50LCBpbmRleCkgPT4ge1xuICBjb25zdCBjdXJyZW50QXR0cmlidXRlcyA9IG5ldyBNYXAoKTtcbiAgY29uc3QgbWFya2VyID0gZmluZE1hcmtlcihwYXJlbnQsIGluZGV4KTtcbiAgaWYgKG1hcmtlcikge1xuICAgIGNvbnN0IHBvcyA9IG5ldyBJdGVtVGV4dExpc3RQb3NpdGlvbihtYXJrZXIucC5sZWZ0LCBtYXJrZXIucCwgbWFya2VyLmluZGV4LCBjdXJyZW50QXR0cmlidXRlcyk7XG4gICAgcmV0dXJuIGZpbmROZXh0UG9zaXRpb24odHJhbnNhY3Rpb24sIHBvcywgaW5kZXggLSBtYXJrZXIuaW5kZXgpXG4gIH0gZWxzZSB7XG4gICAgY29uc3QgcG9zID0gbmV3IEl0ZW1UZXh0TGlzdFBvc2l0aW9uKG51bGwsIHBhcmVudC5fc3RhcnQsIDAsIGN1cnJlbnRBdHRyaWJ1dGVzKTtcbiAgICByZXR1cm4gZmluZE5leHRQb3NpdGlvbih0cmFuc2FjdGlvbiwgcG9zLCBpbmRleClcbiAgfVxufTtcblxuLyoqXG4gKiBOZWdhdGUgYXBwbGllZCBmb3JtYXRzXG4gKlxuICogQHBhcmFtIHtUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAqIEBwYXJhbSB7QWJzdHJhY3RUeXBlPGFueT59IHBhcmVudFxuICogQHBhcmFtIHtJdGVtVGV4dExpc3RQb3NpdGlvbn0gY3VyclBvc1xuICogQHBhcmFtIHtNYXA8c3RyaW5nLGFueT59IG5lZ2F0ZWRBdHRyaWJ1dGVzXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCBpbnNlcnROZWdhdGVkQXR0cmlidXRlcyA9ICh0cmFuc2FjdGlvbiwgcGFyZW50LCBjdXJyUG9zLCBuZWdhdGVkQXR0cmlidXRlcykgPT4ge1xuICAvLyBjaGVjayBpZiB3ZSByZWFsbHkgbmVlZCB0byByZW1vdmUgYXR0cmlidXRlc1xuICB3aGlsZSAoXG4gICAgY3VyclBvcy5yaWdodCAhPT0gbnVsbCAmJiAoXG4gICAgICBjdXJyUG9zLnJpZ2h0LmRlbGV0ZWQgPT09IHRydWUgfHwgKFxuICAgICAgICBjdXJyUG9zLnJpZ2h0LmNvbnRlbnQuY29uc3RydWN0b3IgPT09IENvbnRlbnRGb3JtYXQgJiZcbiAgICAgICAgZXF1YWxBdHRycyhuZWdhdGVkQXR0cmlidXRlcy5nZXQoLyoqIEB0eXBlIHtDb250ZW50Rm9ybWF0fSAqLyAoY3VyclBvcy5yaWdodC5jb250ZW50KS5rZXkpLCAvKiogQHR5cGUge0NvbnRlbnRGb3JtYXR9ICovIChjdXJyUG9zLnJpZ2h0LmNvbnRlbnQpLnZhbHVlKVxuICAgICAgKVxuICAgIClcbiAgKSB7XG4gICAgaWYgKCFjdXJyUG9zLnJpZ2h0LmRlbGV0ZWQpIHtcbiAgICAgIG5lZ2F0ZWRBdHRyaWJ1dGVzLmRlbGV0ZSgvKiogQHR5cGUge0NvbnRlbnRGb3JtYXR9ICovIChjdXJyUG9zLnJpZ2h0LmNvbnRlbnQpLmtleSk7XG4gICAgfVxuICAgIGN1cnJQb3MuZm9yd2FyZCgpO1xuICB9XG4gIGNvbnN0IGRvYyA9IHRyYW5zYWN0aW9uLmRvYztcbiAgY29uc3Qgb3duQ2xpZW50SWQgPSBkb2MuY2xpZW50SUQ7XG4gIG5lZ2F0ZWRBdHRyaWJ1dGVzLmZvckVhY2goKHZhbCwga2V5KSA9PiB7XG4gICAgY29uc3QgbGVmdCA9IGN1cnJQb3MubGVmdDtcbiAgICBjb25zdCByaWdodCA9IGN1cnJQb3MucmlnaHQ7XG4gICAgY29uc3QgbmV4dEZvcm1hdCA9IG5ldyBJdGVtKGNyZWF0ZUlEKG93bkNsaWVudElkLCBnZXRTdGF0ZShkb2Muc3RvcmUsIG93bkNsaWVudElkKSksIGxlZnQsIGxlZnQgJiYgbGVmdC5sYXN0SWQsIHJpZ2h0LCByaWdodCAmJiByaWdodC5pZCwgcGFyZW50LCBudWxsLCBuZXcgQ29udGVudEZvcm1hdChrZXksIHZhbCkpO1xuICAgIG5leHRGb3JtYXQuaW50ZWdyYXRlKHRyYW5zYWN0aW9uLCAwKTtcbiAgICBjdXJyUG9zLnJpZ2h0ID0gbmV4dEZvcm1hdDtcbiAgICBjdXJyUG9zLmZvcndhcmQoKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7TWFwPHN0cmluZyxhbnk+fSBjdXJyZW50QXR0cmlidXRlc1xuICogQHBhcmFtIHtDb250ZW50Rm9ybWF0fSBmb3JtYXRcbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IHVwZGF0ZUN1cnJlbnRBdHRyaWJ1dGVzID0gKGN1cnJlbnRBdHRyaWJ1dGVzLCBmb3JtYXQpID0+IHtcbiAgY29uc3QgeyBrZXksIHZhbHVlIH0gPSBmb3JtYXQ7XG4gIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgIGN1cnJlbnRBdHRyaWJ1dGVzLmRlbGV0ZShrZXkpO1xuICB9IGVsc2Uge1xuICAgIGN1cnJlbnRBdHRyaWJ1dGVzLnNldChrZXksIHZhbHVlKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge0l0ZW1UZXh0TGlzdFBvc2l0aW9ufSBjdXJyUG9zXG4gKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsYW55Pn0gYXR0cmlidXRlc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgbWluaW1pemVBdHRyaWJ1dGVDaGFuZ2VzID0gKGN1cnJQb3MsIGF0dHJpYnV0ZXMpID0+IHtcbiAgLy8gZ28gcmlnaHQgd2hpbGUgYXR0cmlidXRlc1tyaWdodC5rZXldID09PSByaWdodC52YWx1ZSAob3IgcmlnaHQgaXMgZGVsZXRlZClcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBpZiAoY3VyclBvcy5yaWdodCA9PT0gbnVsbCkge1xuICAgICAgYnJlYWtcbiAgICB9IGVsc2UgaWYgKGN1cnJQb3MucmlnaHQuZGVsZXRlZCB8fCAoY3VyclBvcy5yaWdodC5jb250ZW50LmNvbnN0cnVjdG9yID09PSBDb250ZW50Rm9ybWF0ICYmIGVxdWFsQXR0cnMoYXR0cmlidXRlc1soLyoqIEB0eXBlIHtDb250ZW50Rm9ybWF0fSAqLyAoY3VyclBvcy5yaWdodC5jb250ZW50KSkua2V5XSB8fCBudWxsLCAvKiogQHR5cGUge0NvbnRlbnRGb3JtYXR9ICovIChjdXJyUG9zLnJpZ2h0LmNvbnRlbnQpLnZhbHVlKSkpIDsgZWxzZSB7XG4gICAgICBicmVha1xuICAgIH1cbiAgICBjdXJyUG9zLmZvcndhcmQoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICogQHBhcmFtIHtBYnN0cmFjdFR5cGU8YW55Pn0gcGFyZW50XG4gKiBAcGFyYW0ge0l0ZW1UZXh0TGlzdFBvc2l0aW9ufSBjdXJyUG9zXG4gKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsYW55Pn0gYXR0cmlidXRlc1xuICogQHJldHVybiB7TWFwPHN0cmluZyxhbnk+fVxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb25cbiAqKi9cbmNvbnN0IGluc2VydEF0dHJpYnV0ZXMgPSAodHJhbnNhY3Rpb24sIHBhcmVudCwgY3VyclBvcywgYXR0cmlidXRlcykgPT4ge1xuICBjb25zdCBkb2MgPSB0cmFuc2FjdGlvbi5kb2M7XG4gIGNvbnN0IG93bkNsaWVudElkID0gZG9jLmNsaWVudElEO1xuICBjb25zdCBuZWdhdGVkQXR0cmlidXRlcyA9IG5ldyBNYXAoKTtcbiAgLy8gaW5zZXJ0IGZvcm1hdC1zdGFydCBpdGVtc1xuICBmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgY29uc3QgdmFsID0gYXR0cmlidXRlc1trZXldO1xuICAgIGNvbnN0IGN1cnJlbnRWYWwgPSBjdXJyUG9zLmN1cnJlbnRBdHRyaWJ1dGVzLmdldChrZXkpIHx8IG51bGw7XG4gICAgaWYgKCFlcXVhbEF0dHJzKGN1cnJlbnRWYWwsIHZhbCkpIHtcbiAgICAgIC8vIHNhdmUgbmVnYXRlZCBhdHRyaWJ1dGUgKHNldCBudWxsIGlmIGN1cnJlbnRWYWwgdW5kZWZpbmVkKVxuICAgICAgbmVnYXRlZEF0dHJpYnV0ZXMuc2V0KGtleSwgY3VycmVudFZhbCk7XG4gICAgICBjb25zdCB7IGxlZnQsIHJpZ2h0IH0gPSBjdXJyUG9zO1xuICAgICAgY3VyclBvcy5yaWdodCA9IG5ldyBJdGVtKGNyZWF0ZUlEKG93bkNsaWVudElkLCBnZXRTdGF0ZShkb2Muc3RvcmUsIG93bkNsaWVudElkKSksIGxlZnQsIGxlZnQgJiYgbGVmdC5sYXN0SWQsIHJpZ2h0LCByaWdodCAmJiByaWdodC5pZCwgcGFyZW50LCBudWxsLCBuZXcgQ29udGVudEZvcm1hdChrZXksIHZhbCkpO1xuICAgICAgY3VyclBvcy5yaWdodC5pbnRlZ3JhdGUodHJhbnNhY3Rpb24sIDApO1xuICAgICAgY3VyclBvcy5mb3J3YXJkKCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBuZWdhdGVkQXR0cmlidXRlc1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICogQHBhcmFtIHtBYnN0cmFjdFR5cGU8YW55Pn0gcGFyZW50XG4gKiBAcGFyYW0ge0l0ZW1UZXh0TGlzdFBvc2l0aW9ufSBjdXJyUG9zXG4gKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R8QWJzdHJhY3RUeXBlPGFueT59IHRleHRcbiAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZyxhbnk+fSBhdHRyaWJ1dGVzXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvblxuICoqL1xuY29uc3QgaW5zZXJ0VGV4dCA9ICh0cmFuc2FjdGlvbiwgcGFyZW50LCBjdXJyUG9zLCB0ZXh0LCBhdHRyaWJ1dGVzKSA9PiB7XG4gIGN1cnJQb3MuY3VycmVudEF0dHJpYnV0ZXMuZm9yRWFjaCgodmFsLCBrZXkpID0+IHtcbiAgICBpZiAoYXR0cmlidXRlc1trZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGF0dHJpYnV0ZXNba2V5XSA9IG51bGw7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgZG9jID0gdHJhbnNhY3Rpb24uZG9jO1xuICBjb25zdCBvd25DbGllbnRJZCA9IGRvYy5jbGllbnRJRDtcbiAgbWluaW1pemVBdHRyaWJ1dGVDaGFuZ2VzKGN1cnJQb3MsIGF0dHJpYnV0ZXMpO1xuICBjb25zdCBuZWdhdGVkQXR0cmlidXRlcyA9IGluc2VydEF0dHJpYnV0ZXModHJhbnNhY3Rpb24sIHBhcmVudCwgY3VyclBvcywgYXR0cmlidXRlcyk7XG4gIC8vIGluc2VydCBjb250ZW50XG4gIGNvbnN0IGNvbnRlbnQgPSB0ZXh0LmNvbnN0cnVjdG9yID09PSBTdHJpbmcgPyBuZXcgQ29udGVudFN0cmluZygvKiogQHR5cGUge3N0cmluZ30gKi8gKHRleHQpKSA6ICh0ZXh0IGluc3RhbmNlb2YgQWJzdHJhY3RUeXBlID8gbmV3IENvbnRlbnRUeXBlKHRleHQpIDogbmV3IENvbnRlbnRFbWJlZCh0ZXh0KSk7XG4gIGxldCB7IGxlZnQsIHJpZ2h0LCBpbmRleCB9ID0gY3VyclBvcztcbiAgaWYgKHBhcmVudC5fc2VhcmNoTWFya2VyKSB7XG4gICAgdXBkYXRlTWFya2VyQ2hhbmdlcyhwYXJlbnQuX3NlYXJjaE1hcmtlciwgY3VyclBvcy5pbmRleCwgY29udGVudC5nZXRMZW5ndGgoKSk7XG4gIH1cbiAgcmlnaHQgPSBuZXcgSXRlbShjcmVhdGVJRChvd25DbGllbnRJZCwgZ2V0U3RhdGUoZG9jLnN0b3JlLCBvd25DbGllbnRJZCkpLCBsZWZ0LCBsZWZ0ICYmIGxlZnQubGFzdElkLCByaWdodCwgcmlnaHQgJiYgcmlnaHQuaWQsIHBhcmVudCwgbnVsbCwgY29udGVudCk7XG4gIHJpZ2h0LmludGVncmF0ZSh0cmFuc2FjdGlvbiwgMCk7XG4gIGN1cnJQb3MucmlnaHQgPSByaWdodDtcbiAgY3VyclBvcy5pbmRleCA9IGluZGV4O1xuICBjdXJyUG9zLmZvcndhcmQoKTtcbiAgaW5zZXJ0TmVnYXRlZEF0dHJpYnV0ZXModHJhbnNhY3Rpb24sIHBhcmVudCwgY3VyclBvcywgbmVnYXRlZEF0dHJpYnV0ZXMpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICogQHBhcmFtIHtBYnN0cmFjdFR5cGU8YW55Pn0gcGFyZW50XG4gKiBAcGFyYW0ge0l0ZW1UZXh0TGlzdFBvc2l0aW9ufSBjdXJyUG9zXG4gKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoXG4gKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsYW55Pn0gYXR0cmlidXRlc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgZm9ybWF0VGV4dCA9ICh0cmFuc2FjdGlvbiwgcGFyZW50LCBjdXJyUG9zLCBsZW5ndGgsIGF0dHJpYnV0ZXMpID0+IHtcbiAgY29uc3QgZG9jID0gdHJhbnNhY3Rpb24uZG9jO1xuICBjb25zdCBvd25DbGllbnRJZCA9IGRvYy5jbGllbnRJRDtcbiAgbWluaW1pemVBdHRyaWJ1dGVDaGFuZ2VzKGN1cnJQb3MsIGF0dHJpYnV0ZXMpO1xuICBjb25zdCBuZWdhdGVkQXR0cmlidXRlcyA9IGluc2VydEF0dHJpYnV0ZXModHJhbnNhY3Rpb24sIHBhcmVudCwgY3VyclBvcywgYXR0cmlidXRlcyk7XG4gIC8vIGl0ZXJhdGUgdW50aWwgZmlyc3Qgbm9uLWZvcm1hdCBvciBudWxsIGlzIGZvdW5kXG4gIC8vIGRlbGV0ZSBhbGwgZm9ybWF0cyB3aXRoIGF0dHJpYnV0ZXNbZm9ybWF0LmtleV0gIT0gbnVsbFxuICAvLyBhbHNvIGNoZWNrIHRoZSBhdHRyaWJ1dGVzIGFmdGVyIHRoZSBmaXJzdCBub24tZm9ybWF0IGFzIHdlIGRvIG5vdCB3YW50IHRvIGluc2VydCByZWR1bmRhbnQgbmVnYXRlZCBhdHRyaWJ1dGVzIHRoZXJlXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1sYWJlbHNcbiAgaXRlcmF0aW9uTG9vcDogd2hpbGUgKFxuICAgIGN1cnJQb3MucmlnaHQgIT09IG51bGwgJiZcbiAgICAobGVuZ3RoID4gMCB8fFxuICAgICAgKFxuICAgICAgICBuZWdhdGVkQXR0cmlidXRlcy5zaXplID4gMCAmJlxuICAgICAgICAoY3VyclBvcy5yaWdodC5kZWxldGVkIHx8IGN1cnJQb3MucmlnaHQuY29udGVudC5jb25zdHJ1Y3RvciA9PT0gQ29udGVudEZvcm1hdClcbiAgICAgIClcbiAgICApXG4gICkge1xuICAgIGlmICghY3VyclBvcy5yaWdodC5kZWxldGVkKSB7XG4gICAgICBzd2l0Y2ggKGN1cnJQb3MucmlnaHQuY29udGVudC5jb25zdHJ1Y3Rvcikge1xuICAgICAgICBjYXNlIENvbnRlbnRGb3JtYXQ6IHtcbiAgICAgICAgICBjb25zdCB7IGtleSwgdmFsdWUgfSA9IC8qKiBAdHlwZSB7Q29udGVudEZvcm1hdH0gKi8gKGN1cnJQb3MucmlnaHQuY29udGVudCk7XG4gICAgICAgICAgY29uc3QgYXR0ciA9IGF0dHJpYnV0ZXNba2V5XTtcbiAgICAgICAgICBpZiAoYXR0ciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoZXF1YWxBdHRycyhhdHRyLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgbmVnYXRlZEF0dHJpYnV0ZXMuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAobGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gbm8gbmVlZCB0byBmdXJ0aGVyIGV4dGVuZCBuZWdhdGVkQXR0cmlidXRlc1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1sYWJlbHNcbiAgICAgICAgICAgICAgICBicmVhayBpdGVyYXRpb25Mb29wXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbmVnYXRlZEF0dHJpYnV0ZXMuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VyclBvcy5yaWdodC5kZWxldGUodHJhbnNhY3Rpb24pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdXJyUG9zLmN1cnJlbnRBdHRyaWJ1dGVzLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChsZW5ndGggPCBjdXJyUG9zLnJpZ2h0Lmxlbmd0aCkge1xuICAgICAgICAgICAgZ2V0SXRlbUNsZWFuU3RhcnQodHJhbnNhY3Rpb24sIGNyZWF0ZUlEKGN1cnJQb3MucmlnaHQuaWQuY2xpZW50LCBjdXJyUG9zLnJpZ2h0LmlkLmNsb2NrICsgbGVuZ3RoKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxlbmd0aCAtPSBjdXJyUG9zLnJpZ2h0Lmxlbmd0aDtcbiAgICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgICBjdXJyUG9zLmZvcndhcmQoKTtcbiAgfVxuICAvLyBRdWlsbCBqdXN0IGFzc3VtZXMgdGhhdCB0aGUgZWRpdG9yIHN0YXJ0cyB3aXRoIGEgbmV3bGluZSBhbmQgdGhhdCBpdCBhbHdheXNcbiAgLy8gZW5kcyB3aXRoIGEgbmV3bGluZS4gV2Ugb25seSBpbnNlcnQgdGhhdCBuZXdsaW5lIHdoZW4gYSBuZXcgbmV3bGluZSBpc1xuICAvLyBpbnNlcnRlZCAtIGkuZSB3aGVuIGxlbmd0aCBpcyBiaWdnZXIgdGhhbiB0eXBlLmxlbmd0aFxuICBpZiAobGVuZ3RoID4gMCkge1xuICAgIGxldCBuZXdsaW5lcyA9ICcnO1xuICAgIGZvciAoOyBsZW5ndGggPiAwOyBsZW5ndGgtLSkge1xuICAgICAgbmV3bGluZXMgKz0gJ1xcbic7XG4gICAgfVxuICAgIGN1cnJQb3MucmlnaHQgPSBuZXcgSXRlbShjcmVhdGVJRChvd25DbGllbnRJZCwgZ2V0U3RhdGUoZG9jLnN0b3JlLCBvd25DbGllbnRJZCkpLCBjdXJyUG9zLmxlZnQsIGN1cnJQb3MubGVmdCAmJiBjdXJyUG9zLmxlZnQubGFzdElkLCBjdXJyUG9zLnJpZ2h0LCBjdXJyUG9zLnJpZ2h0ICYmIGN1cnJQb3MucmlnaHQuaWQsIHBhcmVudCwgbnVsbCwgbmV3IENvbnRlbnRTdHJpbmcobmV3bGluZXMpKTtcbiAgICBjdXJyUG9zLnJpZ2h0LmludGVncmF0ZSh0cmFuc2FjdGlvbiwgMCk7XG4gICAgY3VyclBvcy5mb3J3YXJkKCk7XG4gIH1cbiAgaW5zZXJ0TmVnYXRlZEF0dHJpYnV0ZXModHJhbnNhY3Rpb24sIHBhcmVudCwgY3VyclBvcywgbmVnYXRlZEF0dHJpYnV0ZXMpO1xufTtcblxuLyoqXG4gKiBDYWxsIHRoaXMgZnVuY3Rpb24gYWZ0ZXIgc3RyaW5nIGNvbnRlbnQgaGFzIGJlZW4gZGVsZXRlZCBpbiBvcmRlciB0b1xuICogY2xlYW4gdXAgZm9ybWF0dGluZyBJdGVtcy5cbiAqXG4gKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICogQHBhcmFtIHtJdGVtfSBzdGFydFxuICogQHBhcmFtIHtJdGVtfG51bGx9IGN1cnIgZXhjbHVzaXZlIGVuZCwgYXV0b21hdGljYWxseSBpdGVyYXRlcyB0byB0aGUgbmV4dCBDb250ZW50IEl0ZW1cbiAqIEBwYXJhbSB7TWFwPHN0cmluZyxhbnk+fSBzdGFydEF0dHJpYnV0ZXNcbiAqIEBwYXJhbSB7TWFwPHN0cmluZyxhbnk+fSBjdXJyQXR0cmlidXRlc1xuICogQHJldHVybiB7bnVtYmVyfSBUaGUgYW1vdW50IG9mIGZvcm1hdHRpbmcgSXRlbXMgZGVsZXRlZC5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgY2xlYW51cEZvcm1hdHRpbmdHYXAgPSAodHJhbnNhY3Rpb24sIHN0YXJ0LCBjdXJyLCBzdGFydEF0dHJpYnV0ZXMsIGN1cnJBdHRyaWJ1dGVzKSA9PiB7XG4gIGxldCBlbmQgPSBjdXJyO1xuICBjb25zdCBlbmRBdHRyaWJ1dGVzID0gbWFwLmNvcHkoY3VyckF0dHJpYnV0ZXMpO1xuICB3aGlsZSAoZW5kICYmICghZW5kLmNvdW50YWJsZSB8fCBlbmQuZGVsZXRlZCkpIHtcbiAgICBpZiAoIWVuZC5kZWxldGVkICYmIGVuZC5jb250ZW50LmNvbnN0cnVjdG9yID09PSBDb250ZW50Rm9ybWF0KSB7XG4gICAgICB1cGRhdGVDdXJyZW50QXR0cmlidXRlcyhlbmRBdHRyaWJ1dGVzLCAvKiogQHR5cGUge0NvbnRlbnRGb3JtYXR9ICovIChlbmQuY29udGVudCkpO1xuICAgIH1cbiAgICBlbmQgPSBlbmQucmlnaHQ7XG4gIH1cbiAgbGV0IGNsZWFudXBzID0gMDtcbiAgbGV0IHJlYWNoZWRFbmRPZkN1cnIgPSBmYWxzZTtcbiAgd2hpbGUgKHN0YXJ0ICE9PSBlbmQpIHtcbiAgICBpZiAoY3VyciA9PT0gc3RhcnQpIHtcbiAgICAgIHJlYWNoZWRFbmRPZkN1cnIgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoIXN0YXJ0LmRlbGV0ZWQpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBzdGFydC5jb250ZW50O1xuICAgICAgc3dpdGNoIChjb250ZW50LmNvbnN0cnVjdG9yKSB7XG4gICAgICAgIGNhc2UgQ29udGVudEZvcm1hdDoge1xuICAgICAgICAgIGNvbnN0IHsga2V5LCB2YWx1ZSB9ID0gLyoqIEB0eXBlIHtDb250ZW50Rm9ybWF0fSAqLyAoY29udGVudCk7XG4gICAgICAgICAgaWYgKChlbmRBdHRyaWJ1dGVzLmdldChrZXkpIHx8IG51bGwpICE9PSB2YWx1ZSB8fCAoc3RhcnRBdHRyaWJ1dGVzLmdldChrZXkpIHx8IG51bGwpID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgLy8gRWl0aGVyIHRoaXMgZm9ybWF0IGlzIG92ZXJ3cml0dGVuIG9yIGl0IGlzIG5vdCBuZWNlc3NhcnkgYmVjYXVzZSB0aGUgYXR0cmlidXRlIGFscmVhZHkgZXhpc3RlZC5cbiAgICAgICAgICAgIHN0YXJ0LmRlbGV0ZSh0cmFuc2FjdGlvbik7XG4gICAgICAgICAgICBjbGVhbnVwcysrO1xuICAgICAgICAgICAgaWYgKCFyZWFjaGVkRW5kT2ZDdXJyICYmIChjdXJyQXR0cmlidXRlcy5nZXQoa2V5KSB8fCBudWxsKSA9PT0gdmFsdWUgJiYgKHN0YXJ0QXR0cmlidXRlcy5nZXQoa2V5KSB8fCBudWxsKSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgY3VyckF0dHJpYnV0ZXMuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgc3RhcnQgPSAvKiogQHR5cGUge0l0ZW19ICovIChzdGFydC5yaWdodCk7XG4gIH1cbiAgcmV0dXJuIGNsZWFudXBzXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7VHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gKiBAcGFyYW0ge0l0ZW0gfCBudWxsfSBpdGVtXG4gKi9cbmNvbnN0IGNsZWFudXBDb250ZXh0bGVzc0Zvcm1hdHRpbmdHYXAgPSAodHJhbnNhY3Rpb24sIGl0ZW0pID0+IHtcbiAgLy8gaXRlcmF0ZSB1bnRpbCBpdGVtLnJpZ2h0IGlzIG51bGwgb3IgY29udGVudFxuICB3aGlsZSAoaXRlbSAmJiBpdGVtLnJpZ2h0ICYmIChpdGVtLnJpZ2h0LmRlbGV0ZWQgfHwgIWl0ZW0ucmlnaHQuY291bnRhYmxlKSkge1xuICAgIGl0ZW0gPSBpdGVtLnJpZ2h0O1xuICB9XG4gIGNvbnN0IGF0dHJzID0gbmV3IFNldCgpO1xuICAvLyBpdGVyYXRlIGJhY2sgdW50aWwgYSBjb250ZW50IGl0ZW0gaXMgZm91bmRcbiAgd2hpbGUgKGl0ZW0gJiYgKGl0ZW0uZGVsZXRlZCB8fCAhaXRlbS5jb3VudGFibGUpKSB7XG4gICAgaWYgKCFpdGVtLmRlbGV0ZWQgJiYgaXRlbS5jb250ZW50LmNvbnN0cnVjdG9yID09PSBDb250ZW50Rm9ybWF0KSB7XG4gICAgICBjb25zdCBrZXkgPSAvKiogQHR5cGUge0NvbnRlbnRGb3JtYXR9ICovIChpdGVtLmNvbnRlbnQpLmtleTtcbiAgICAgIGlmIChhdHRycy5oYXMoa2V5KSkge1xuICAgICAgICBpdGVtLmRlbGV0ZSh0cmFuc2FjdGlvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhdHRycy5hZGQoa2V5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaXRlbSA9IGl0ZW0ubGVmdDtcbiAgfVxufTtcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGV4cGVyaW1lbnRhbCBhbmQgc3ViamVjdCB0byBjaGFuZ2UgLyBiZSByZW1vdmVkLlxuICpcbiAqIElkZWFsbHksIHdlIGRvbid0IG5lZWQgdGhpcyBmdW5jdGlvbiBhdCBhbGwuIEZvcm1hdHRpbmcgYXR0cmlidXRlcyBzaG91bGQgYmUgY2xlYW5lZCB1cFxuICogYXV0b21hdGljYWxseSBhZnRlciBlYWNoIGNoYW5nZS4gVGhpcyBmdW5jdGlvbiBpdGVyYXRlcyB0d2ljZSBvdmVyIHRoZSBjb21wbGV0ZSBZVGV4dCB0eXBlXG4gKiBhbmQgcmVtb3ZlcyB1bm5lY2Vzc2FyeSBmb3JtYXR0aW5nIGF0dHJpYnV0ZXMuIFRoaXMgaXMgYWxzbyBoZWxwZnVsIGZvciB0ZXN0aW5nLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gd29uJ3QgYmUgZXhwb3J0ZWQgYW55bW9yZSBhcyBzb29uIGFzIHRoZXJlIGlzIGNvbmZpZGVuY2UgdGhhdCB0aGUgWVRleHQgdHlwZSB3b3JrcyBhcyBpbnRlbmRlZC5cbiAqXG4gKiBAcGFyYW0ge1lUZXh0fSB0eXBlXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEhvdyBtYW55IGZvcm1hdHRpbmcgYXR0cmlidXRlcyBoYXZlIGJlZW4gY2xlYW5lZCB1cC5cbiAqL1xuY29uc3QgY2xlYW51cFlUZXh0Rm9ybWF0dGluZyA9IHR5cGUgPT4ge1xuICBsZXQgcmVzID0gMDtcbiAgdHJhbnNhY3QoLyoqIEB0eXBlIHtEb2N9ICovICh0eXBlLmRvYyksIHRyYW5zYWN0aW9uID0+IHtcbiAgICBsZXQgc3RhcnQgPSAvKiogQHR5cGUge0l0ZW19ICovICh0eXBlLl9zdGFydCk7XG4gICAgbGV0IGVuZCA9IHR5cGUuX3N0YXJ0O1xuICAgIGxldCBzdGFydEF0dHJpYnV0ZXMgPSBtYXAuY3JlYXRlKCk7XG4gICAgY29uc3QgY3VycmVudEF0dHJpYnV0ZXMgPSBtYXAuY29weShzdGFydEF0dHJpYnV0ZXMpO1xuICAgIHdoaWxlIChlbmQpIHtcbiAgICAgIGlmIChlbmQuZGVsZXRlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgc3dpdGNoIChlbmQuY29udGVudC5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgIGNhc2UgQ29udGVudEZvcm1hdDpcbiAgICAgICAgICAgIHVwZGF0ZUN1cnJlbnRBdHRyaWJ1dGVzKGN1cnJlbnRBdHRyaWJ1dGVzLCAvKiogQHR5cGUge0NvbnRlbnRGb3JtYXR9ICovIChlbmQuY29udGVudCkpO1xuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmVzICs9IGNsZWFudXBGb3JtYXR0aW5nR2FwKHRyYW5zYWN0aW9uLCBzdGFydCwgZW5kLCBzdGFydEF0dHJpYnV0ZXMsIGN1cnJlbnRBdHRyaWJ1dGVzKTtcbiAgICAgICAgICAgIHN0YXJ0QXR0cmlidXRlcyA9IG1hcC5jb3B5KGN1cnJlbnRBdHRyaWJ1dGVzKTtcbiAgICAgICAgICAgIHN0YXJ0ID0gZW5kO1xuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZW5kID0gZW5kLnJpZ2h0O1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXNcbn07XG5cbi8qKlxuICogQHBhcmFtIHtUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAqIEBwYXJhbSB7SXRlbVRleHRMaXN0UG9zaXRpb259IGN1cnJQb3NcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGhcbiAqIEByZXR1cm4ge0l0ZW1UZXh0TGlzdFBvc2l0aW9ufVxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgZGVsZXRlVGV4dCA9ICh0cmFuc2FjdGlvbiwgY3VyclBvcywgbGVuZ3RoKSA9PiB7XG4gIGNvbnN0IHN0YXJ0TGVuZ3RoID0gbGVuZ3RoO1xuICBjb25zdCBzdGFydEF0dHJzID0gbWFwLmNvcHkoY3VyclBvcy5jdXJyZW50QXR0cmlidXRlcyk7XG4gIGNvbnN0IHN0YXJ0ID0gY3VyclBvcy5yaWdodDtcbiAgd2hpbGUgKGxlbmd0aCA+IDAgJiYgY3VyclBvcy5yaWdodCAhPT0gbnVsbCkge1xuICAgIGlmIChjdXJyUG9zLnJpZ2h0LmRlbGV0ZWQgPT09IGZhbHNlKSB7XG4gICAgICBzd2l0Y2ggKGN1cnJQb3MucmlnaHQuY29udGVudC5jb25zdHJ1Y3Rvcikge1xuICAgICAgICBjYXNlIENvbnRlbnRUeXBlOlxuICAgICAgICBjYXNlIENvbnRlbnRFbWJlZDpcbiAgICAgICAgY2FzZSBDb250ZW50U3RyaW5nOlxuICAgICAgICAgIGlmIChsZW5ndGggPCBjdXJyUG9zLnJpZ2h0Lmxlbmd0aCkge1xuICAgICAgICAgICAgZ2V0SXRlbUNsZWFuU3RhcnQodHJhbnNhY3Rpb24sIGNyZWF0ZUlEKGN1cnJQb3MucmlnaHQuaWQuY2xpZW50LCBjdXJyUG9zLnJpZ2h0LmlkLmNsb2NrICsgbGVuZ3RoKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxlbmd0aCAtPSBjdXJyUG9zLnJpZ2h0Lmxlbmd0aDtcbiAgICAgICAgICBjdXJyUG9zLnJpZ2h0LmRlbGV0ZSh0cmFuc2FjdGlvbik7XG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gICAgY3VyclBvcy5mb3J3YXJkKCk7XG4gIH1cbiAgaWYgKHN0YXJ0KSB7XG4gICAgY2xlYW51cEZvcm1hdHRpbmdHYXAodHJhbnNhY3Rpb24sIHN0YXJ0LCBjdXJyUG9zLnJpZ2h0LCBzdGFydEF0dHJzLCBjdXJyUG9zLmN1cnJlbnRBdHRyaWJ1dGVzKTtcbiAgfVxuICBjb25zdCBwYXJlbnQgPSAvKiogQHR5cGUge0Fic3RyYWN0VHlwZTxhbnk+fSAqLyAoLyoqIEB0eXBlIHtJdGVtfSAqLyAoY3VyclBvcy5sZWZ0IHx8IGN1cnJQb3MucmlnaHQpLnBhcmVudCk7XG4gIGlmIChwYXJlbnQuX3NlYXJjaE1hcmtlcikge1xuICAgIHVwZGF0ZU1hcmtlckNoYW5nZXMocGFyZW50Ll9zZWFyY2hNYXJrZXIsIGN1cnJQb3MuaW5kZXgsIC1zdGFydExlbmd0aCArIGxlbmd0aCk7XG4gIH1cbiAgcmV0dXJuIGN1cnJQb3Ncbn07XG5cbi8qKlxuICogVGhlIFF1aWxsIERlbHRhIGZvcm1hdCByZXByZXNlbnRzIGNoYW5nZXMgb24gYSB0ZXh0IGRvY3VtZW50IHdpdGhcbiAqIGZvcm1hdHRpbmcgaW5mb3JtYXRpb24uIEZvciBtb3IgaW5mb3JtYXRpb24gdmlzaXQge0BsaW5rIGh0dHBzOi8vcXVpbGxqcy5jb20vZG9jcy9kZWx0YS98UXVpbGwgRGVsdGF9XG4gKlxuICogQGV4YW1wbGVcbiAqICAge1xuICogICAgIG9wczogW1xuICogICAgICAgeyBpbnNlcnQ6ICdHYW5kYWxmJywgYXR0cmlidXRlczogeyBib2xkOiB0cnVlIH0gfSxcbiAqICAgICAgIHsgaW5zZXJ0OiAnIHRoZSAnIH0sXG4gKiAgICAgICB7IGluc2VydDogJ0dyZXknLCBhdHRyaWJ1dGVzOiB7IGNvbG9yOiAnI2NjY2NjYycgfSB9XG4gKiAgICAgXVxuICogICB9XG4gKlxuICovXG5cbi8qKlxuICAqIEF0dHJpYnV0ZXMgdGhhdCBjYW4gYmUgYXNzaWduZWQgdG8gYSBzZWxlY3Rpb24gb2YgdGV4dC5cbiAgKlxuICAqIEBleGFtcGxlXG4gICogICB7XG4gICogICAgIGJvbGQ6IHRydWUsXG4gICogICAgIGZvbnQtc2l6ZTogJzQwcHgnXG4gICogICB9XG4gICpcbiAgKiBAdHlwZWRlZiB7T2JqZWN0fSBUZXh0QXR0cmlidXRlc1xuICAqL1xuXG4vKipcbiAqIEBleHRlbmRzIFlFdmVudDxZVGV4dD5cbiAqIEV2ZW50IHRoYXQgZGVzY3JpYmVzIHRoZSBjaGFuZ2VzIG9uIGEgWVRleHQgdHlwZS5cbiAqL1xuY2xhc3MgWVRleHRFdmVudCBleHRlbmRzIFlFdmVudCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1lUZXh0fSB5dGV4dFxuICAgKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKiBAcGFyYW0ge1NldDxhbnk+fSBzdWJzIFRoZSBrZXlzIHRoYXQgY2hhbmdlZFxuICAgKi9cbiAgY29uc3RydWN0b3IgKHl0ZXh0LCB0cmFuc2FjdGlvbiwgc3Vicykge1xuICAgIHN1cGVyKHl0ZXh0LCB0cmFuc2FjdGlvbik7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgY2hpbGRyZW4gY2hhbmdlZC5cbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuY2hpbGRMaXN0Q2hhbmdlZCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFNldCBvZiBhbGwgY2hhbmdlZCBhdHRyaWJ1dGVzLlxuICAgICAqIEB0eXBlIHtTZXQ8c3RyaW5nPn1cbiAgICAgKi9cbiAgICB0aGlzLmtleXNDaGFuZ2VkID0gbmV3IFNldCgpO1xuICAgIHN1YnMuZm9yRWFjaCgoc3ViKSA9PiB7XG4gICAgICBpZiAoc3ViID09PSBudWxsKSB7XG4gICAgICAgIHRoaXMuY2hpbGRMaXN0Q2hhbmdlZCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmtleXNDaGFuZ2VkLmFkZChzdWIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEB0eXBlIHt7YWRkZWQ6U2V0PEl0ZW0+LGRlbGV0ZWQ6U2V0PEl0ZW0+LGtleXM6TWFwPHN0cmluZyx7YWN0aW9uOidhZGQnfCd1cGRhdGUnfCdkZWxldGUnLG9sZFZhbHVlOmFueX0+LGRlbHRhOkFycmF5PHtpbnNlcnQ/OkFycmF5PGFueT58c3RyaW5nLCBkZWxldGU/Om51bWJlciwgcmV0YWluPzpudW1iZXJ9Pn19XG4gICAqL1xuICBnZXQgY2hhbmdlcyAoKSB7XG4gICAgaWYgKHRoaXMuX2NoYW5nZXMgPT09IG51bGwpIHtcbiAgICAgIC8qKlxuICAgICAgICogQHR5cGUge3thZGRlZDpTZXQ8SXRlbT4sZGVsZXRlZDpTZXQ8SXRlbT4sa2V5czpNYXA8c3RyaW5nLHthY3Rpb246J2FkZCd8J3VwZGF0ZSd8J2RlbGV0ZScsb2xkVmFsdWU6YW55fT4sZGVsdGE6QXJyYXk8e2luc2VydD86QXJyYXk8YW55PnxzdHJpbmd8QWJzdHJhY3RUeXBlPGFueT58b2JqZWN0LCBkZWxldGU/Om51bWJlciwgcmV0YWluPzpudW1iZXJ9Pn19XG4gICAgICAgKi9cbiAgICAgIGNvbnN0IGNoYW5nZXMgPSB7XG4gICAgICAgIGtleXM6IHRoaXMua2V5cyxcbiAgICAgICAgZGVsdGE6IHRoaXMuZGVsdGEsXG4gICAgICAgIGFkZGVkOiBuZXcgU2V0KCksXG4gICAgICAgIGRlbGV0ZWQ6IG5ldyBTZXQoKVxuICAgICAgfTtcbiAgICAgIHRoaXMuX2NoYW5nZXMgPSBjaGFuZ2VzO1xuICAgIH1cbiAgICByZXR1cm4gLyoqIEB0eXBlIHthbnl9ICovICh0aGlzLl9jaGFuZ2VzKVxuICB9XG5cbiAgLyoqXG4gICAqIENvbXB1dGUgdGhlIGNoYW5nZXMgaW4gdGhlIGRlbHRhIGZvcm1hdC5cbiAgICogQSB7QGxpbmsgaHR0cHM6Ly9xdWlsbGpzLmNvbS9kb2NzL2RlbHRhL3xRdWlsbCBEZWx0YX0pIHRoYXQgcmVwcmVzZW50cyB0aGUgY2hhbmdlcyBvbiB0aGUgZG9jdW1lbnQuXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTx7aW5zZXJ0PzpzdHJpbmd8b2JqZWN0fEFic3RyYWN0VHlwZTxhbnk+LCBkZWxldGU/Om51bWJlciwgcmV0YWluPzpudW1iZXIsIGF0dHJpYnV0ZXM/OiBPYmplY3Q8c3RyaW5nLGFueT59Pn1cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgZ2V0IGRlbHRhICgpIHtcbiAgICBpZiAodGhpcy5fZGVsdGEgPT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHkgPSAvKiogQHR5cGUge0RvY30gKi8gKHRoaXMudGFyZ2V0LmRvYyk7XG4gICAgICAvKipcbiAgICAgICAqIEB0eXBlIHtBcnJheTx7aW5zZXJ0PzpzdHJpbmd8b2JqZWN0fEFic3RyYWN0VHlwZTxhbnk+LCBkZWxldGU/Om51bWJlciwgcmV0YWluPzpudW1iZXIsIGF0dHJpYnV0ZXM/OiBPYmplY3Q8c3RyaW5nLGFueT59Pn1cbiAgICAgICAqL1xuICAgICAgY29uc3QgZGVsdGEgPSBbXTtcbiAgICAgIHRyYW5zYWN0KHksIHRyYW5zYWN0aW9uID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudEF0dHJpYnV0ZXMgPSBuZXcgTWFwKCk7IC8vIHNhdmVzIGFsbCBjdXJyZW50IGF0dHJpYnV0ZXMgZm9yIGluc2VydFxuICAgICAgICBjb25zdCBvbGRBdHRyaWJ1dGVzID0gbmV3IE1hcCgpO1xuICAgICAgICBsZXQgaXRlbSA9IHRoaXMudGFyZ2V0Ll9zdGFydDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmc/fVxuICAgICAgICAgKi9cbiAgICAgICAgbGV0IGFjdGlvbiA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZyxhbnk+fVxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IHt9OyAvLyBjb3VudHMgYWRkZWQgb3IgcmVtb3ZlZCBuZXcgYXR0cmlidXRlcyBmb3IgcmV0YWluXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfG9iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIGxldCBpbnNlcnQgPSAnJztcbiAgICAgICAgbGV0IHJldGFpbiA9IDA7XG4gICAgICAgIGxldCBkZWxldGVMZW4gPSAwO1xuICAgICAgICBjb25zdCBhZGRPcCA9ICgpID0+IHtcbiAgICAgICAgICBpZiAoYWN0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEB0eXBlIHthbnl9XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGxldCBvcDtcbiAgICAgICAgICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICAgICAgICAgIGNhc2UgJ2RlbGV0ZSc6XG4gICAgICAgICAgICAgICAgb3AgPSB7IGRlbGV0ZTogZGVsZXRlTGVuIH07XG4gICAgICAgICAgICAgICAgZGVsZXRlTGVuID0gMDtcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICBjYXNlICdpbnNlcnQnOlxuICAgICAgICAgICAgICAgIG9wID0geyBpbnNlcnQgfTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEF0dHJpYnV0ZXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgIG9wLmF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRBdHRyaWJ1dGVzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgb3AuYXR0cmlidXRlc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbnNlcnQgPSAnJztcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICBjYXNlICdyZXRhaW4nOlxuICAgICAgICAgICAgICAgIG9wID0geyByZXRhaW4gfTtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoYXR0cmlidXRlcykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgb3AuYXR0cmlidXRlcyA9IHt9O1xuICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgICAgICBvcC5hdHRyaWJ1dGVzW2tleV0gPSBhdHRyaWJ1dGVzW2tleV07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldGFpbiA9IDA7XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbHRhLnB1c2gob3ApO1xuICAgICAgICAgICAgYWN0aW9uID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHdoaWxlIChpdGVtICE9PSBudWxsKSB7XG4gICAgICAgICAgc3dpdGNoIChpdGVtLmNvbnRlbnQuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgIGNhc2UgQ29udGVudFR5cGU6XG4gICAgICAgICAgICBjYXNlIENvbnRlbnRFbWJlZDpcbiAgICAgICAgICAgICAgaWYgKHRoaXMuYWRkcyhpdGVtKSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5kZWxldGVzKGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICBhZGRPcCgpO1xuICAgICAgICAgICAgICAgICAgYWN0aW9uID0gJ2luc2VydCc7XG4gICAgICAgICAgICAgICAgICBpbnNlcnQgPSBpdGVtLmNvbnRlbnQuZ2V0Q29udGVudCgpWzBdO1xuICAgICAgICAgICAgICAgICAgYWRkT3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5kZWxldGVzKGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbiAhPT0gJ2RlbGV0ZScpIHtcbiAgICAgICAgICAgICAgICAgIGFkZE9wKCk7XG4gICAgICAgICAgICAgICAgICBhY3Rpb24gPSAnZGVsZXRlJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVsZXRlTGVuICs9IDE7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWl0ZW0uZGVsZXRlZCkge1xuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24gIT09ICdyZXRhaW4nKSB7XG4gICAgICAgICAgICAgICAgICBhZGRPcCgpO1xuICAgICAgICAgICAgICAgICAgYWN0aW9uID0gJ3JldGFpbic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldGFpbiArPSAxO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlIENvbnRlbnRTdHJpbmc6XG4gICAgICAgICAgICAgIGlmICh0aGlzLmFkZHMoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZGVsZXRlcyhpdGVtKSkge1xuICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbiAhPT0gJ2luc2VydCcpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkT3AoKTtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uID0gJ2luc2VydCc7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpbnNlcnQgKz0gLyoqIEB0eXBlIHtDb250ZW50U3RyaW5nfSAqLyAoaXRlbS5jb250ZW50KS5zdHI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGVsZXRlcyhpdGVtKSkge1xuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24gIT09ICdkZWxldGUnKSB7XG4gICAgICAgICAgICAgICAgICBhZGRPcCgpO1xuICAgICAgICAgICAgICAgICAgYWN0aW9uID0gJ2RlbGV0ZSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlbGV0ZUxlbiArPSBpdGVtLmxlbmd0aDtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICghaXRlbS5kZWxldGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbiAhPT0gJ3JldGFpbicpIHtcbiAgICAgICAgICAgICAgICAgIGFkZE9wKCk7XG4gICAgICAgICAgICAgICAgICBhY3Rpb24gPSAncmV0YWluJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0YWluICs9IGl0ZW0ubGVuZ3RoO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlIENvbnRlbnRGb3JtYXQ6IHtcbiAgICAgICAgICAgICAgY29uc3QgeyBrZXksIHZhbHVlIH0gPSAvKiogQHR5cGUge0NvbnRlbnRGb3JtYXR9ICovIChpdGVtLmNvbnRlbnQpO1xuICAgICAgICAgICAgICBpZiAodGhpcy5hZGRzKGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmRlbGV0ZXMoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGN1clZhbCA9IGN1cnJlbnRBdHRyaWJ1dGVzLmdldChrZXkpIHx8IG51bGw7XG4gICAgICAgICAgICAgICAgICBpZiAoIWVxdWFsQXR0cnMoY3VyVmFsLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gJ3JldGFpbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhZGRPcCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcXVhbEF0dHJzKHZhbHVlLCAob2xkQXR0cmlidXRlcy5nZXQoa2V5KSB8fCBudWxsKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXR0cmlidXRlc1trZXldO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZGVsZXRlKHRyYW5zYWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5kZWxldGVzKGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgb2xkQXR0cmlidXRlcy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VyVmFsID0gY3VycmVudEF0dHJpYnV0ZXMuZ2V0KGtleSkgfHwgbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoIWVxdWFsQXR0cnMoY3VyVmFsLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb24gPT09ICdyZXRhaW4nKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZE9wKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzW2tleV0gPSBjdXJWYWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFpdGVtLmRlbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICBvbGRBdHRyaWJ1dGVzLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRyID0gYXR0cmlidXRlc1trZXldO1xuICAgICAgICAgICAgICAgIGlmIChhdHRyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgIGlmICghZXF1YWxBdHRycyhhdHRyLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gJ3JldGFpbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhZGRPcCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdHRyaWJ1dGVzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXR0ciAhPT0gbnVsbCkgeyAvLyB0aGlzIHdpbGwgYmUgY2xlYW5lZCB1cCBhdXRvbWF0aWNhbGx5IGJ5IHRoZSBjb250ZXh0bGVzcyBjbGVhbnVwIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZGVsZXRlKHRyYW5zYWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKCFpdGVtLmRlbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uID09PSAnaW5zZXJ0Jykge1xuICAgICAgICAgICAgICAgICAgYWRkT3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdXBkYXRlQ3VycmVudEF0dHJpYnV0ZXMoY3VycmVudEF0dHJpYnV0ZXMsIC8qKiBAdHlwZSB7Q29udGVudEZvcm1hdH0gKi8gKGl0ZW0uY29udGVudCkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGl0ZW0gPSBpdGVtLnJpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGFkZE9wKCk7XG4gICAgICAgIHdoaWxlIChkZWx0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgbGFzdE9wID0gZGVsdGFbZGVsdGEubGVuZ3RoIC0gMV07XG4gICAgICAgICAgaWYgKGxhc3RPcC5yZXRhaW4gIT09IHVuZGVmaW5lZCAmJiBsYXN0T3AuYXR0cmlidXRlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyByZXRhaW4gZGVsdGEncyBpZiB0aGV5IGRvbid0IGFzc2lnbiBhdHRyaWJ1dGVzXG4gICAgICAgICAgICBkZWx0YS5wb3AoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5fZGVsdGEgPSBkZWx0YTtcbiAgICB9XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7YW55fSAqLyAodGhpcy5fZGVsdGEpXG4gIH1cbn1cblxuLyoqXG4gKiBUeXBlIHRoYXQgcmVwcmVzZW50cyB0ZXh0IHdpdGggZm9ybWF0dGluZyBpbmZvcm1hdGlvbi5cbiAqXG4gKiBUaGlzIHR5cGUgcmVwbGFjZXMgeS1yaWNodGV4dCBhcyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIGFibGUgdG8gaGFuZGxlXG4gKiBibG9jayBmb3JtYXRzIChmb3JtYXQgaW5mb3JtYXRpb24gb24gYSBwYXJhZ3JhcGgpLCBlbWJlZHMgKGNvbXBsZXggZWxlbWVudHNcbiAqIGxpa2UgcGljdHVyZXMgYW5kIHZpZGVvcyksIGFuZCB0ZXh0IGZvcm1hdHMgKCoqYm9sZCoqLCAqaXRhbGljKikuXG4gKlxuICogQGV4dGVuZHMgQWJzdHJhY3RUeXBlPFlUZXh0RXZlbnQ+XG4gKi9cbmNsYXNzIFlUZXh0IGV4dGVuZHMgQWJzdHJhY3RUeXBlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbc3RyaW5nXSBUaGUgaW5pdGlhbCB2YWx1ZSBvZiB0aGUgWVRleHQuXG4gICAqL1xuICBjb25zdHJ1Y3RvciAoc3RyaW5nKSB7XG4gICAgc3VwZXIoKTtcbiAgICAvKipcbiAgICAgKiBBcnJheSBvZiBwZW5kaW5nIG9wZXJhdGlvbnMgb24gdGhpcyB0eXBlXG4gICAgICogQHR5cGUge0FycmF5PGZ1bmN0aW9uKCk6dm9pZD4/fVxuICAgICAqL1xuICAgIHRoaXMuX3BlbmRpbmcgPSBzdHJpbmcgIT09IHVuZGVmaW5lZCA/IFsoKSA9PiB0aGlzLmluc2VydCgwLCBzdHJpbmcpXSA6IFtdO1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheTxBcnJheVNlYXJjaE1hcmtlcj59XG4gICAgICovXG4gICAgdGhpcy5fc2VhcmNoTWFya2VyID0gW107XG4gIH1cblxuICAvKipcbiAgICogTnVtYmVyIG9mIGNoYXJhY3RlcnMgb2YgdGhpcyB0ZXh0IHR5cGUuXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICBnZXQgbGVuZ3RoICgpIHtcbiAgICByZXR1cm4gdGhpcy5fbGVuZ3RoXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtEb2N9IHlcbiAgICogQHBhcmFtIHtJdGVtfSBpdGVtXG4gICAqL1xuICBfaW50ZWdyYXRlICh5LCBpdGVtKSB7XG4gICAgc3VwZXIuX2ludGVncmF0ZSh5LCBpdGVtKTtcbiAgICB0cnkge1xuICAgICAgLyoqIEB0eXBlIHtBcnJheTxmdW5jdGlvbj59ICovICh0aGlzLl9wZW5kaW5nKS5mb3JFYWNoKGYgPT4gZigpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIH1cbiAgICB0aGlzLl9wZW5kaW5nID0gbnVsbDtcbiAgfVxuXG4gIF9jb3B5ICgpIHtcbiAgICByZXR1cm4gbmV3IFlUZXh0KClcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtZVGV4dH1cbiAgICovXG4gIGNsb25lICgpIHtcbiAgICBjb25zdCB0ZXh0ID0gbmV3IFlUZXh0KCk7XG4gICAgdGV4dC5hcHBseURlbHRhKHRoaXMudG9EZWx0YSgpKTtcbiAgICByZXR1cm4gdGV4dFxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgWVRleHRFdmVudCBhbmQgY2FsbHMgb2JzZXJ2ZXJzLlxuICAgKlxuICAgKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKiBAcGFyYW0ge1NldDxudWxsfHN0cmluZz59IHBhcmVudFN1YnMgS2V5cyBjaGFuZ2VkIG9uIHRoaXMgdHlwZS4gYG51bGxgIGlmIGxpc3Qgd2FzIG1vZGlmaWVkLlxuICAgKi9cbiAgX2NhbGxPYnNlcnZlciAodHJhbnNhY3Rpb24sIHBhcmVudFN1YnMpIHtcbiAgICBzdXBlci5fY2FsbE9ic2VydmVyKHRyYW5zYWN0aW9uLCBwYXJlbnRTdWJzKTtcbiAgICBjb25zdCBldmVudCA9IG5ldyBZVGV4dEV2ZW50KHRoaXMsIHRyYW5zYWN0aW9uLCBwYXJlbnRTdWJzKTtcbiAgICBjb25zdCBkb2MgPSB0cmFuc2FjdGlvbi5kb2M7XG4gICAgY2FsbFR5cGVPYnNlcnZlcnModGhpcywgdHJhbnNhY3Rpb24sIGV2ZW50KTtcbiAgICAvLyBJZiBhIHJlbW90ZSBjaGFuZ2UgaGFwcGVuZWQsIHdlIHRyeSB0byBjbGVhbnVwIHBvdGVudGlhbCBmb3JtYXR0aW5nIGR1cGxpY2F0ZXMuXG4gICAgaWYgKCF0cmFuc2FjdGlvbi5sb2NhbCkge1xuICAgICAgLy8gY2hlY2sgaWYgYW5vdGhlciBmb3JtYXR0aW5nIGl0ZW0gd2FzIGluc2VydGVkXG4gICAgICBsZXQgZm91bmRGb3JtYXR0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgZm9yIChjb25zdCBbY2xpZW50LCBhZnRlckNsb2NrXSBvZiB0cmFuc2FjdGlvbi5hZnRlclN0YXRlLmVudHJpZXMoKSkge1xuICAgICAgICBjb25zdCBjbG9jayA9IHRyYW5zYWN0aW9uLmJlZm9yZVN0YXRlLmdldChjbGllbnQpIHx8IDA7XG4gICAgICAgIGlmIChhZnRlckNsb2NrID09PSBjbG9jaykge1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgICAgaXRlcmF0ZVN0cnVjdHModHJhbnNhY3Rpb24sIC8qKiBAdHlwZSB7QXJyYXk8SXRlbXxHQz59ICovIChkb2Muc3RvcmUuY2xpZW50cy5nZXQoY2xpZW50KSksIGNsb2NrLCBhZnRlckNsb2NrLCBpdGVtID0+IHtcbiAgICAgICAgICBpZiAoIWl0ZW0uZGVsZXRlZCAmJiAvKiogQHR5cGUge0l0ZW19ICovIChpdGVtKS5jb250ZW50LmNvbnN0cnVjdG9yID09PSBDb250ZW50Rm9ybWF0KSB7XG4gICAgICAgICAgICBmb3VuZEZvcm1hdHRpbmdJdGVtID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZm91bmRGb3JtYXR0aW5nSXRlbSkge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghZm91bmRGb3JtYXR0aW5nSXRlbSkge1xuICAgICAgICBpdGVyYXRlRGVsZXRlZFN0cnVjdHModHJhbnNhY3Rpb24sIHRyYW5zYWN0aW9uLmRlbGV0ZVNldCwgaXRlbSA9PiB7XG4gICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBHQyB8fCBmb3VuZEZvcm1hdHRpbmdJdGVtKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGl0ZW0ucGFyZW50ID09PSB0aGlzICYmIGl0ZW0uY29udGVudC5jb25zdHJ1Y3RvciA9PT0gQ29udGVudEZvcm1hdCkge1xuICAgICAgICAgICAgZm91bmRGb3JtYXR0aW5nSXRlbSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRyYW5zYWN0KGRvYywgKHQpID0+IHtcbiAgICAgICAgaWYgKGZvdW5kRm9ybWF0dGluZ0l0ZW0pIHtcbiAgICAgICAgICAvLyBJZiBhIGZvcm1hdHRpbmcgaXRlbSB3YXMgaW5zZXJ0ZWQsIHdlIHNpbXBseSBjbGVhbiB0aGUgd2hvbGUgdHlwZS5cbiAgICAgICAgICAvLyBXZSBuZWVkIHRvIGNvbXB1dGUgY3VycmVudEF0dHJpYnV0ZXMgZm9yIHRoZSBjdXJyZW50IHBvc2l0aW9uIGFueXdheS5cbiAgICAgICAgICBjbGVhbnVwWVRleHRGb3JtYXR0aW5nKHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIElmIG5vIGZvcm1hdHRpbmcgYXR0cmlidXRlIHdhcyBpbnNlcnRlZCwgd2UgY2FuIG1ha2UgZHVlIHdpdGggY29udGV4dGxlc3NcbiAgICAgICAgICAvLyBmb3JtYXR0aW5nIGNsZWFudXBzLlxuICAgICAgICAgIC8vIENvbnRleHRsZXNzOiBpdCBpcyBub3QgbmVjZXNzYXJ5IHRvIGNvbXB1dGUgY3VycmVudEF0dHJpYnV0ZXMgZm9yIHRoZSBhZmZlY3RlZCBwb3NpdGlvbi5cbiAgICAgICAgICBpdGVyYXRlRGVsZXRlZFN0cnVjdHModCwgdC5kZWxldGVTZXQsIGl0ZW0gPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBHQykge1xuICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpdGVtLnBhcmVudCA9PT0gdGhpcykge1xuICAgICAgICAgICAgICBjbGVhbnVwQ29udGV4dGxlc3NGb3JtYXR0aW5nR2FwKHQsIGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgdW5mb3JtYXR0ZWQgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgWVRleHQgdHlwZS5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgdG9TdHJpbmcgKCkge1xuICAgIGxldCBzdHIgPSAnJztcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7SXRlbXxudWxsfVxuICAgICAqL1xuICAgIGxldCBuID0gdGhpcy5fc3RhcnQ7XG4gICAgd2hpbGUgKG4gIT09IG51bGwpIHtcbiAgICAgIGlmICghbi5kZWxldGVkICYmIG4uY291bnRhYmxlICYmIG4uY29udGVudC5jb25zdHJ1Y3RvciA9PT0gQ29udGVudFN0cmluZykge1xuICAgICAgICBzdHIgKz0gLyoqIEB0eXBlIHtDb250ZW50U3RyaW5nfSAqLyAobi5jb250ZW50KS5zdHI7XG4gICAgICB9XG4gICAgICBuID0gbi5yaWdodDtcbiAgICB9XG4gICAgcmV0dXJuIHN0clxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHVuZm9ybWF0dGVkIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIFlUZXh0IHR5cGUuXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgdG9KU09OICgpIHtcbiAgICByZXR1cm4gdGhpcy50b1N0cmluZygpXG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgYSB7QGxpbmsgRGVsdGF9IG9uIHRoaXMgc2hhcmVkIFlUZXh0IHR5cGUuXG4gICAqXG4gICAqIEBwYXJhbSB7YW55fSBkZWx0YSBUaGUgY2hhbmdlcyB0byBhcHBseSBvbiB0aGlzIGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSAgW29wdHNdXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuc2FuaXRpemVdIFNhbml0aXplIGlucHV0IGRlbHRhLiBSZW1vdmVzIGVuZGluZyBuZXdsaW5lcyBpZiBzZXQgdG8gdHJ1ZS5cbiAgICpcbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgYXBwbHlEZWx0YSAoZGVsdGEsIHsgc2FuaXRpemUgPSB0cnVlIH0gPSB7fSkge1xuICAgIGlmICh0aGlzLmRvYyAhPT0gbnVsbCkge1xuICAgICAgdHJhbnNhY3QodGhpcy5kb2MsIHRyYW5zYWN0aW9uID0+IHtcbiAgICAgICAgY29uc3QgY3VyclBvcyA9IG5ldyBJdGVtVGV4dExpc3RQb3NpdGlvbihudWxsLCB0aGlzLl9zdGFydCwgMCwgbmV3IE1hcCgpKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWx0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IG9wID0gZGVsdGFbaV07XG4gICAgICAgICAgaWYgKG9wLmluc2VydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBRdWlsbCBhc3N1bWVzIHRoYXQgdGhlIGNvbnRlbnQgc3RhcnRzIHdpdGggYW4gZW1wdHkgcGFyYWdyYXBoLlxuICAgICAgICAgICAgLy8gWWpzL1kuVGV4dCBhc3N1bWVzIHRoYXQgaXQgc3RhcnRzIGVtcHR5LiBXZSBhbHdheXMgaGlkZSB0aGF0XG4gICAgICAgICAgICAvLyB0aGVyZSBpcyBhIG5ld2xpbmUgYXQgdGhlIGVuZCBvZiB0aGUgY29udGVudC5cbiAgICAgICAgICAgIC8vIElmIHdlIG9taXQgdGhpcyBzdGVwLCBjbGllbnRzIHdpbGwgc2VlIGEgZGlmZmVyZW50IG51bWJlciBvZlxuICAgICAgICAgICAgLy8gcGFyYWdyYXBocywgYnV0IG5vdGhpbmcgYmFkIHdpbGwgaGFwcGVuLlxuICAgICAgICAgICAgY29uc3QgaW5zID0gKCFzYW5pdGl6ZSAmJiB0eXBlb2Ygb3AuaW5zZXJ0ID09PSAnc3RyaW5nJyAmJiBpID09PSBkZWx0YS5sZW5ndGggLSAxICYmIGN1cnJQb3MucmlnaHQgPT09IG51bGwgJiYgb3AuaW5zZXJ0LnNsaWNlKC0xKSA9PT0gJ1xcbicpID8gb3AuaW5zZXJ0LnNsaWNlKDAsIC0xKSA6IG9wLmluc2VydDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW5zICE9PSAnc3RyaW5nJyB8fCBpbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBpbnNlcnRUZXh0KHRyYW5zYWN0aW9uLCB0aGlzLCBjdXJyUG9zLCBpbnMsIG9wLmF0dHJpYnV0ZXMgfHwge30pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAob3AucmV0YWluICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZvcm1hdFRleHQodHJhbnNhY3Rpb24sIHRoaXMsIGN1cnJQb3MsIG9wLnJldGFpbiwgb3AuYXR0cmlidXRlcyB8fCB7fSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChvcC5kZWxldGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGVsZXRlVGV4dCh0cmFuc2FjdGlvbiwgY3VyclBvcywgb3AuZGVsZXRlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiogQHR5cGUge0FycmF5PGZ1bmN0aW9uPn0gKi8gKHRoaXMuX3BlbmRpbmcpLnB1c2goKCkgPT4gdGhpcy5hcHBseURlbHRhKGRlbHRhKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIERlbHRhIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgWVRleHQgdHlwZS5cbiAgICpcbiAgICogQHBhcmFtIHtTbmFwc2hvdH0gW3NuYXBzaG90XVxuICAgKiBAcGFyYW0ge1NuYXBzaG90fSBbcHJldlNuYXBzaG90XVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCdyZW1vdmVkJyB8ICdhZGRlZCcsIElEKTphbnl9IFtjb21wdXRlWUNoYW5nZV1cbiAgICogQHJldHVybiB7YW55fSBUaGUgRGVsdGEgcmVwcmVzZW50YXRpb24gb2YgdGhpcyB0eXBlLlxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICB0b0RlbHRhIChzbmFwc2hvdCwgcHJldlNuYXBzaG90LCBjb21wdXRlWUNoYW5nZSkge1xuICAgIC8qKlxuICAgICAqIEB0eXBle0FycmF5PGFueT59XG4gICAgICovXG4gICAgY29uc3Qgb3BzID0gW107XG4gICAgY29uc3QgY3VycmVudEF0dHJpYnV0ZXMgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgZG9jID0gLyoqIEB0eXBlIHtEb2N9ICovICh0aGlzLmRvYyk7XG4gICAgbGV0IHN0ciA9ICcnO1xuICAgIGxldCBuID0gdGhpcy5fc3RhcnQ7XG4gICAgZnVuY3Rpb24gcGFja1N0ciAoKSB7XG4gICAgICBpZiAoc3RyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gcGFjayBzdHIgd2l0aCBhdHRyaWJ1dGVzIHRvIG9wc1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsYW55Pn1cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgbGV0IGFkZEF0dHJpYnV0ZXMgPSBmYWxzZTtcbiAgICAgICAgY3VycmVudEF0dHJpYnV0ZXMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgIGFkZEF0dHJpYnV0ZXMgPSB0cnVlO1xuICAgICAgICAgIGF0dHJpYnV0ZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLGFueT59XG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBvcCA9IHsgaW5zZXJ0OiBzdHIgfTtcbiAgICAgICAgaWYgKGFkZEF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICBvcC5hdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcbiAgICAgICAgfVxuICAgICAgICBvcHMucHVzaChvcCk7XG4gICAgICAgIHN0ciA9ICcnO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBzbmFwc2hvdHMgYXJlIG1lcmdlZCBhZ2FpbiBhZnRlciB0aGUgdHJhbnNhY3Rpb24sIHNvIHdlIG5lZWQgdG8ga2VlcCB0aGVcbiAgICAvLyB0cmFuc2FsaXZlIHVudGlsIHdlIGFyZSBkb25lXG4gICAgdHJhbnNhY3QoZG9jLCB0cmFuc2FjdGlvbiA9PiB7XG4gICAgICBpZiAoc25hcHNob3QpIHtcbiAgICAgICAgc3BsaXRTbmFwc2hvdEFmZmVjdGVkU3RydWN0cyh0cmFuc2FjdGlvbiwgc25hcHNob3QpO1xuICAgICAgfVxuICAgICAgaWYgKHByZXZTbmFwc2hvdCkge1xuICAgICAgICBzcGxpdFNuYXBzaG90QWZmZWN0ZWRTdHJ1Y3RzKHRyYW5zYWN0aW9uLCBwcmV2U25hcHNob3QpO1xuICAgICAgfVxuICAgICAgd2hpbGUgKG4gIT09IG51bGwpIHtcbiAgICAgICAgaWYgKGlzVmlzaWJsZShuLCBzbmFwc2hvdCkgfHwgKHByZXZTbmFwc2hvdCAhPT0gdW5kZWZpbmVkICYmIGlzVmlzaWJsZShuLCBwcmV2U25hcHNob3QpKSkge1xuICAgICAgICAgIHN3aXRjaCAobi5jb250ZW50LmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICBjYXNlIENvbnRlbnRTdHJpbmc6IHtcbiAgICAgICAgICAgICAgY29uc3QgY3VyID0gY3VycmVudEF0dHJpYnV0ZXMuZ2V0KCd5Y2hhbmdlJyk7XG4gICAgICAgICAgICAgIGlmIChzbmFwc2hvdCAhPT0gdW5kZWZpbmVkICYmICFpc1Zpc2libGUobiwgc25hcHNob3QpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1ciA9PT0gdW5kZWZpbmVkIHx8IGN1ci51c2VyICE9PSBuLmlkLmNsaWVudCB8fCBjdXIuc3RhdGUgIT09ICdyZW1vdmVkJykge1xuICAgICAgICAgICAgICAgICAgcGFja1N0cigpO1xuICAgICAgICAgICAgICAgICAgY3VycmVudEF0dHJpYnV0ZXMuc2V0KCd5Y2hhbmdlJywgY29tcHV0ZVlDaGFuZ2UgPyBjb21wdXRlWUNoYW5nZSgncmVtb3ZlZCcsIG4uaWQpIDogeyB0eXBlOiAncmVtb3ZlZCcgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByZXZTbmFwc2hvdCAhPT0gdW5kZWZpbmVkICYmICFpc1Zpc2libGUobiwgcHJldlNuYXBzaG90KSkge1xuICAgICAgICAgICAgICAgIGlmIChjdXIgPT09IHVuZGVmaW5lZCB8fCBjdXIudXNlciAhPT0gbi5pZC5jbGllbnQgfHwgY3VyLnN0YXRlICE9PSAnYWRkZWQnKSB7XG4gICAgICAgICAgICAgICAgICBwYWNrU3RyKCk7XG4gICAgICAgICAgICAgICAgICBjdXJyZW50QXR0cmlidXRlcy5zZXQoJ3ljaGFuZ2UnLCBjb21wdXRlWUNoYW5nZSA/IGNvbXB1dGVZQ2hhbmdlKCdhZGRlZCcsIG4uaWQpIDogeyB0eXBlOiAnYWRkZWQnIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBhY2tTdHIoKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50QXR0cmlidXRlcy5kZWxldGUoJ3ljaGFuZ2UnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzdHIgKz0gLyoqIEB0eXBlIHtDb250ZW50U3RyaW5nfSAqLyAobi5jb250ZW50KS5zdHI7XG4gICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIENvbnRlbnRUeXBlOlxuICAgICAgICAgICAgY2FzZSBDb250ZW50RW1iZWQ6IHtcbiAgICAgICAgICAgICAgcGFja1N0cigpO1xuICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsYW55Pn1cbiAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgIGNvbnN0IG9wID0ge1xuICAgICAgICAgICAgICAgIGluc2VydDogbi5jb250ZW50LmdldENvbnRlbnQoKVswXVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBpZiAoY3VycmVudEF0dHJpYnV0ZXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRycyA9IC8qKiBAdHlwZSB7T2JqZWN0PHN0cmluZyxhbnk+fSAqLyAoe30pO1xuICAgICAgICAgICAgICAgIG9wLmF0dHJpYnV0ZXMgPSBhdHRycztcbiAgICAgICAgICAgICAgICBjdXJyZW50QXR0cmlidXRlcy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgICBhdHRyc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgb3BzLnB1c2gob3ApO1xuICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBDb250ZW50Rm9ybWF0OlxuICAgICAgICAgICAgICBpZiAoaXNWaXNpYmxlKG4sIHNuYXBzaG90KSkge1xuICAgICAgICAgICAgICAgIHBhY2tTdHIoKTtcbiAgICAgICAgICAgICAgICB1cGRhdGVDdXJyZW50QXR0cmlidXRlcyhjdXJyZW50QXR0cmlidXRlcywgLyoqIEB0eXBlIHtDb250ZW50Rm9ybWF0fSAqLyAobi5jb250ZW50KSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbiA9IG4ucmlnaHQ7XG4gICAgICB9XG4gICAgICBwYWNrU3RyKCk7XG4gICAgfSwgc3BsaXRTbmFwc2hvdEFmZmVjdGVkU3RydWN0cyk7XG4gICAgcmV0dXJuIG9wc1xuICB9XG5cbiAgLyoqXG4gICAqIEluc2VydCB0ZXh0IGF0IGEgZ2l2ZW4gaW5kZXguXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBUaGUgaW5kZXggYXQgd2hpY2ggdG8gc3RhcnQgaW5zZXJ0aW5nLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dCBUaGUgdGV4dCB0byBpbnNlcnQgYXQgdGhlIHNwZWNpZmllZCBwb3NpdGlvbi5cbiAgICogQHBhcmFtIHtUZXh0QXR0cmlidXRlc30gW2F0dHJpYnV0ZXNdIE9wdGlvbmFsbHkgZGVmaW5lIHNvbWUgZm9ybWF0dGluZ1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm9ybWF0aW9uIHRvIGFwcGx5IG9uIHRoZSBpbnNlcnRlZFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRleHQuXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGluc2VydCAoaW5kZXgsIHRleHQsIGF0dHJpYnV0ZXMpIHtcbiAgICBpZiAodGV4dC5sZW5ndGggPD0gMCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IHkgPSB0aGlzLmRvYztcbiAgICBpZiAoeSAhPT0gbnVsbCkge1xuICAgICAgdHJhbnNhY3QoeSwgdHJhbnNhY3Rpb24gPT4ge1xuICAgICAgICBjb25zdCBwb3MgPSBmaW5kUG9zaXRpb24odHJhbnNhY3Rpb24sIHRoaXMsIGluZGV4KTtcbiAgICAgICAgaWYgKCFhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgYXR0cmlidXRlcyA9IHt9O1xuICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICBwb3MuY3VycmVudEF0dHJpYnV0ZXMuZm9yRWFjaCgodiwgaykgPT4geyBhdHRyaWJ1dGVzW2tdID0gdjsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaW5zZXJ0VGV4dCh0cmFuc2FjdGlvbiwgdGhpcywgcG9zLCB0ZXh0LCBhdHRyaWJ1dGVzKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiogQHR5cGUge0FycmF5PGZ1bmN0aW9uPn0gKi8gKHRoaXMuX3BlbmRpbmcpLnB1c2goKCkgPT4gdGhpcy5pbnNlcnQoaW5kZXgsIHRleHQsIGF0dHJpYnV0ZXMpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW5zZXJ0cyBhbiBlbWJlZCBhdCBhIGluZGV4LlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGluZGV4IHRvIGluc2VydCB0aGUgZW1iZWQgYXQuXG4gICAqIEBwYXJhbSB7T2JqZWN0IHwgQWJzdHJhY3RUeXBlPGFueT59IGVtYmVkIFRoZSBPYmplY3QgdGhhdCByZXByZXNlbnRzIHRoZSBlbWJlZC5cbiAgICogQHBhcmFtIHtUZXh0QXR0cmlidXRlc30gYXR0cmlidXRlcyBBdHRyaWJ1dGUgaW5mb3JtYXRpb24gdG8gYXBwbHkgb24gdGhlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1iZWRcbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgaW5zZXJ0RW1iZWQgKGluZGV4LCBlbWJlZCwgYXR0cmlidXRlcyA9IHt9KSB7XG4gICAgY29uc3QgeSA9IHRoaXMuZG9jO1xuICAgIGlmICh5ICE9PSBudWxsKSB7XG4gICAgICB0cmFuc2FjdCh5LCB0cmFuc2FjdGlvbiA9PiB7XG4gICAgICAgIGNvbnN0IHBvcyA9IGZpbmRQb3NpdGlvbih0cmFuc2FjdGlvbiwgdGhpcywgaW5kZXgpO1xuICAgICAgICBpbnNlcnRUZXh0KHRyYW5zYWN0aW9uLCB0aGlzLCBwb3MsIGVtYmVkLCBhdHRyaWJ1dGVzKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiogQHR5cGUge0FycmF5PGZ1bmN0aW9uPn0gKi8gKHRoaXMuX3BlbmRpbmcpLnB1c2goKCkgPT4gdGhpcy5pbnNlcnRFbWJlZChpbmRleCwgZW1iZWQsIGF0dHJpYnV0ZXMpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlcyB0ZXh0IHN0YXJ0aW5nIGZyb20gYW4gaW5kZXguXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBJbmRleCBhdCB3aGljaCB0byBzdGFydCBkZWxldGluZy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCBUaGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgdG8gcmVtb3ZlLiBEZWZhdWx0cyB0byAxLlxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBkZWxldGUgKGluZGV4LCBsZW5ndGgpIHtcbiAgICBpZiAobGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgeSA9IHRoaXMuZG9jO1xuICAgIGlmICh5ICE9PSBudWxsKSB7XG4gICAgICB0cmFuc2FjdCh5LCB0cmFuc2FjdGlvbiA9PiB7XG4gICAgICAgIGRlbGV0ZVRleHQodHJhbnNhY3Rpb24sIGZpbmRQb3NpdGlvbih0cmFuc2FjdGlvbiwgdGhpcywgaW5kZXgpLCBsZW5ndGgpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qKiBAdHlwZSB7QXJyYXk8ZnVuY3Rpb24+fSAqLyAodGhpcy5fcGVuZGluZykucHVzaCgoKSA9PiB0aGlzLmRlbGV0ZShpbmRleCwgbGVuZ3RoKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFzc2lnbnMgcHJvcGVydGllcyB0byBhIHJhbmdlIG9mIHRleHQuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBUaGUgcG9zaXRpb24gd2hlcmUgdG8gc3RhcnQgZm9ybWF0dGluZy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCBUaGUgYW1vdW50IG9mIGNoYXJhY3RlcnMgdG8gYXNzaWduIHByb3BlcnRpZXMgdG8uXG4gICAqIEBwYXJhbSB7VGV4dEF0dHJpYnV0ZXN9IGF0dHJpYnV0ZXMgQXR0cmlidXRlIGluZm9ybWF0aW9uIHRvIGFwcGx5IG9uIHRoZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQuXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGZvcm1hdCAoaW5kZXgsIGxlbmd0aCwgYXR0cmlidXRlcykge1xuICAgIGlmIChsZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCB5ID0gdGhpcy5kb2M7XG4gICAgaWYgKHkgIT09IG51bGwpIHtcbiAgICAgIHRyYW5zYWN0KHksIHRyYW5zYWN0aW9uID0+IHtcbiAgICAgICAgY29uc3QgcG9zID0gZmluZFBvc2l0aW9uKHRyYW5zYWN0aW9uLCB0aGlzLCBpbmRleCk7XG4gICAgICAgIGlmIChwb3MucmlnaHQgPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBmb3JtYXRUZXh0KHRyYW5zYWN0aW9uLCB0aGlzLCBwb3MsIGxlbmd0aCwgYXR0cmlidXRlcyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLyoqIEB0eXBlIHtBcnJheTxmdW5jdGlvbj59ICovICh0aGlzLl9wZW5kaW5nKS5wdXNoKCgpID0+IHRoaXMuZm9ybWF0KGluZGV4LCBsZW5ndGgsIGF0dHJpYnV0ZXMpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbiBhdHRyaWJ1dGUuXG4gICAqXG4gICAqIEBub3RlIFhtbC1UZXh0IG5vZGVzIGRvbid0IGhhdmUgYXR0cmlidXRlcy4gWW91IGNhbiB1c2UgdGhpcyBmZWF0dXJlIHRvIGFzc2lnbiBwcm9wZXJ0aWVzIHRvIGNvbXBsZXRlIHRleHQtYmxvY2tzLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0cmlidXRlTmFtZSBUaGUgYXR0cmlidXRlIG5hbWUgdGhhdCBpcyB0byBiZSByZW1vdmVkLlxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICByZW1vdmVBdHRyaWJ1dGUgKGF0dHJpYnV0ZU5hbWUpIHtcbiAgICBpZiAodGhpcy5kb2MgIT09IG51bGwpIHtcbiAgICAgIHRyYW5zYWN0KHRoaXMuZG9jLCB0cmFuc2FjdGlvbiA9PiB7XG4gICAgICAgIHR5cGVNYXBEZWxldGUodHJhbnNhY3Rpb24sIHRoaXMsIGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qKiBAdHlwZSB7QXJyYXk8ZnVuY3Rpb24+fSAqLyAodGhpcy5fcGVuZGluZykucHVzaCgoKSA9PiB0aGlzLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgb3IgdXBkYXRlcyBhbiBhdHRyaWJ1dGUuXG4gICAqXG4gICAqIEBub3RlIFhtbC1UZXh0IG5vZGVzIGRvbid0IGhhdmUgYXR0cmlidXRlcy4gWW91IGNhbiB1c2UgdGhpcyBmZWF0dXJlIHRvIGFzc2lnbiBwcm9wZXJ0aWVzIHRvIGNvbXBsZXRlIHRleHQtYmxvY2tzLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0cmlidXRlTmFtZSBUaGUgYXR0cmlidXRlIG5hbWUgdGhhdCBpcyB0byBiZSBzZXQuXG4gICAqIEBwYXJhbSB7YW55fSBhdHRyaWJ1dGVWYWx1ZSBUaGUgYXR0cmlidXRlIHZhbHVlIHRoYXQgaXMgdG8gYmUgc2V0LlxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBzZXRBdHRyaWJ1dGUgKGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZVZhbHVlKSB7XG4gICAgaWYgKHRoaXMuZG9jICE9PSBudWxsKSB7XG4gICAgICB0cmFuc2FjdCh0aGlzLmRvYywgdHJhbnNhY3Rpb24gPT4ge1xuICAgICAgICB0eXBlTWFwU2V0KHRyYW5zYWN0aW9uLCB0aGlzLCBhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVWYWx1ZSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLyoqIEB0eXBlIHtBcnJheTxmdW5jdGlvbj59ICovICh0aGlzLl9wZW5kaW5nKS5wdXNoKCgpID0+IHRoaXMuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZVZhbHVlKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gYXR0cmlidXRlIHZhbHVlIHRoYXQgYmVsb25ncyB0byB0aGUgYXR0cmlidXRlIG5hbWUuXG4gICAqXG4gICAqIEBub3RlIFhtbC1UZXh0IG5vZGVzIGRvbid0IGhhdmUgYXR0cmlidXRlcy4gWW91IGNhbiB1c2UgdGhpcyBmZWF0dXJlIHRvIGFzc2lnbiBwcm9wZXJ0aWVzIHRvIGNvbXBsZXRlIHRleHQtYmxvY2tzLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0cmlidXRlTmFtZSBUaGUgYXR0cmlidXRlIG5hbWUgdGhhdCBpZGVudGlmaWVzIHRoZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyaWVkIHZhbHVlLlxuICAgKiBAcmV0dXJuIHthbnl9IFRoZSBxdWVyaWVkIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgZ2V0QXR0cmlidXRlIChhdHRyaWJ1dGVOYW1lKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7YW55fSAqLyAodHlwZU1hcEdldCh0aGlzLCBhdHRyaWJ1dGVOYW1lKSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFsbCBhdHRyaWJ1dGUgbmFtZS92YWx1ZSBwYWlycyBpbiBhIEpTT04gT2JqZWN0LlxuICAgKlxuICAgKiBAbm90ZSBYbWwtVGV4dCBub2RlcyBkb24ndCBoYXZlIGF0dHJpYnV0ZXMuIFlvdSBjYW4gdXNlIHRoaXMgZmVhdHVyZSB0byBhc3NpZ24gcHJvcGVydGllcyB0byBjb21wbGV0ZSB0ZXh0LWJsb2Nrcy5cbiAgICpcbiAgICogQHBhcmFtIHtTbmFwc2hvdH0gW3NuYXBzaG90XVxuICAgKiBAcmV0dXJuIHtPYmplY3Q8c3RyaW5nLCBhbnk+fSBBIEpTT04gT2JqZWN0IHRoYXQgZGVzY3JpYmVzIHRoZSBhdHRyaWJ1dGVzLlxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBnZXRBdHRyaWJ1dGVzIChzbmFwc2hvdCkge1xuICAgIHJldHVybiB0eXBlTWFwR2V0QWxsKHRoaXMpXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtVcGRhdGVFbmNvZGVyVjEgfCBVcGRhdGVFbmNvZGVyVjJ9IGVuY29kZXJcbiAgICovXG4gIF93cml0ZSAoZW5jb2Rlcikge1xuICAgIGVuY29kZXIud3JpdGVUeXBlUmVmKFlUZXh0UmVmSUQpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtVcGRhdGVEZWNvZGVyVjEgfCBVcGRhdGVEZWNvZGVyVjJ9IGRlY29kZXJcbiAqIEByZXR1cm4ge1lUZXh0fVxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgcmVhZFlUZXh0ID0gZGVjb2RlciA9PiBuZXcgWVRleHQoKTtcblxuLyoqXG4gKiBAbW9kdWxlIFlYbWxcbiAqL1xuXG4vKipcbiAqIERlZmluZSB0aGUgZWxlbWVudHMgdG8gd2hpY2ggYSBzZXQgb2YgQ1NTIHF1ZXJpZXMgYXBwbHkuXG4gKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0NTU19TZWxlY3RvcnN8Q1NTX1NlbGVjdG9yc31cbiAqXG4gKiBAZXhhbXBsZVxuICogICBxdWVyeSA9ICcuY2xhc3NTZWxlY3RvcidcbiAqICAgcXVlcnkgPSAnbm9kZVNlbGVjdG9yJ1xuICogICBxdWVyeSA9ICcjaWRTZWxlY3RvcidcbiAqXG4gKiBAdHlwZWRlZiB7c3RyaW5nfSBDU1NfU2VsZWN0b3JcbiAqL1xuXG4vKipcbiAqIERvbSBmaWx0ZXIgZnVuY3Rpb24uXG4gKlxuICogQGNhbGxiYWNrIGRvbUZpbHRlclxuICogQHBhcmFtIHtzdHJpbmd9IG5vZGVOYW1lIFRoZSBub2RlTmFtZSBvZiB0aGUgZWxlbWVudFxuICogQHBhcmFtIHtNYXB9IGF0dHJpYnV0ZXMgVGhlIG1hcCBvZiBhdHRyaWJ1dGVzLlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0byBpbmNsdWRlIHRoZSBEb20gbm9kZSBpbiB0aGUgWVhtbEVsZW1lbnQuXG4gKi9cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgc3Vic2V0IG9mIHRoZSBub2RlcyBvZiBhIFlYbWxFbGVtZW50IC8gWVhtbEZyYWdtZW50IGFuZCBhXG4gKiBwb3NpdGlvbiB3aXRoaW4gdGhlbS5cbiAqXG4gKiBDYW4gYmUgY3JlYXRlZCB3aXRoIHtAbGluayBZWG1sRnJhZ21lbnQjY3JlYXRlVHJlZVdhbGtlcn1cbiAqXG4gKiBAcHVibGljXG4gKiBAaW1wbGVtZW50cyB7SXRlcmFibGU8WVhtbEVsZW1lbnR8WVhtbFRleHR8WVhtbEVsZW1lbnR8WVhtbEhvb2s+fVxuICovXG5jbGFzcyBZWG1sVHJlZVdhbGtlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1lYbWxGcmFnbWVudCB8IFlYbWxFbGVtZW50fSByb290XG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oQWJzdHJhY3RUeXBlPGFueT4pOmJvb2xlYW59IFtmXVxuICAgKi9cbiAgY29uc3RydWN0b3IgKHJvb3QsIGYgPSAoKSA9PiB0cnVlKSB7XG4gICAgdGhpcy5fZmlsdGVyID0gZjtcbiAgICB0aGlzLl9yb290ID0gcm9vdDtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7SXRlbX1cbiAgICAgKi9cbiAgICB0aGlzLl9jdXJyZW50Tm9kZSA9IC8qKiBAdHlwZSB7SXRlbX0gKi8gKHJvb3QuX3N0YXJ0KTtcbiAgICB0aGlzLl9maXJzdENhbGwgPSB0cnVlO1xuICB9XG5cbiAgW1N5bWJvbC5pdGVyYXRvcl0gKCkge1xuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBuZXh0IG5vZGUuXG4gICAqXG4gICAqIEByZXR1cm4ge0l0ZXJhdG9yUmVzdWx0PFlYbWxFbGVtZW50fFlYbWxUZXh0fFlYbWxIb29rPn0gVGhlIG5leHQgbm9kZS5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgbmV4dCAoKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge0l0ZW18bnVsbH1cbiAgICAgKi9cbiAgICBsZXQgbiA9IHRoaXMuX2N1cnJlbnROb2RlO1xuICAgIGxldCB0eXBlID0gbiAmJiBuLmNvbnRlbnQgJiYgLyoqIEB0eXBlIHthbnl9ICovIChuLmNvbnRlbnQpLnR5cGU7XG4gICAgaWYgKG4gIT09IG51bGwgJiYgKCF0aGlzLl9maXJzdENhbGwgfHwgbi5kZWxldGVkIHx8ICF0aGlzLl9maWx0ZXIodHlwZSkpKSB7IC8vIGlmIGZpcnN0IGNhbGwsIHdlIGNoZWNrIGlmIHdlIGNhbiB1c2UgdGhlIGZpcnN0IGl0ZW1cbiAgICAgIGRvIHtcbiAgICAgICAgdHlwZSA9IC8qKiBAdHlwZSB7YW55fSAqLyAobi5jb250ZW50KS50eXBlO1xuICAgICAgICBpZiAoIW4uZGVsZXRlZCAmJiAodHlwZS5jb25zdHJ1Y3RvciA9PT0gWVhtbEVsZW1lbnQgfHwgdHlwZS5jb25zdHJ1Y3RvciA9PT0gWVhtbEZyYWdtZW50KSAmJiB0eXBlLl9zdGFydCAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIHdhbGsgZG93biBpbiB0aGUgdHJlZVxuICAgICAgICAgIG4gPSB0eXBlLl9zdGFydDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyB3YWxrIHJpZ2h0IG9yIHVwIGluIHRoZSB0cmVlXG4gICAgICAgICAgd2hpbGUgKG4gIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChuLnJpZ2h0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIG4gPSBuLnJpZ2h0O1xuICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuLnBhcmVudCA9PT0gdGhpcy5fcm9vdCkge1xuICAgICAgICAgICAgICBuID0gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG4gPSAvKiogQHR5cGUge0Fic3RyYWN0VHlwZTxhbnk+fSAqLyAobi5wYXJlbnQpLl9pdGVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAobiAhPT0gbnVsbCAmJiAobi5kZWxldGVkIHx8ICF0aGlzLl9maWx0ZXIoLyoqIEB0eXBlIHtDb250ZW50VHlwZX0gKi8gKG4uY29udGVudCkudHlwZSkpKVxuICAgIH1cbiAgICB0aGlzLl9maXJzdENhbGwgPSBmYWxzZTtcbiAgICBpZiAobiA9PT0gbnVsbCkge1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9XG4gICAgfVxuICAgIHRoaXMuX2N1cnJlbnROb2RlID0gbjtcbiAgICByZXR1cm4geyB2YWx1ZTogLyoqIEB0eXBlIHthbnl9ICovIChuLmNvbnRlbnQpLnR5cGUsIGRvbmU6IGZhbHNlIH1cbiAgfVxufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBsaXN0IG9mIHtAbGluayBZWG1sRWxlbWVudH0uYW5kIHtAbGluayBZWG1sVGV4dH0gdHlwZXMuXG4gKiBBIFl4bWxGcmFnbWVudCBpcyBzaW1pbGFyIHRvIGEge0BsaW5rIFlYbWxFbGVtZW50fSwgYnV0IGl0IGRvZXMgbm90IGhhdmUgYVxuICogbm9kZU5hbWUgYW5kIGl0IGRvZXMgbm90IGhhdmUgYXR0cmlidXRlcy4gVGhvdWdoIGl0IGNhbiBiZSBib3VuZCB0byBhIERPTVxuICogZWxlbWVudCAtIGluIHRoaXMgY2FzZSB0aGUgYXR0cmlidXRlcyBhbmQgdGhlIG5vZGVOYW1lIGFyZSBub3Qgc2hhcmVkLlxuICpcbiAqIEBwdWJsaWNcbiAqIEBleHRlbmRzIEFic3RyYWN0VHlwZTxZWG1sRXZlbnQ+XG4gKi9cbmNsYXNzIFlYbWxGcmFnbWVudCBleHRlbmRzIEFic3RyYWN0VHlwZSB7XG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICBzdXBlcigpO1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheTxhbnk+fG51bGx9XG4gICAgICovXG4gICAgdGhpcy5fcHJlbGltQ29udGVudCA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtZWG1sRWxlbWVudHxZWG1sVGV4dHxudWxsfVxuICAgKi9cbiAgZ2V0IGZpcnN0Q2hpbGQgKCkge1xuICAgIGNvbnN0IGZpcnN0ID0gdGhpcy5fZmlyc3Q7XG4gICAgcmV0dXJuIGZpcnN0ID8gZmlyc3QuY29udGVudC5nZXRDb250ZW50KClbMF0gOiBudWxsXG4gIH1cblxuICAvKipcbiAgICogSW50ZWdyYXRlIHRoaXMgdHlwZSBpbnRvIHRoZSBZanMgaW5zdGFuY2UuXG4gICAqXG4gICAqICogU2F2ZSB0aGlzIHN0cnVjdCBpbiB0aGUgb3NcbiAgICogKiBUaGlzIHR5cGUgaXMgc2VudCB0byBvdGhlciBjbGllbnRcbiAgICogKiBPYnNlcnZlciBmdW5jdGlvbnMgYXJlIGZpcmVkXG4gICAqXG4gICAqIEBwYXJhbSB7RG9jfSB5IFRoZSBZanMgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtJdGVtfSBpdGVtXG4gICAqL1xuICBfaW50ZWdyYXRlICh5LCBpdGVtKSB7XG4gICAgc3VwZXIuX2ludGVncmF0ZSh5LCBpdGVtKTtcbiAgICB0aGlzLmluc2VydCgwLCAvKiogQHR5cGUge0FycmF5PGFueT59ICovICh0aGlzLl9wcmVsaW1Db250ZW50KSk7XG4gICAgdGhpcy5fcHJlbGltQ29udGVudCA9IG51bGw7XG4gIH1cblxuICBfY29weSAoKSB7XG4gICAgcmV0dXJuIG5ldyBZWG1sRnJhZ21lbnQoKVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge1lYbWxGcmFnbWVudH1cbiAgICovXG4gIGNsb25lICgpIHtcbiAgICBjb25zdCBlbCA9IG5ldyBZWG1sRnJhZ21lbnQoKTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgZWwuaW5zZXJ0KDAsIHRoaXMudG9BcnJheSgpLm1hcChpdGVtID0+IGl0ZW0gaW5zdGFuY2VvZiBBYnN0cmFjdFR5cGUgPyBpdGVtLmNsb25lKCkgOiBpdGVtKSk7XG4gICAgcmV0dXJuIGVsXG4gIH1cblxuICBnZXQgbGVuZ3RoICgpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJlbGltQ29udGVudCA9PT0gbnVsbCA/IHRoaXMuX2xlbmd0aCA6IHRoaXMuX3ByZWxpbUNvbnRlbnQubGVuZ3RoXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgc3VidHJlZSBvZiBjaGlsZE5vZGVzLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBjb25zdCB3YWxrZXIgPSBlbGVtLmNyZWF0ZVRyZWVXYWxrZXIoZG9tID0+IGRvbS5ub2RlTmFtZSA9PT0gJ2RpdicpXG4gICAqIGZvciAobGV0IG5vZGUgaW4gd2Fsa2VyKSB7XG4gICAqICAgLy8gYG5vZGVgIGlzIGEgZGl2IG5vZGVcbiAgICogICBub3Aobm9kZSlcbiAgICogfVxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKEFic3RyYWN0VHlwZTxhbnk+KTpib29sZWFufSBmaWx0ZXIgRnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgb24gZWFjaCBjaGlsZCBlbGVtZW50IGFuZFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBjaGlsZFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgaXMgdG8gYmUgaW5jbHVkZWQgaW4gdGhlIHN1YnRyZWUuXG4gICAqIEByZXR1cm4ge1lYbWxUcmVlV2Fsa2VyfSBBIHN1YnRyZWUgYW5kIGEgcG9zaXRpb24gd2l0aGluIGl0LlxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBjcmVhdGVUcmVlV2Fsa2VyIChmaWx0ZXIpIHtcbiAgICByZXR1cm4gbmV3IFlYbWxUcmVlV2Fsa2VyKHRoaXMsIGZpbHRlcilcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBmaXJzdCBZWG1sRWxlbWVudCB0aGF0IG1hdGNoZXMgdGhlIHF1ZXJ5LlxuICAgKiBTaW1pbGFyIHRvIERPTSdzIHtAbGluayBxdWVyeVNlbGVjdG9yfS5cbiAgICpcbiAgICogUXVlcnkgc3VwcG9ydDpcbiAgICogICAtIHRhZ25hbWVcbiAgICogVE9ETzpcbiAgICogICAtIGlkXG4gICAqICAgLSBhdHRyaWJ1dGVcbiAgICpcbiAgICogQHBhcmFtIHtDU1NfU2VsZWN0b3J9IHF1ZXJ5IFRoZSBxdWVyeSBvbiB0aGUgY2hpbGRyZW4uXG4gICAqIEByZXR1cm4ge1lYbWxFbGVtZW50fFlYbWxUZXh0fFlYbWxIb29rfG51bGx9IFRoZSBmaXJzdCBlbGVtZW50IHRoYXQgbWF0Y2hlcyB0aGUgcXVlcnkgb3IgbnVsbC5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgcXVlcnlTZWxlY3RvciAocXVlcnkpIHtcbiAgICBxdWVyeSA9IHF1ZXJ5LnRvVXBwZXJDYXNlKCk7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IGl0ZXJhdG9yID0gbmV3IFlYbWxUcmVlV2Fsa2VyKHRoaXMsIGVsZW1lbnQgPT4gZWxlbWVudC5ub2RlTmFtZSAmJiBlbGVtZW50Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT09IHF1ZXJ5KTtcbiAgICBjb25zdCBuZXh0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgIGlmIChuZXh0LmRvbmUpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXh0LnZhbHVlXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYWxsIFlYbWxFbGVtZW50cyB0aGF0IG1hdGNoIHRoZSBxdWVyeS5cbiAgICogU2ltaWxhciB0byBEb20ncyB7QGxpbmsgcXVlcnlTZWxlY3RvckFsbH0uXG4gICAqXG4gICAqIEB0b2RvIERvZXMgbm90IHlldCBzdXBwb3J0IGFsbCBxdWVyaWVzLiBDdXJyZW50bHkgb25seSBxdWVyeSBieSB0YWdOYW1lLlxuICAgKlxuICAgKiBAcGFyYW0ge0NTU19TZWxlY3Rvcn0gcXVlcnkgVGhlIHF1ZXJ5IG9uIHRoZSBjaGlsZHJlblxuICAgKiBAcmV0dXJuIHtBcnJheTxZWG1sRWxlbWVudHxZWG1sVGV4dHxZWG1sSG9va3xudWxsPn0gVGhlIGVsZW1lbnRzIHRoYXQgbWF0Y2ggdGhpcyBxdWVyeS5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgcXVlcnlTZWxlY3RvckFsbCAocXVlcnkpIHtcbiAgICBxdWVyeSA9IHF1ZXJ5LnRvVXBwZXJDYXNlKCk7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJldHVybiBBcnJheS5mcm9tKG5ldyBZWG1sVHJlZVdhbGtlcih0aGlzLCBlbGVtZW50ID0+IGVsZW1lbnQubm9kZU5hbWUgJiYgZWxlbWVudC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpID09PSBxdWVyeSkpXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBZWG1sRXZlbnQgYW5kIGNhbGxzIG9ic2VydmVycy5cbiAgICpcbiAgICogQHBhcmFtIHtUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAgICogQHBhcmFtIHtTZXQ8bnVsbHxzdHJpbmc+fSBwYXJlbnRTdWJzIEtleXMgY2hhbmdlZCBvbiB0aGlzIHR5cGUuIGBudWxsYCBpZiBsaXN0IHdhcyBtb2RpZmllZC5cbiAgICovXG4gIF9jYWxsT2JzZXJ2ZXIgKHRyYW5zYWN0aW9uLCBwYXJlbnRTdWJzKSB7XG4gICAgY2FsbFR5cGVPYnNlcnZlcnModGhpcywgdHJhbnNhY3Rpb24sIG5ldyBZWG1sRXZlbnQodGhpcywgcGFyZW50U3VicywgdHJhbnNhY3Rpb24pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhbGwgdGhlIGNoaWxkcmVuIG9mIHRoaXMgWVhtbEZyYWdtZW50LlxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYWxsIGNoaWxkcmVuLlxuICAgKi9cbiAgdG9TdHJpbmcgKCkge1xuICAgIHJldHVybiB0eXBlTGlzdE1hcCh0aGlzLCB4bWwgPT4geG1sLnRvU3RyaW5nKCkpLmpvaW4oJycpXG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgdG9KU09OICgpIHtcbiAgICByZXR1cm4gdGhpcy50b1N0cmluZygpXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIERvbSBFbGVtZW50IHRoYXQgbWlycm9ycyB0aGlzIFlYbWxFbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge0RvY3VtZW50fSBbX2RvY3VtZW50PWRvY3VtZW50XSBUaGUgZG9jdW1lbnQgb2JqZWN0ICh5b3UgbXVzdCBkZWZpbmVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyB3aGVuIGNhbGxpbmcgdGhpcyBtZXRob2QgaW5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZWpzKVxuICAgKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsIGFueT59IFtob29rcz17fV0gT3B0aW9uYWwgcHJvcGVydHkgdG8gY3VzdG9taXplIGhvdyBob29rc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZSBwcmVzZW50ZWQgaW4gdGhlIERPTVxuICAgKiBAcGFyYW0ge2FueX0gW2JpbmRpbmddIFlvdSBzaG91bGQgbm90IHNldCB0aGlzIHByb3BlcnR5LiBUaGlzIGlzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZWQgaWYgRG9tQmluZGluZyB3YW50cyB0byBjcmVhdGUgYVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NvY2lhdGlvbiB0byB0aGUgY3JlYXRlZCBET00gdHlwZS5cbiAgICogQHJldHVybiB7Tm9kZX0gVGhlIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRWxlbWVudHxEb20gRWxlbWVudH1cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgdG9ET00gKF9kb2N1bWVudCA9IGRvY3VtZW50LCBob29rcyA9IHt9LCBiaW5kaW5nKSB7XG4gICAgY29uc3QgZnJhZ21lbnQgPSBfZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgIGlmIChiaW5kaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGJpbmRpbmcuX2NyZWF0ZUFzc29jaWF0aW9uKGZyYWdtZW50LCB0aGlzKTtcbiAgICB9XG4gICAgdHlwZUxpc3RGb3JFYWNoKHRoaXMsIHhtbFR5cGUgPT4ge1xuICAgICAgZnJhZ21lbnQuaW5zZXJ0QmVmb3JlKHhtbFR5cGUudG9ET00oX2RvY3VtZW50LCBob29rcywgYmluZGluZyksIG51bGwpO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFnbWVudFxuICB9XG5cbiAgLyoqXG4gICAqIEluc2VydHMgbmV3IGNvbnRlbnQgYXQgYW4gaW5kZXguXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqICAvLyBJbnNlcnQgY2hhcmFjdGVyICdhJyBhdCBwb3NpdGlvbiAwXG4gICAqICB4bWwuaW5zZXJ0KDAsIFtuZXcgWS5YbWxUZXh0KCd0ZXh0JyldKVxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGluZGV4IHRvIGluc2VydCBjb250ZW50IGF0XG4gICAqIEBwYXJhbSB7QXJyYXk8WVhtbEVsZW1lbnR8WVhtbFRleHQ+fSBjb250ZW50IFRoZSBhcnJheSBvZiBjb250ZW50XG4gICAqL1xuICBpbnNlcnQgKGluZGV4LCBjb250ZW50KSB7XG4gICAgaWYgKHRoaXMuZG9jICE9PSBudWxsKSB7XG4gICAgICB0cmFuc2FjdCh0aGlzLmRvYywgdHJhbnNhY3Rpb24gPT4ge1xuICAgICAgICB0eXBlTGlzdEluc2VydEdlbmVyaWNzKHRyYW5zYWN0aW9uLCB0aGlzLCBpbmRleCwgY29udGVudCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQHRzLWlnbm9yZSBfcHJlbGltQ29udGVudCBpcyBkZWZpbmVkIGJlY2F1c2UgdGhpcyBpcyBub3QgeWV0IGludGVncmF0ZWRcbiAgICAgIHRoaXMuX3ByZWxpbUNvbnRlbnQuc3BsaWNlKGluZGV4LCAwLCAuLi5jb250ZW50KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW5zZXJ0cyBuZXcgY29udGVudCBhdCBhbiBpbmRleC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogIC8vIEluc2VydCBjaGFyYWN0ZXIgJ2EnIGF0IHBvc2l0aW9uIDBcbiAgICogIHhtbC5pbnNlcnQoMCwgW25ldyBZLlhtbFRleHQoJ3RleHQnKV0pXG4gICAqXG4gICAqIEBwYXJhbSB7bnVsbHxJdGVtfFlYbWxFbGVtZW50fFlYbWxUZXh0fSByZWYgVGhlIGluZGV4IHRvIGluc2VydCBjb250ZW50IGF0XG4gICAqIEBwYXJhbSB7QXJyYXk8WVhtbEVsZW1lbnR8WVhtbFRleHQ+fSBjb250ZW50IFRoZSBhcnJheSBvZiBjb250ZW50XG4gICAqL1xuICBpbnNlcnRBZnRlciAocmVmLCBjb250ZW50KSB7XG4gICAgaWYgKHRoaXMuZG9jICE9PSBudWxsKSB7XG4gICAgICB0cmFuc2FjdCh0aGlzLmRvYywgdHJhbnNhY3Rpb24gPT4ge1xuICAgICAgICBjb25zdCByZWZJdGVtID0gKHJlZiAmJiByZWYgaW5zdGFuY2VvZiBBYnN0cmFjdFR5cGUpID8gcmVmLl9pdGVtIDogcmVmO1xuICAgICAgICB0eXBlTGlzdEluc2VydEdlbmVyaWNzQWZ0ZXIodHJhbnNhY3Rpb24sIHRoaXMsIHJlZkl0ZW0sIGNvbnRlbnQpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHBjID0gLyoqIEB0eXBlIHtBcnJheTxhbnk+fSAqLyAodGhpcy5fcHJlbGltQ29udGVudCk7XG4gICAgICBjb25zdCBpbmRleCA9IHJlZiA9PT0gbnVsbCA/IDAgOiBwYy5maW5kSW5kZXgoZWwgPT4gZWwgPT09IHJlZikgKyAxO1xuICAgICAgaWYgKGluZGV4ID09PSAwICYmIHJlZiAhPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBlcnJvci5jcmVhdGUoJ1JlZmVyZW5jZSBpdGVtIG5vdCBmb3VuZCcpXG4gICAgICB9XG4gICAgICBwYy5zcGxpY2UoaW5kZXgsIDAsIC4uLmNvbnRlbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGVzIGVsZW1lbnRzIHN0YXJ0aW5nIGZyb20gYW4gaW5kZXguXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBJbmRleCBhdCB3aGljaCB0byBzdGFydCBkZWxldGluZyBlbGVtZW50c1xuICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHJlbW92ZS4gRGVmYXVsdHMgdG8gMS5cbiAgICovXG4gIGRlbGV0ZSAoaW5kZXgsIGxlbmd0aCA9IDEpIHtcbiAgICBpZiAodGhpcy5kb2MgIT09IG51bGwpIHtcbiAgICAgIHRyYW5zYWN0KHRoaXMuZG9jLCB0cmFuc2FjdGlvbiA9PiB7XG4gICAgICAgIHR5cGVMaXN0RGVsZXRlKHRyYW5zYWN0aW9uLCB0aGlzLCBpbmRleCwgbGVuZ3RoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBAdHMtaWdub3JlIF9wcmVsaW1Db250ZW50IGlzIGRlZmluZWQgYmVjYXVzZSB0aGlzIGlzIG5vdCB5ZXQgaW50ZWdyYXRlZFxuICAgICAgdGhpcy5fcHJlbGltQ29udGVudC5zcGxpY2UoaW5kZXgsIGxlbmd0aCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zZm9ybXMgdGhpcyBZQXJyYXkgdG8gYSBKYXZhU2NyaXB0IEFycmF5LlxuICAgKlxuICAgKiBAcmV0dXJuIHtBcnJheTxZWG1sRWxlbWVudHxZWG1sVGV4dHxZWG1sSG9vaz59XG4gICAqL1xuICB0b0FycmF5ICgpIHtcbiAgICByZXR1cm4gdHlwZUxpc3RUb0FycmF5KHRoaXMpXG4gIH1cblxuICAvKipcbiAgICogQXBwZW5kcyBjb250ZW50IHRvIHRoaXMgWUFycmF5LlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5PFlYbWxFbGVtZW50fFlYbWxUZXh0Pn0gY29udGVudCBBcnJheSBvZiBjb250ZW50IHRvIGFwcGVuZC5cbiAgICovXG4gIHB1c2ggKGNvbnRlbnQpIHtcbiAgICB0aGlzLmluc2VydCh0aGlzLmxlbmd0aCwgY29udGVudCk7XG4gIH1cblxuICAvKipcbiAgICogUHJlcHBlbmRzIGNvbnRlbnQgdG8gdGhpcyBZQXJyYXkuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXk8WVhtbEVsZW1lbnR8WVhtbFRleHQ+fSBjb250ZW50IEFycmF5IG9mIGNvbnRlbnQgdG8gcHJlcHBlbmQuXG4gICAqL1xuICB1bnNoaWZ0IChjb250ZW50KSB7XG4gICAgdGhpcy5pbnNlcnQoMCwgY29udGVudCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgaS10aCBlbGVtZW50IGZyb20gYSBZQXJyYXkuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gcmV0dXJuIGZyb20gdGhlIFlBcnJheVxuICAgKiBAcmV0dXJuIHtZWG1sRWxlbWVudHxZWG1sVGV4dH1cbiAgICovXG4gIGdldCAoaW5kZXgpIHtcbiAgICByZXR1cm4gdHlwZUxpc3RHZXQodGhpcywgaW5kZXgpXG4gIH1cblxuICAvKipcbiAgICogVHJhbnNmb3JtcyB0aGlzIFlBcnJheSB0byBhIEphdmFTY3JpcHQgQXJyYXkuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnRdXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kXVxuICAgKiBAcmV0dXJuIHtBcnJheTxZWG1sRWxlbWVudHxZWG1sVGV4dD59XG4gICAqL1xuICBzbGljZSAoc3RhcnQgPSAwLCBlbmQgPSB0aGlzLmxlbmd0aCkge1xuICAgIHJldHVybiB0eXBlTGlzdFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZXMgYSBwcm92aWRlZCBmdW5jdGlvbiBvbiBvbmNlIG9uIG92ZXJ5IGNoaWxkIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oWVhtbEVsZW1lbnR8WVhtbFRleHQsbnVtYmVyLCB0eXBlb2YgdGhpcyk6dm9pZH0gZiBBIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgb24gZXZlcnkgZWxlbWVudCBvZiB0aGlzIFlBcnJheS5cbiAgICovXG4gIGZvckVhY2ggKGYpIHtcbiAgICB0eXBlTGlzdEZvckVhY2godGhpcywgZik7XG4gIH1cblxuICAvKipcbiAgICogVHJhbnNmb3JtIHRoZSBwcm9wZXJ0aWVzIG9mIHRoaXMgdHlwZSB0byBiaW5hcnkgYW5kIHdyaXRlIGl0IHRvIGFuXG4gICAqIEJpbmFyeUVuY29kZXIuXG4gICAqXG4gICAqIFRoaXMgaXMgY2FsbGVkIHdoZW4gdGhpcyBJdGVtIGlzIHNlbnQgdG8gYSByZW1vdGUgcGVlci5cbiAgICpcbiAgICogQHBhcmFtIHtVcGRhdGVFbmNvZGVyVjEgfCBVcGRhdGVFbmNvZGVyVjJ9IGVuY29kZXIgVGhlIGVuY29kZXIgdG8gd3JpdGUgZGF0YSB0by5cbiAgICovXG4gIF93cml0ZSAoZW5jb2Rlcikge1xuICAgIGVuY29kZXIud3JpdGVUeXBlUmVmKFlYbWxGcmFnbWVudFJlZklEKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7VXBkYXRlRGVjb2RlclYxIHwgVXBkYXRlRGVjb2RlclYyfSBkZWNvZGVyXG4gKiBAcmV0dXJuIHtZWG1sRnJhZ21lbnR9XG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvblxuICovXG5jb25zdCByZWFkWVhtbEZyYWdtZW50ID0gZGVjb2RlciA9PiBuZXcgWVhtbEZyYWdtZW50KCk7XG5cbi8qKlxuICogQW4gWVhtbEVsZW1lbnQgaW1pdGF0ZXMgdGhlIGJlaGF2aW9yIG9mIGFcbiAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRWxlbWVudHxEb20gRWxlbWVudH0uXG4gKlxuICogKiBBbiBZWG1sRWxlbWVudCBoYXMgYXR0cmlidXRlcyAoa2V5IHZhbHVlIHBhaXJzKVxuICogKiBBbiBZWG1sRWxlbWVudCBoYXMgY2hpbGRFbGVtZW50cyB0aGF0IG11c3QgaW5oZXJpdCBmcm9tIFlYbWxFbGVtZW50XG4gKi9cbmNsYXNzIFlYbWxFbGVtZW50IGV4dGVuZHMgWVhtbEZyYWdtZW50IHtcbiAgY29uc3RydWN0b3IgKG5vZGVOYW1lID0gJ1VOREVGSU5FRCcpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMubm9kZU5hbWUgPSBub2RlTmFtZTtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7TWFwPHN0cmluZywgYW55PnxudWxsfVxuICAgICAqL1xuICAgIHRoaXMuX3ByZWxpbUF0dHJzID0gbmV3IE1hcCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtZWG1sRWxlbWVudHxZWG1sVGV4dHxudWxsfVxuICAgKi9cbiAgZ2V0IG5leHRTaWJsaW5nICgpIHtcbiAgICBjb25zdCBuID0gdGhpcy5faXRlbSA/IHRoaXMuX2l0ZW0ubmV4dCA6IG51bGw7XG4gICAgcmV0dXJuIG4gPyAvKiogQHR5cGUge1lYbWxFbGVtZW50fFlYbWxUZXh0fSAqLyAoLyoqIEB0eXBlIHtDb250ZW50VHlwZX0gKi8gKG4uY29udGVudCkudHlwZSkgOiBudWxsXG4gIH1cblxuICAvKipcbiAgICogQHR5cGUge1lYbWxFbGVtZW50fFlYbWxUZXh0fG51bGx9XG4gICAqL1xuICBnZXQgcHJldlNpYmxpbmcgKCkge1xuICAgIGNvbnN0IG4gPSB0aGlzLl9pdGVtID8gdGhpcy5faXRlbS5wcmV2IDogbnVsbDtcbiAgICByZXR1cm4gbiA/IC8qKiBAdHlwZSB7WVhtbEVsZW1lbnR8WVhtbFRleHR9ICovICgvKiogQHR5cGUge0NvbnRlbnRUeXBlfSAqLyAobi5jb250ZW50KS50eXBlKSA6IG51bGxcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnRlZ3JhdGUgdGhpcyB0eXBlIGludG8gdGhlIFlqcyBpbnN0YW5jZS5cbiAgICpcbiAgICogKiBTYXZlIHRoaXMgc3RydWN0IGluIHRoZSBvc1xuICAgKiAqIFRoaXMgdHlwZSBpcyBzZW50IHRvIG90aGVyIGNsaWVudFxuICAgKiAqIE9ic2VydmVyIGZ1bmN0aW9ucyBhcmUgZmlyZWRcbiAgICpcbiAgICogQHBhcmFtIHtEb2N9IHkgVGhlIFlqcyBpbnN0YW5jZVxuICAgKiBAcGFyYW0ge0l0ZW19IGl0ZW1cbiAgICovXG4gIF9pbnRlZ3JhdGUgKHksIGl0ZW0pIHtcbiAgICBzdXBlci5faW50ZWdyYXRlKHksIGl0ZW0pXG4gICAgOygvKiogQHR5cGUge01hcDxzdHJpbmcsIGFueT59ICovICh0aGlzLl9wcmVsaW1BdHRycykpLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpO1xuICAgIH0pO1xuICAgIHRoaXMuX3ByZWxpbUF0dHJzID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIEl0ZW0gd2l0aCB0aGUgc2FtZSBlZmZlY3QgYXMgdGhpcyBJdGVtICh3aXRob3V0IHBvc2l0aW9uIGVmZmVjdClcbiAgICpcbiAgICogQHJldHVybiB7WVhtbEVsZW1lbnR9XG4gICAqL1xuICBfY29weSAoKSB7XG4gICAgcmV0dXJuIG5ldyBZWG1sRWxlbWVudCh0aGlzLm5vZGVOYW1lKVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge1lYbWxFbGVtZW50fVxuICAgKi9cbiAgY2xvbmUgKCkge1xuICAgIGNvbnN0IGVsID0gbmV3IFlYbWxFbGVtZW50KHRoaXMubm9kZU5hbWUpO1xuICAgIGNvbnN0IGF0dHJzID0gdGhpcy5nZXRBdHRyaWJ1dGVzKCk7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cnMpIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuICAgIH1cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgZWwuaW5zZXJ0KDAsIHRoaXMudG9BcnJheSgpLm1hcChpdGVtID0+IGl0ZW0gaW5zdGFuY2VvZiBBYnN0cmFjdFR5cGUgPyBpdGVtLmNsb25lKCkgOiBpdGVtKSk7XG4gICAgcmV0dXJuIGVsXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgWE1MIHNlcmlhbGl6YXRpb24gb2YgdGhpcyBZWG1sRWxlbWVudC5cbiAgICogVGhlIGF0dHJpYnV0ZXMgYXJlIG9yZGVyZWQgYnkgYXR0cmlidXRlLW5hbWUsIHNvIHlvdSBjYW4gZWFzaWx5IHVzZSB0aGlzXG4gICAqIG1ldGhvZCB0byBjb21wYXJlIFlYbWxFbGVtZW50c1xuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyB0eXBlLlxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICB0b1N0cmluZyAoKSB7XG4gICAgY29uc3QgYXR0cnMgPSB0aGlzLmdldEF0dHJpYnV0ZXMoKTtcbiAgICBjb25zdCBzdHJpbmdCdWlsZGVyID0gW107XG4gICAgY29uc3Qga2V5cyA9IFtdO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAga2V5cy5zb3J0KCk7XG4gICAgY29uc3Qga2V5c0xlbiA9IGtleXMubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5c0xlbjsgaSsrKSB7XG4gICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgICAgc3RyaW5nQnVpbGRlci5wdXNoKGtleSArICc9XCInICsgYXR0cnNba2V5XSArICdcIicpO1xuICAgIH1cbiAgICBjb25zdCBub2RlTmFtZSA9IHRoaXMubm9kZU5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICBjb25zdCBhdHRyc1N0cmluZyA9IHN0cmluZ0J1aWxkZXIubGVuZ3RoID4gMCA/ICcgJyArIHN0cmluZ0J1aWxkZXIuam9pbignICcpIDogJyc7XG4gICAgcmV0dXJuIGA8JHtub2RlTmFtZX0ke2F0dHJzU3RyaW5nfT4ke3N1cGVyLnRvU3RyaW5nKCl9PC8ke25vZGVOYW1lfT5gXG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbiBhdHRyaWJ1dGUgZnJvbSB0aGlzIFlYbWxFbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0cmlidXRlTmFtZSBUaGUgYXR0cmlidXRlIG5hbWUgdGhhdCBpcyB0byBiZSByZW1vdmVkLlxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICByZW1vdmVBdHRyaWJ1dGUgKGF0dHJpYnV0ZU5hbWUpIHtcbiAgICBpZiAodGhpcy5kb2MgIT09IG51bGwpIHtcbiAgICAgIHRyYW5zYWN0KHRoaXMuZG9jLCB0cmFuc2FjdGlvbiA9PiB7XG4gICAgICAgIHR5cGVNYXBEZWxldGUodHJhbnNhY3Rpb24sIHRoaXMsIGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qKiBAdHlwZSB7TWFwPHN0cmluZyxhbnk+fSAqLyAodGhpcy5fcHJlbGltQXR0cnMpLmRlbGV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBvciB1cGRhdGVzIGFuIGF0dHJpYnV0ZS5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGF0dHJpYnV0ZU5hbWUgVGhlIGF0dHJpYnV0ZSBuYW1lIHRoYXQgaXMgdG8gYmUgc2V0LlxuICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0cmlidXRlVmFsdWUgVGhlIGF0dHJpYnV0ZSB2YWx1ZSB0aGF0IGlzIHRvIGJlIHNldC5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgc2V0QXR0cmlidXRlIChhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVWYWx1ZSkge1xuICAgIGlmICh0aGlzLmRvYyAhPT0gbnVsbCkge1xuICAgICAgdHJhbnNhY3QodGhpcy5kb2MsIHRyYW5zYWN0aW9uID0+IHtcbiAgICAgICAgdHlwZU1hcFNldCh0cmFuc2FjdGlvbiwgdGhpcywgYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVmFsdWUpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qKiBAdHlwZSB7TWFwPHN0cmluZywgYW55Pn0gKi8gKHRoaXMuX3ByZWxpbUF0dHJzKS5zZXQoYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGF0dHJpYnV0ZSB2YWx1ZSB0aGF0IGJlbG9uZ3MgdG8gdGhlIGF0dHJpYnV0ZSBuYW1lLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0cmlidXRlTmFtZSBUaGUgYXR0cmlidXRlIG5hbWUgdGhhdCBpZGVudGlmaWVzIHRoZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyaWVkIHZhbHVlLlxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSBxdWVyaWVkIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgZ2V0QXR0cmlidXRlIChhdHRyaWJ1dGVOYW1lKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7YW55fSAqLyAodHlwZU1hcEdldCh0aGlzLCBhdHRyaWJ1dGVOYW1lKSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgYW4gYXR0cmlidXRlIGV4aXN0c1xuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0cmlidXRlTmFtZSBUaGUgYXR0cmlidXRlIG5hbWUgdG8gY2hlY2sgZm9yIGV4aXN0ZW5jZS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciB0aGUgYXR0cmlidXRlIGV4aXN0cy5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgaGFzQXR0cmlidXRlIChhdHRyaWJ1dGVOYW1lKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7YW55fSAqLyAodHlwZU1hcEhhcyh0aGlzLCBhdHRyaWJ1dGVOYW1lKSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFsbCBhdHRyaWJ1dGUgbmFtZS92YWx1ZSBwYWlycyBpbiBhIEpTT04gT2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0ge1NuYXBzaG90fSBbc25hcHNob3RdXG4gICAqIEByZXR1cm4ge09iamVjdDxzdHJpbmcsIGFueT59IEEgSlNPTiBPYmplY3QgdGhhdCBkZXNjcmliZXMgdGhlIGF0dHJpYnV0ZXMuXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGdldEF0dHJpYnV0ZXMgKHNuYXBzaG90KSB7XG4gICAgcmV0dXJuIHR5cGVNYXBHZXRBbGwodGhpcylcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgRG9tIEVsZW1lbnQgdGhhdCBtaXJyb3JzIHRoaXMgWVhtbEVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7RG9jdW1lbnR9IFtfZG9jdW1lbnQ9ZG9jdW1lbnRdIFRoZSBkb2N1bWVudCBvYmplY3QgKHlvdSBtdXN0IGRlZmluZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzIHdoZW4gY2FsbGluZyB0aGlzIG1ldGhvZCBpblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlanMpXG4gICAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgYW55Pn0gW2hvb2tzPXt9XSBPcHRpb25hbCBwcm9wZXJ0eSB0byBjdXN0b21pemUgaG93IGhvb2tzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJlIHByZXNlbnRlZCBpbiB0aGUgRE9NXG4gICAqIEBwYXJhbSB7YW55fSBbYmluZGluZ10gWW91IHNob3VsZCBub3Qgc2V0IHRoaXMgcHJvcGVydHkuIFRoaXMgaXNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlZCBpZiBEb21CaW5kaW5nIHdhbnRzIHRvIGNyZWF0ZSBhXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc29jaWF0aW9uIHRvIHRoZSBjcmVhdGVkIERPTSB0eXBlLlxuICAgKiBAcmV0dXJuIHtOb2RlfSBUaGUge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FbGVtZW50fERvbSBFbGVtZW50fVxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICB0b0RPTSAoX2RvY3VtZW50ID0gZG9jdW1lbnQsIGhvb2tzID0ge30sIGJpbmRpbmcpIHtcbiAgICBjb25zdCBkb20gPSBfZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0aGlzLm5vZGVOYW1lKTtcbiAgICBjb25zdCBhdHRycyA9IHRoaXMuZ2V0QXR0cmlidXRlcygpO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XG4gICAgICBkb20uc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG4gICAgfVxuICAgIHR5cGVMaXN0Rm9yRWFjaCh0aGlzLCB5eG1sID0+IHtcbiAgICAgIGRvbS5hcHBlbmRDaGlsZCh5eG1sLnRvRE9NKF9kb2N1bWVudCwgaG9va3MsIGJpbmRpbmcpKTtcbiAgICB9KTtcbiAgICBpZiAoYmluZGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBiaW5kaW5nLl9jcmVhdGVBc3NvY2lhdGlvbihkb20sIHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gZG9tXG4gIH1cblxuICAvKipcbiAgICogVHJhbnNmb3JtIHRoZSBwcm9wZXJ0aWVzIG9mIHRoaXMgdHlwZSB0byBiaW5hcnkgYW5kIHdyaXRlIGl0IHRvIGFuXG4gICAqIEJpbmFyeUVuY29kZXIuXG4gICAqXG4gICAqIFRoaXMgaXMgY2FsbGVkIHdoZW4gdGhpcyBJdGVtIGlzIHNlbnQgdG8gYSByZW1vdGUgcGVlci5cbiAgICpcbiAgICogQHBhcmFtIHtVcGRhdGVFbmNvZGVyVjEgfCBVcGRhdGVFbmNvZGVyVjJ9IGVuY29kZXIgVGhlIGVuY29kZXIgdG8gd3JpdGUgZGF0YSB0by5cbiAgICovXG4gIF93cml0ZSAoZW5jb2Rlcikge1xuICAgIGVuY29kZXIud3JpdGVUeXBlUmVmKFlYbWxFbGVtZW50UmVmSUQpO1xuICAgIGVuY29kZXIud3JpdGVLZXkodGhpcy5ub2RlTmFtZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge1VwZGF0ZURlY29kZXJWMSB8IFVwZGF0ZURlY29kZXJWMn0gZGVjb2RlclxuICogQHJldHVybiB7WVhtbEVsZW1lbnR9XG4gKlxuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IHJlYWRZWG1sRWxlbWVudCA9IGRlY29kZXIgPT4gbmV3IFlYbWxFbGVtZW50KGRlY29kZXIucmVhZEtleSgpKTtcblxuLyoqXG4gKiBAZXh0ZW5kcyBZRXZlbnQ8WVhtbEVsZW1lbnR8WVhtbFRleHR8WVhtbEZyYWdtZW50PlxuICogQW4gRXZlbnQgdGhhdCBkZXNjcmliZXMgY2hhbmdlcyBvbiBhIFlYbWwgRWxlbWVudCBvciBZeG1sIEZyYWdtZW50XG4gKi9cbmNsYXNzIFlYbWxFdmVudCBleHRlbmRzIFlFdmVudCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1lYbWxFbGVtZW50fFlYbWxUZXh0fFlYbWxGcmFnbWVudH0gdGFyZ2V0IFRoZSB0YXJnZXQgb24gd2hpY2ggdGhlIGV2ZW50IGlzIGNyZWF0ZWQuXG4gICAqIEBwYXJhbSB7U2V0PHN0cmluZ3xudWxsPn0gc3VicyBUaGUgc2V0IG9mIGNoYW5nZWQgYXR0cmlidXRlcy4gYG51bGxgIGlzIGluY2x1ZGVkIGlmIHRoZVxuICAgKiAgICAgICAgICAgICAgICAgICBjaGlsZCBsaXN0IGNoYW5nZWQuXG4gICAqIEBwYXJhbSB7VHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uIFRoZSB0cmFuc2FjdGlvbiBpbnN0YW5jZSB3aXRoIHdpY2ggdGhlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZSB3YXMgY3JlYXRlZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yICh0YXJnZXQsIHN1YnMsIHRyYW5zYWN0aW9uKSB7XG4gICAgc3VwZXIodGFyZ2V0LCB0cmFuc2FjdGlvbik7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgY2hpbGRyZW4gY2hhbmdlZC5cbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuY2hpbGRMaXN0Q2hhbmdlZCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFNldCBvZiBhbGwgY2hhbmdlZCBhdHRyaWJ1dGVzLlxuICAgICAqIEB0eXBlIHtTZXQ8c3RyaW5nPn1cbiAgICAgKi9cbiAgICB0aGlzLmF0dHJpYnV0ZXNDaGFuZ2VkID0gbmV3IFNldCgpO1xuICAgIHN1YnMuZm9yRWFjaCgoc3ViKSA9PiB7XG4gICAgICBpZiAoc3ViID09PSBudWxsKSB7XG4gICAgICAgIHRoaXMuY2hpbGRMaXN0Q2hhbmdlZCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXNDaGFuZ2VkLmFkZChzdWIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogWW91IGNhbiBtYW5hZ2UgYmluZGluZyB0byBhIGN1c3RvbSB0eXBlIHdpdGggWVhtbEhvb2suXG4gKlxuICogQGV4dGVuZHMge1lNYXA8YW55Pn1cbiAqL1xuY2xhc3MgWVhtbEhvb2sgZXh0ZW5kcyBZTWFwIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBob29rTmFtZSBub2RlTmFtZSBvZiB0aGUgRG9tIE5vZGUuXG4gICAqL1xuICBjb25zdHJ1Y3RvciAoaG9va05hbWUpIHtcbiAgICBzdXBlcigpO1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5ob29rTmFtZSA9IGhvb2tOYW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gSXRlbSB3aXRoIHRoZSBzYW1lIGVmZmVjdCBhcyB0aGlzIEl0ZW0gKHdpdGhvdXQgcG9zaXRpb24gZWZmZWN0KVxuICAgKi9cbiAgX2NvcHkgKCkge1xuICAgIHJldHVybiBuZXcgWVhtbEhvb2sodGhpcy5ob29rTmFtZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtZWG1sSG9va31cbiAgICovXG4gIGNsb25lICgpIHtcbiAgICBjb25zdCBlbCA9IG5ldyBZWG1sSG9vayh0aGlzLmhvb2tOYW1lKTtcbiAgICB0aGlzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgIGVsLnNldChrZXksIHZhbHVlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZWxcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgRG9tIEVsZW1lbnQgdGhhdCBtaXJyb3JzIHRoaXMgWVhtbEVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7RG9jdW1lbnR9IFtfZG9jdW1lbnQ9ZG9jdW1lbnRdIFRoZSBkb2N1bWVudCBvYmplY3QgKHlvdSBtdXN0IGRlZmluZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzIHdoZW4gY2FsbGluZyB0aGlzIG1ldGhvZCBpblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlanMpXG4gICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIGFueT59IFtob29rc10gT3B0aW9uYWwgcHJvcGVydHkgdG8gY3VzdG9taXplIGhvdyBob29rc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZSBwcmVzZW50ZWQgaW4gdGhlIERPTVxuICAgKiBAcGFyYW0ge2FueX0gW2JpbmRpbmddIFlvdSBzaG91bGQgbm90IHNldCB0aGlzIHByb3BlcnR5LiBUaGlzIGlzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZWQgaWYgRG9tQmluZGluZyB3YW50cyB0byBjcmVhdGUgYVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NvY2lhdGlvbiB0byB0aGUgY3JlYXRlZCBET00gdHlwZVxuICAgKiBAcmV0dXJuIHtFbGVtZW50fSBUaGUge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FbGVtZW50fERvbSBFbGVtZW50fVxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICB0b0RPTSAoX2RvY3VtZW50ID0gZG9jdW1lbnQsIGhvb2tzID0ge30sIGJpbmRpbmcpIHtcbiAgICBjb25zdCBob29rID0gaG9va3NbdGhpcy5ob29rTmFtZV07XG4gICAgbGV0IGRvbTtcbiAgICBpZiAoaG9vayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBkb20gPSBob29rLmNyZWF0ZURvbSh0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0aGlzLmhvb2tOYW1lKTtcbiAgICB9XG4gICAgZG9tLnNldEF0dHJpYnV0ZSgnZGF0YS15anMtaG9vaycsIHRoaXMuaG9va05hbWUpO1xuICAgIGlmIChiaW5kaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGJpbmRpbmcuX2NyZWF0ZUFzc29jaWF0aW9uKGRvbSwgdGhpcyk7XG4gICAgfVxuICAgIHJldHVybiBkb21cbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc2Zvcm0gdGhlIHByb3BlcnRpZXMgb2YgdGhpcyB0eXBlIHRvIGJpbmFyeSBhbmQgd3JpdGUgaXQgdG8gYW5cbiAgICogQmluYXJ5RW5jb2Rlci5cbiAgICpcbiAgICogVGhpcyBpcyBjYWxsZWQgd2hlbiB0aGlzIEl0ZW0gaXMgc2VudCB0byBhIHJlbW90ZSBwZWVyLlxuICAgKlxuICAgKiBAcGFyYW0ge1VwZGF0ZUVuY29kZXJWMSB8IFVwZGF0ZUVuY29kZXJWMn0gZW5jb2RlciBUaGUgZW5jb2RlciB0byB3cml0ZSBkYXRhIHRvLlxuICAgKi9cbiAgX3dyaXRlIChlbmNvZGVyKSB7XG4gICAgZW5jb2Rlci53cml0ZVR5cGVSZWYoWVhtbEhvb2tSZWZJRCk7XG4gICAgZW5jb2Rlci53cml0ZUtleSh0aGlzLmhvb2tOYW1lKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7VXBkYXRlRGVjb2RlclYxIHwgVXBkYXRlRGVjb2RlclYyfSBkZWNvZGVyXG4gKiBAcmV0dXJuIHtZWG1sSG9va31cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uXG4gKi9cbmNvbnN0IHJlYWRZWG1sSG9vayA9IGRlY29kZXIgPT5cbiAgbmV3IFlYbWxIb29rKGRlY29kZXIucmVhZEtleSgpKTtcblxuLyoqXG4gKiBSZXByZXNlbnRzIHRleHQgaW4gYSBEb20gRWxlbWVudC4gSW4gdGhlIGZ1dHVyZSB0aGlzIHR5cGUgd2lsbCBhbHNvIGhhbmRsZVxuICogc2ltcGxlIGZvcm1hdHRpbmcgaW5mb3JtYXRpb24gbGlrZSBib2xkIGFuZCBpdGFsaWMuXG4gKi9cbmNsYXNzIFlYbWxUZXh0IGV4dGVuZHMgWVRleHQge1xuICAvKipcbiAgICogQHR5cGUge1lYbWxFbGVtZW50fFlYbWxUZXh0fG51bGx9XG4gICAqL1xuICBnZXQgbmV4dFNpYmxpbmcgKCkge1xuICAgIGNvbnN0IG4gPSB0aGlzLl9pdGVtID8gdGhpcy5faXRlbS5uZXh0IDogbnVsbDtcbiAgICByZXR1cm4gbiA/IC8qKiBAdHlwZSB7WVhtbEVsZW1lbnR8WVhtbFRleHR9ICovICgvKiogQHR5cGUge0NvbnRlbnRUeXBlfSAqLyAobi5jb250ZW50KS50eXBlKSA6IG51bGxcbiAgfVxuXG4gIC8qKlxuICAgKiBAdHlwZSB7WVhtbEVsZW1lbnR8WVhtbFRleHR8bnVsbH1cbiAgICovXG4gIGdldCBwcmV2U2libGluZyAoKSB7XG4gICAgY29uc3QgbiA9IHRoaXMuX2l0ZW0gPyB0aGlzLl9pdGVtLnByZXYgOiBudWxsO1xuICAgIHJldHVybiBuID8gLyoqIEB0eXBlIHtZWG1sRWxlbWVudHxZWG1sVGV4dH0gKi8gKC8qKiBAdHlwZSB7Q29udGVudFR5cGV9ICovIChuLmNvbnRlbnQpLnR5cGUpIDogbnVsbFxuICB9XG5cbiAgX2NvcHkgKCkge1xuICAgIHJldHVybiBuZXcgWVhtbFRleHQoKVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge1lYbWxUZXh0fVxuICAgKi9cbiAgY2xvbmUgKCkge1xuICAgIGNvbnN0IHRleHQgPSBuZXcgWVhtbFRleHQoKTtcbiAgICB0ZXh0LmFwcGx5RGVsdGEodGhpcy50b0RlbHRhKCkpO1xuICAgIHJldHVybiB0ZXh0XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIERvbSBFbGVtZW50IHRoYXQgbWlycm9ycyB0aGlzIFlYbWxUZXh0LlxuICAgKlxuICAgKiBAcGFyYW0ge0RvY3VtZW50fSBbX2RvY3VtZW50PWRvY3VtZW50XSBUaGUgZG9jdW1lbnQgb2JqZWN0ICh5b3UgbXVzdCBkZWZpbmVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyB3aGVuIGNhbGxpbmcgdGhpcyBtZXRob2QgaW5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZWpzKVxuICAgKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsIGFueT59IFtob29rc10gT3B0aW9uYWwgcHJvcGVydHkgdG8gY3VzdG9taXplIGhvdyBob29rc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZSBwcmVzZW50ZWQgaW4gdGhlIERPTVxuICAgKiBAcGFyYW0ge2FueX0gW2JpbmRpbmddIFlvdSBzaG91bGQgbm90IHNldCB0aGlzIHByb3BlcnR5LiBUaGlzIGlzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZWQgaWYgRG9tQmluZGluZyB3YW50cyB0byBjcmVhdGUgYVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NvY2lhdGlvbiB0byB0aGUgY3JlYXRlZCBET00gdHlwZS5cbiAgICogQHJldHVybiB7VGV4dH0gVGhlIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRWxlbWVudHxEb20gRWxlbWVudH1cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgdG9ET00gKF9kb2N1bWVudCA9IGRvY3VtZW50LCBob29rcywgYmluZGluZykge1xuICAgIGNvbnN0IGRvbSA9IF9kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLnRvU3RyaW5nKCkpO1xuICAgIGlmIChiaW5kaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGJpbmRpbmcuX2NyZWF0ZUFzc29jaWF0aW9uKGRvbSwgdGhpcyk7XG4gICAgfVxuICAgIHJldHVybiBkb21cbiAgfVxuXG4gIHRvU3RyaW5nICgpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcmV0dXJuIHRoaXMudG9EZWx0YSgpLm1hcChkZWx0YSA9PiB7XG4gICAgICBjb25zdCBuZXN0ZWROb2RlcyA9IFtdO1xuICAgICAgZm9yIChjb25zdCBub2RlTmFtZSBpbiBkZWx0YS5hdHRyaWJ1dGVzKSB7XG4gICAgICAgIGNvbnN0IGF0dHJzID0gW107XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRlbHRhLmF0dHJpYnV0ZXNbbm9kZU5hbWVdKSB7XG4gICAgICAgICAgYXR0cnMucHVzaCh7IGtleSwgdmFsdWU6IGRlbHRhLmF0dHJpYnV0ZXNbbm9kZU5hbWVdW2tleV0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc29ydCBhdHRyaWJ1dGVzIHRvIGdldCBhIHVuaXF1ZSBvcmRlclxuICAgICAgICBhdHRycy5zb3J0KChhLCBiKSA9PiBhLmtleSA8IGIua2V5ID8gLTEgOiAxKTtcbiAgICAgICAgbmVzdGVkTm9kZXMucHVzaCh7IG5vZGVOYW1lLCBhdHRycyB9KTtcbiAgICAgIH1cbiAgICAgIC8vIHNvcnQgbm9kZSBvcmRlciB0byBnZXQgYSB1bmlxdWUgb3JkZXJcbiAgICAgIG5lc3RlZE5vZGVzLnNvcnQoKGEsIGIpID0+IGEubm9kZU5hbWUgPCBiLm5vZGVOYW1lID8gLTEgOiAxKTtcbiAgICAgIC8vIG5vdyBjb252ZXJ0IHRvIGRvbSBzdHJpbmdcbiAgICAgIGxldCBzdHIgPSAnJztcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmVzdGVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IG5lc3RlZE5vZGVzW2ldO1xuICAgICAgICBzdHIgKz0gYDwke25vZGUubm9kZU5hbWV9YDtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBub2RlLmF0dHJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgY29uc3QgYXR0ciA9IG5vZGUuYXR0cnNbal07XG4gICAgICAgICAgc3RyICs9IGAgJHthdHRyLmtleX09XCIke2F0dHIudmFsdWV9XCJgO1xuICAgICAgICB9XG4gICAgICAgIHN0ciArPSAnPic7XG4gICAgICB9XG4gICAgICBzdHIgKz0gZGVsdGEuaW5zZXJ0O1xuICAgICAgZm9yIChsZXQgaSA9IG5lc3RlZE5vZGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIHN0ciArPSBgPC8ke25lc3RlZE5vZGVzW2ldLm5vZGVOYW1lfT5gO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0clxuICAgIH0pLmpvaW4oJycpXG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgdG9KU09OICgpIHtcbiAgICByZXR1cm4gdGhpcy50b1N0cmluZygpXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtVcGRhdGVFbmNvZGVyVjEgfCBVcGRhdGVFbmNvZGVyVjJ9IGVuY29kZXJcbiAgICovXG4gIF93cml0ZSAoZW5jb2Rlcikge1xuICAgIGVuY29kZXIud3JpdGVUeXBlUmVmKFlYbWxUZXh0UmVmSUQpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtVcGRhdGVEZWNvZGVyVjEgfCBVcGRhdGVEZWNvZGVyVjJ9IGRlY29kZXJcbiAqIEByZXR1cm4ge1lYbWxUZXh0fVxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb25cbiAqL1xuY29uc3QgcmVhZFlYbWxUZXh0ID0gZGVjb2RlciA9PiBuZXcgWVhtbFRleHQoKTtcblxuY2xhc3MgQWJzdHJhY3RTdHJ1Y3Qge1xuICAvKipcbiAgICogQHBhcmFtIHtJRH0gaWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aFxuICAgKi9cbiAgY29uc3RydWN0b3IgKGlkLCBsZW5ndGgpIHtcbiAgICB0aGlzLmlkID0gaWQ7XG4gICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgZGVsZXRlZCAoKSB7XG4gICAgdGhyb3cgZXJyb3IubWV0aG9kVW5pbXBsZW1lbnRlZCgpXG4gIH1cblxuICAvKipcbiAgICogTWVyZ2UgdGhpcyBzdHJ1Y3Qgd2l0aCB0aGUgaXRlbSB0byB0aGUgcmlnaHQuXG4gICAqIFRoaXMgbWV0aG9kIGlzIGFscmVhZHkgYXNzdW1pbmcgdGhhdCBgdGhpcy5pZC5jbG9jayArIHRoaXMubGVuZ3RoID09PSB0aGlzLmlkLmNsb2NrYC5cbiAgICogQWxzbyB0aGlzIG1ldGhvZCBkb2VzICpub3QqIHJlbW92ZSByaWdodCBmcm9tIFN0cnVjdFN0b3JlIVxuICAgKiBAcGFyYW0ge0Fic3RyYWN0U3RydWN0fSByaWdodFxuICAgKiBAcmV0dXJuIHtib29sZWFufSB3ZXRoZXIgdGhpcyBtZXJnZWQgd2l0aCByaWdodFxuICAgKi9cbiAgbWVyZ2VXaXRoIChyaWdodCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VXBkYXRlRW5jb2RlclYxIHwgVXBkYXRlRW5jb2RlclYyfSBlbmNvZGVyIFRoZSBlbmNvZGVyIHRvIHdyaXRlIGRhdGEgdG8uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRcbiAgICogQHBhcmFtIHtudW1iZXJ9IGVuY29kaW5nUmVmXG4gICAqL1xuICB3cml0ZSAoZW5jb2Rlciwgb2Zmc2V0LCBlbmNvZGluZ1JlZikge1xuICAgIHRocm93IGVycm9yLm1ldGhvZFVuaW1wbGVtZW50ZWQoKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRcbiAgICovXG4gIGludGVncmF0ZSAodHJhbnNhY3Rpb24sIG9mZnNldCkge1xuICAgIHRocm93IGVycm9yLm1ldGhvZFVuaW1wbGVtZW50ZWQoKVxuICB9XG59XG5cbmNvbnN0IHN0cnVjdEdDUmVmTnVtYmVyID0gMDtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBHQyBleHRlbmRzIEFic3RyYWN0U3RydWN0IHtcbiAgZ2V0IGRlbGV0ZWQgKCkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBkZWxldGUgKCkge31cblxuICAvKipcbiAgICogQHBhcmFtIHtHQ30gcmlnaHRcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIG1lcmdlV2l0aCAocmlnaHQpIHtcbiAgICBpZiAodGhpcy5jb25zdHJ1Y3RvciAhPT0gcmlnaHQuY29uc3RydWN0b3IpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICB0aGlzLmxlbmd0aCArPSByaWdodC5sZW5ndGg7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0XG4gICAqL1xuICBpbnRlZ3JhdGUgKHRyYW5zYWN0aW9uLCBvZmZzZXQpIHtcbiAgICBpZiAob2Zmc2V0ID4gMCkge1xuICAgICAgdGhpcy5pZC5jbG9jayArPSBvZmZzZXQ7XG4gICAgICB0aGlzLmxlbmd0aCAtPSBvZmZzZXQ7XG4gICAgfVxuICAgIGFkZFN0cnVjdCh0cmFuc2FjdGlvbi5kb2Muc3RvcmUsIHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VXBkYXRlRW5jb2RlclYxIHwgVXBkYXRlRW5jb2RlclYyfSBlbmNvZGVyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRcbiAgICovXG4gIHdyaXRlIChlbmNvZGVyLCBvZmZzZXQpIHtcbiAgICBlbmNvZGVyLndyaXRlSW5mbyhzdHJ1Y3RHQ1JlZk51bWJlcik7XG4gICAgZW5jb2Rlci53cml0ZUxlbih0aGlzLmxlbmd0aCAtIG9mZnNldCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAgICogQHBhcmFtIHtTdHJ1Y3RTdG9yZX0gc3RvcmVcbiAgICogQHJldHVybiB7bnVsbCB8IG51bWJlcn1cbiAgICovXG4gIGdldE1pc3NpbmcgKHRyYW5zYWN0aW9uLCBzdG9yZSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuY2xhc3MgQ29udGVudEJpbmFyeSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGNvbnRlbnRcbiAgICovXG4gIGNvbnN0cnVjdG9yIChjb250ZW50KSB7XG4gICAgdGhpcy5jb250ZW50ID0gY29udGVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqL1xuICBnZXRMZW5ndGggKCkge1xuICAgIHJldHVybiAxXG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7QXJyYXk8YW55Pn1cbiAgICovXG4gIGdldENvbnRlbnQgKCkge1xuICAgIHJldHVybiBbdGhpcy5jb250ZW50XVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBpc0NvdW50YWJsZSAoKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtDb250ZW50QmluYXJ5fVxuICAgKi9cbiAgY29weSAoKSB7XG4gICAgcmV0dXJuIG5ldyBDb250ZW50QmluYXJ5KHRoaXMuY29udGVudClcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0XG4gICAqIEByZXR1cm4ge0NvbnRlbnRCaW5hcnl9XG4gICAqL1xuICBzcGxpY2UgKG9mZnNldCkge1xuICAgIHRocm93IGVycm9yLm1ldGhvZFVuaW1wbGVtZW50ZWQoKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q29udGVudEJpbmFyeX0gcmlnaHRcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIG1lcmdlV2l0aCAocmlnaHQpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKiBAcGFyYW0ge0l0ZW19IGl0ZW1cbiAgICovXG4gIGludGVncmF0ZSAodHJhbnNhY3Rpb24sIGl0ZW0pIHt9XG4gIC8qKlxuICAgKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKi9cbiAgZGVsZXRlICh0cmFuc2FjdGlvbikge31cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3RydWN0U3RvcmV9IHN0b3JlXG4gICAqL1xuICBnYyAoc3RvcmUpIHt9XG4gIC8qKlxuICAgKiBAcGFyYW0ge1VwZGF0ZUVuY29kZXJWMSB8IFVwZGF0ZUVuY29kZXJWMn0gZW5jb2RlclxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0XG4gICAqL1xuICB3cml0ZSAoZW5jb2Rlciwgb2Zmc2V0KSB7XG4gICAgZW5jb2Rlci53cml0ZUJ1Zih0aGlzLmNvbnRlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIGdldFJlZiAoKSB7XG4gICAgcmV0dXJuIDNcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7VXBkYXRlRGVjb2RlclYxIHwgVXBkYXRlRGVjb2RlclYyIH0gZGVjb2RlclxuICogQHJldHVybiB7Q29udGVudEJpbmFyeX1cbiAqL1xuY29uc3QgcmVhZENvbnRlbnRCaW5hcnkgPSBkZWNvZGVyID0+IG5ldyBDb250ZW50QmluYXJ5KGRlY29kZXIucmVhZEJ1ZigpKTtcblxuY2xhc3MgQ29udGVudERlbGV0ZWQge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGxlblxuICAgKi9cbiAgY29uc3RydWN0b3IgKGxlbikge1xuICAgIHRoaXMubGVuID0gbGVuO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIGdldExlbmd0aCAoKSB7XG4gICAgcmV0dXJuIHRoaXMubGVuXG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7QXJyYXk8YW55Pn1cbiAgICovXG4gIGdldENvbnRlbnQgKCkge1xuICAgIHJldHVybiBbXVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBpc0NvdW50YWJsZSAoKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Q29udGVudERlbGV0ZWR9XG4gICAqL1xuICBjb3B5ICgpIHtcbiAgICByZXR1cm4gbmV3IENvbnRlbnREZWxldGVkKHRoaXMubGVuKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRcbiAgICogQHJldHVybiB7Q29udGVudERlbGV0ZWR9XG4gICAqL1xuICBzcGxpY2UgKG9mZnNldCkge1xuICAgIGNvbnN0IHJpZ2h0ID0gbmV3IENvbnRlbnREZWxldGVkKHRoaXMubGVuIC0gb2Zmc2V0KTtcbiAgICB0aGlzLmxlbiA9IG9mZnNldDtcbiAgICByZXR1cm4gcmlnaHRcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0NvbnRlbnREZWxldGVkfSByaWdodFxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgbWVyZ2VXaXRoIChyaWdodCkge1xuICAgIHRoaXMubGVuICs9IHJpZ2h0LmxlbjtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gICAqIEBwYXJhbSB7SXRlbX0gaXRlbVxuICAgKi9cbiAgaW50ZWdyYXRlICh0cmFuc2FjdGlvbiwgaXRlbSkge1xuICAgIGFkZFRvRGVsZXRlU2V0KHRyYW5zYWN0aW9uLmRlbGV0ZVNldCwgaXRlbS5pZC5jbGllbnQsIGl0ZW0uaWQuY2xvY2ssIHRoaXMubGVuKTtcbiAgICBpdGVtLm1hcmtEZWxldGVkKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAgICovXG4gIGRlbGV0ZSAodHJhbnNhY3Rpb24pIHt9XG4gIC8qKlxuICAgKiBAcGFyYW0ge1N0cnVjdFN0b3JlfSBzdG9yZVxuICAgKi9cbiAgZ2MgKHN0b3JlKSB7fVxuICAvKipcbiAgICogQHBhcmFtIHtVcGRhdGVFbmNvZGVyVjEgfCBVcGRhdGVFbmNvZGVyVjJ9IGVuY29kZXJcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldFxuICAgKi9cbiAgd3JpdGUgKGVuY29kZXIsIG9mZnNldCkge1xuICAgIGVuY29kZXIud3JpdGVMZW4odGhpcy5sZW4gLSBvZmZzZXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIGdldFJlZiAoKSB7XG4gICAgcmV0dXJuIDFcbiAgfVxufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtIHtVcGRhdGVEZWNvZGVyVjEgfCBVcGRhdGVEZWNvZGVyVjIgfSBkZWNvZGVyXG4gKiBAcmV0dXJuIHtDb250ZW50RGVsZXRlZH1cbiAqL1xuY29uc3QgcmVhZENvbnRlbnREZWxldGVkID0gZGVjb2RlciA9PiBuZXcgQ29udGVudERlbGV0ZWQoZGVjb2Rlci5yZWFkTGVuKCkpO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBndWlkXG4gKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsIGFueT59IG9wdHNcbiAqL1xuY29uc3QgY3JlYXRlRG9jRnJvbU9wdHMgPSAoZ3VpZCwgb3B0cykgPT4gbmV3IERvYyh7IGd1aWQsIC4uLm9wdHMsIHNob3VsZExvYWQ6IG9wdHMuc2hvdWxkTG9hZCB8fCBvcHRzLmF1dG9Mb2FkIHx8IGZhbHNlIH0pO1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIENvbnRlbnREb2Mge1xuICAvKipcbiAgICogQHBhcmFtIHtEb2N9IGRvY1xuICAgKi9cbiAgY29uc3RydWN0b3IgKGRvYykge1xuICAgIGlmIChkb2MuX2l0ZW0pIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1RoaXMgZG9jdW1lbnQgd2FzIGFscmVhZHkgaW50ZWdyYXRlZCBhcyBhIHN1Yi1kb2N1bWVudC4gWW91IHNob3VsZCBjcmVhdGUgYSBzZWNvbmQgaW5zdGFuY2UgaW5zdGVhZCB3aXRoIHRoZSBzYW1lIGd1aWQuJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtEb2N9XG4gICAgICovXG4gICAgdGhpcy5kb2MgPSBkb2M7XG4gICAgLyoqXG4gICAgICogQHR5cGUge2FueX1cbiAgICAgKi9cbiAgICBjb25zdCBvcHRzID0ge307XG4gICAgdGhpcy5vcHRzID0gb3B0cztcbiAgICBpZiAoIWRvYy5nYykge1xuICAgICAgb3B0cy5nYyA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZG9jLmF1dG9Mb2FkKSB7XG4gICAgICBvcHRzLmF1dG9Mb2FkID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGRvYy5tZXRhICE9PSBudWxsKSB7XG4gICAgICBvcHRzLm1ldGEgPSBkb2MubWV0YTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0TGVuZ3RoICgpIHtcbiAgICByZXR1cm4gMVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0FycmF5PGFueT59XG4gICAqL1xuICBnZXRDb250ZW50ICgpIHtcbiAgICByZXR1cm4gW3RoaXMuZG9jXVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBpc0NvdW50YWJsZSAoKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtDb250ZW50RG9jfVxuICAgKi9cbiAgY29weSAoKSB7XG4gICAgcmV0dXJuIG5ldyBDb250ZW50RG9jKGNyZWF0ZURvY0Zyb21PcHRzKHRoaXMuZG9jLmd1aWQsIHRoaXMub3B0cykpXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldFxuICAgKiBAcmV0dXJuIHtDb250ZW50RG9jfVxuICAgKi9cbiAgc3BsaWNlIChvZmZzZXQpIHtcbiAgICB0aHJvdyBlcnJvci5tZXRob2RVbmltcGxlbWVudGVkKClcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0NvbnRlbnREb2N9IHJpZ2h0XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBtZXJnZVdpdGggKHJpZ2h0KSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAgICogQHBhcmFtIHtJdGVtfSBpdGVtXG4gICAqL1xuICBpbnRlZ3JhdGUgKHRyYW5zYWN0aW9uLCBpdGVtKSB7XG4gICAgLy8gdGhpcyBuZWVkcyB0byBiZSByZWZsZWN0ZWQgaW4gZG9jLmRlc3Ryb3kgYXMgd2VsbFxuICAgIHRoaXMuZG9jLl9pdGVtID0gaXRlbTtcbiAgICB0cmFuc2FjdGlvbi5zdWJkb2NzQWRkZWQuYWRkKHRoaXMuZG9jKTtcbiAgICBpZiAodGhpcy5kb2Muc2hvdWxkTG9hZCkge1xuICAgICAgdHJhbnNhY3Rpb24uc3ViZG9jc0xvYWRlZC5hZGQodGhpcy5kb2MpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKi9cbiAgZGVsZXRlICh0cmFuc2FjdGlvbikge1xuICAgIGlmICh0cmFuc2FjdGlvbi5zdWJkb2NzQWRkZWQuaGFzKHRoaXMuZG9jKSkge1xuICAgICAgdHJhbnNhY3Rpb24uc3ViZG9jc0FkZGVkLmRlbGV0ZSh0aGlzLmRvYyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYW5zYWN0aW9uLnN1YmRvY3NSZW1vdmVkLmFkZCh0aGlzLmRvYyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3RydWN0U3RvcmV9IHN0b3JlXG4gICAqL1xuICBnYyAoc3RvcmUpIHsgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1VwZGF0ZUVuY29kZXJWMSB8IFVwZGF0ZUVuY29kZXJWMn0gZW5jb2RlclxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0XG4gICAqL1xuICB3cml0ZSAoZW5jb2Rlciwgb2Zmc2V0KSB7XG4gICAgZW5jb2Rlci53cml0ZVN0cmluZyh0aGlzLmRvYy5ndWlkKTtcbiAgICBlbmNvZGVyLndyaXRlQW55KHRoaXMub3B0cyk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0UmVmICgpIHtcbiAgICByZXR1cm4gOVxuICB9XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0ge1VwZGF0ZURlY29kZXJWMSB8IFVwZGF0ZURlY29kZXJWMn0gZGVjb2RlclxuICogQHJldHVybiB7Q29udGVudERvY31cbiAqL1xuY29uc3QgcmVhZENvbnRlbnREb2MgPSBkZWNvZGVyID0+IG5ldyBDb250ZW50RG9jKGNyZWF0ZURvY0Zyb21PcHRzKGRlY29kZXIucmVhZFN0cmluZygpLCBkZWNvZGVyLnJlYWRBbnkoKSkpO1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIENvbnRlbnRFbWJlZCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0gZW1iZWRcbiAgICovXG4gIGNvbnN0cnVjdG9yIChlbWJlZCkge1xuICAgIHRoaXMuZW1iZWQgPSBlbWJlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqL1xuICBnZXRMZW5ndGggKCkge1xuICAgIHJldHVybiAxXG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7QXJyYXk8YW55Pn1cbiAgICovXG4gIGdldENvbnRlbnQgKCkge1xuICAgIHJldHVybiBbdGhpcy5lbWJlZF1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgaXNDb3VudGFibGUgKCkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Q29udGVudEVtYmVkfVxuICAgKi9cbiAgY29weSAoKSB7XG4gICAgcmV0dXJuIG5ldyBDb250ZW50RW1iZWQodGhpcy5lbWJlZClcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0XG4gICAqIEByZXR1cm4ge0NvbnRlbnRFbWJlZH1cbiAgICovXG4gIHNwbGljZSAob2Zmc2V0KSB7XG4gICAgdGhyb3cgZXJyb3IubWV0aG9kVW5pbXBsZW1lbnRlZCgpXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtDb250ZW50RW1iZWR9IHJpZ2h0XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBtZXJnZVdpdGggKHJpZ2h0KSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAgICogQHBhcmFtIHtJdGVtfSBpdGVtXG4gICAqL1xuICBpbnRlZ3JhdGUgKHRyYW5zYWN0aW9uLCBpdGVtKSB7fVxuICAvKipcbiAgICogQHBhcmFtIHtUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAgICovXG4gIGRlbGV0ZSAodHJhbnNhY3Rpb24pIHt9XG4gIC8qKlxuICAgKiBAcGFyYW0ge1N0cnVjdFN0b3JlfSBzdG9yZVxuICAgKi9cbiAgZ2MgKHN0b3JlKSB7fVxuICAvKipcbiAgICogQHBhcmFtIHtVcGRhdGVFbmNvZGVyVjEgfCBVcGRhdGVFbmNvZGVyVjJ9IGVuY29kZXJcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldFxuICAgKi9cbiAgd3JpdGUgKGVuY29kZXIsIG9mZnNldCkge1xuICAgIGVuY29kZXIud3JpdGVKU09OKHRoaXMuZW1iZWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIGdldFJlZiAoKSB7XG4gICAgcmV0dXJuIDVcbiAgfVxufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtIHtVcGRhdGVEZWNvZGVyVjEgfCBVcGRhdGVEZWNvZGVyVjJ9IGRlY29kZXJcbiAqIEByZXR1cm4ge0NvbnRlbnRFbWJlZH1cbiAqL1xuY29uc3QgcmVhZENvbnRlbnRFbWJlZCA9IGRlY29kZXIgPT4gbmV3IENvbnRlbnRFbWJlZChkZWNvZGVyLnJlYWRKU09OKCkpO1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIENvbnRlbnRGb3JtYXQge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcbiAgICovXG4gIGNvbnN0cnVjdG9yIChrZXksIHZhbHVlKSB7XG4gICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIGdldExlbmd0aCAoKSB7XG4gICAgcmV0dXJuIDFcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtBcnJheTxhbnk+fVxuICAgKi9cbiAgZ2V0Q29udGVudCAoKSB7XG4gICAgcmV0dXJuIFtdXG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGlzQ291bnRhYmxlICgpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtDb250ZW50Rm9ybWF0fVxuICAgKi9cbiAgY29weSAoKSB7XG4gICAgcmV0dXJuIG5ldyBDb250ZW50Rm9ybWF0KHRoaXMua2V5LCB0aGlzLnZhbHVlKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRcbiAgICogQHJldHVybiB7Q29udGVudEZvcm1hdH1cbiAgICovXG4gIHNwbGljZSAob2Zmc2V0KSB7XG4gICAgdGhyb3cgZXJyb3IubWV0aG9kVW5pbXBsZW1lbnRlZCgpXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtDb250ZW50Rm9ybWF0fSByaWdodFxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgbWVyZ2VXaXRoIChyaWdodCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gICAqIEBwYXJhbSB7SXRlbX0gaXRlbVxuICAgKi9cbiAgaW50ZWdyYXRlICh0cmFuc2FjdGlvbiwgaXRlbSkge1xuICAgIC8vIEB0b2RvIHNlYXJjaG1hcmtlciBhcmUgY3VycmVudGx5IHVuc3VwcG9ydGVkIGZvciByaWNoIHRleHQgZG9jdW1lbnRzXG4gICAgLyoqIEB0eXBlIHtBYnN0cmFjdFR5cGU8YW55Pn0gKi8gKGl0ZW0ucGFyZW50KS5fc2VhcmNoTWFya2VyID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKi9cbiAgZGVsZXRlICh0cmFuc2FjdGlvbikge31cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3RydWN0U3RvcmV9IHN0b3JlXG4gICAqL1xuICBnYyAoc3RvcmUpIHt9XG4gIC8qKlxuICAgKiBAcGFyYW0ge1VwZGF0ZUVuY29kZXJWMSB8IFVwZGF0ZUVuY29kZXJWMn0gZW5jb2RlclxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0XG4gICAqL1xuICB3cml0ZSAoZW5jb2Rlciwgb2Zmc2V0KSB7XG4gICAgZW5jb2Rlci53cml0ZUtleSh0aGlzLmtleSk7XG4gICAgZW5jb2Rlci53cml0ZUpTT04odGhpcy52YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0UmVmICgpIHtcbiAgICByZXR1cm4gNlxuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtVcGRhdGVEZWNvZGVyVjEgfCBVcGRhdGVEZWNvZGVyVjJ9IGRlY29kZXJcbiAqIEByZXR1cm4ge0NvbnRlbnRGb3JtYXR9XG4gKi9cbmNvbnN0IHJlYWRDb250ZW50Rm9ybWF0ID0gZGVjb2RlciA9PiBuZXcgQ29udGVudEZvcm1hdChkZWNvZGVyLnJlYWRLZXkoKSwgZGVjb2Rlci5yZWFkSlNPTigpKTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBDb250ZW50SlNPTiB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PGFueT59IGFyclxuICAgKi9cbiAgY29uc3RydWN0b3IgKGFycikge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheTxhbnk+fVxuICAgICAqL1xuICAgIHRoaXMuYXJyID0gYXJyO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIGdldExlbmd0aCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXJyLmxlbmd0aFxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0FycmF5PGFueT59XG4gICAqL1xuICBnZXRDb250ZW50ICgpIHtcbiAgICByZXR1cm4gdGhpcy5hcnJcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgaXNDb3VudGFibGUgKCkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Q29udGVudEpTT059XG4gICAqL1xuICBjb3B5ICgpIHtcbiAgICByZXR1cm4gbmV3IENvbnRlbnRKU09OKHRoaXMuYXJyKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRcbiAgICogQHJldHVybiB7Q29udGVudEpTT059XG4gICAqL1xuICBzcGxpY2UgKG9mZnNldCkge1xuICAgIGNvbnN0IHJpZ2h0ID0gbmV3IENvbnRlbnRKU09OKHRoaXMuYXJyLnNsaWNlKG9mZnNldCkpO1xuICAgIHRoaXMuYXJyID0gdGhpcy5hcnIuc2xpY2UoMCwgb2Zmc2V0KTtcbiAgICByZXR1cm4gcmlnaHRcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0NvbnRlbnRKU09OfSByaWdodFxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgbWVyZ2VXaXRoIChyaWdodCkge1xuICAgIHRoaXMuYXJyID0gdGhpcy5hcnIuY29uY2F0KHJpZ2h0LmFycik7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKiBAcGFyYW0ge0l0ZW19IGl0ZW1cbiAgICovXG4gIGludGVncmF0ZSAodHJhbnNhY3Rpb24sIGl0ZW0pIHt9XG4gIC8qKlxuICAgKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKi9cbiAgZGVsZXRlICh0cmFuc2FjdGlvbikge31cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3RydWN0U3RvcmV9IHN0b3JlXG4gICAqL1xuICBnYyAoc3RvcmUpIHt9XG4gIC8qKlxuICAgKiBAcGFyYW0ge1VwZGF0ZUVuY29kZXJWMSB8IFVwZGF0ZUVuY29kZXJWMn0gZW5jb2RlclxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0XG4gICAqL1xuICB3cml0ZSAoZW5jb2Rlciwgb2Zmc2V0KSB7XG4gICAgY29uc3QgbGVuID0gdGhpcy5hcnIubGVuZ3RoO1xuICAgIGVuY29kZXIud3JpdGVMZW4obGVuIC0gb2Zmc2V0KTtcbiAgICBmb3IgKGxldCBpID0gb2Zmc2V0OyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNvbnN0IGMgPSB0aGlzLmFycltpXTtcbiAgICAgIGVuY29kZXIud3JpdGVTdHJpbmcoYyA9PT0gdW5kZWZpbmVkID8gJ3VuZGVmaW5lZCcgOiBKU09OLnN0cmluZ2lmeShjKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIGdldFJlZiAoKSB7XG4gICAgcmV0dXJuIDJcbiAgfVxufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtIHtVcGRhdGVEZWNvZGVyVjEgfCBVcGRhdGVEZWNvZGVyVjJ9IGRlY29kZXJcbiAqIEByZXR1cm4ge0NvbnRlbnRKU09OfVxuICovXG5jb25zdCByZWFkQ29udGVudEpTT04gPSBkZWNvZGVyID0+IHtcbiAgY29uc3QgbGVuID0gZGVjb2Rlci5yZWFkTGVuKCk7XG4gIGNvbnN0IGNzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjb25zdCBjID0gZGVjb2Rlci5yZWFkU3RyaW5nKCk7XG4gICAgaWYgKGMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjcy5wdXNoKHVuZGVmaW5lZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNzLnB1c2goSlNPTi5wYXJzZShjKSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXcgQ29udGVudEpTT04oY3MpXG59O1xuXG5jbGFzcyBDb250ZW50QW55IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8YW55Pn0gYXJyXG4gICAqL1xuICBjb25zdHJ1Y3RvciAoYXJyKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5PGFueT59XG4gICAgICovXG4gICAgdGhpcy5hcnIgPSBhcnI7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0TGVuZ3RoICgpIHtcbiAgICByZXR1cm4gdGhpcy5hcnIubGVuZ3RoXG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7QXJyYXk8YW55Pn1cbiAgICovXG4gIGdldENvbnRlbnQgKCkge1xuICAgIHJldHVybiB0aGlzLmFyclxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBpc0NvdW50YWJsZSAoKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtDb250ZW50QW55fVxuICAgKi9cbiAgY29weSAoKSB7XG4gICAgcmV0dXJuIG5ldyBDb250ZW50QW55KHRoaXMuYXJyKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRcbiAgICogQHJldHVybiB7Q29udGVudEFueX1cbiAgICovXG4gIHNwbGljZSAob2Zmc2V0KSB7XG4gICAgY29uc3QgcmlnaHQgPSBuZXcgQ29udGVudEFueSh0aGlzLmFyci5zbGljZShvZmZzZXQpKTtcbiAgICB0aGlzLmFyciA9IHRoaXMuYXJyLnNsaWNlKDAsIG9mZnNldCk7XG4gICAgcmV0dXJuIHJpZ2h0XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtDb250ZW50QW55fSByaWdodFxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgbWVyZ2VXaXRoIChyaWdodCkge1xuICAgIHRoaXMuYXJyID0gdGhpcy5hcnIuY29uY2F0KHJpZ2h0LmFycik7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKiBAcGFyYW0ge0l0ZW19IGl0ZW1cbiAgICovXG4gIGludGVncmF0ZSAodHJhbnNhY3Rpb24sIGl0ZW0pIHt9XG4gIC8qKlxuICAgKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKi9cbiAgZGVsZXRlICh0cmFuc2FjdGlvbikge31cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3RydWN0U3RvcmV9IHN0b3JlXG4gICAqL1xuICBnYyAoc3RvcmUpIHt9XG4gIC8qKlxuICAgKiBAcGFyYW0ge1VwZGF0ZUVuY29kZXJWMSB8IFVwZGF0ZUVuY29kZXJWMn0gZW5jb2RlclxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0XG4gICAqL1xuICB3cml0ZSAoZW5jb2Rlciwgb2Zmc2V0KSB7XG4gICAgY29uc3QgbGVuID0gdGhpcy5hcnIubGVuZ3RoO1xuICAgIGVuY29kZXIud3JpdGVMZW4obGVuIC0gb2Zmc2V0KTtcbiAgICBmb3IgKGxldCBpID0gb2Zmc2V0OyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNvbnN0IGMgPSB0aGlzLmFycltpXTtcbiAgICAgIGVuY29kZXIud3JpdGVBbnkoYyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIGdldFJlZiAoKSB7XG4gICAgcmV0dXJuIDhcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7VXBkYXRlRGVjb2RlclYxIHwgVXBkYXRlRGVjb2RlclYyfSBkZWNvZGVyXG4gKiBAcmV0dXJuIHtDb250ZW50QW55fVxuICovXG5jb25zdCByZWFkQ29udGVudEFueSA9IGRlY29kZXIgPT4ge1xuICBjb25zdCBsZW4gPSBkZWNvZGVyLnJlYWRMZW4oKTtcbiAgY29uc3QgY3MgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGNzLnB1c2goZGVjb2Rlci5yZWFkQW55KCkpO1xuICB9XG4gIHJldHVybiBuZXcgQ29udGVudEFueShjcylcbn07XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgQ29udGVudFN0cmluZyB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gICAqL1xuICBjb25zdHJ1Y3RvciAoc3RyKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnN0ciA9IHN0cjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqL1xuICBnZXRMZW5ndGggKCkge1xuICAgIHJldHVybiB0aGlzLnN0ci5sZW5ndGhcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtBcnJheTxhbnk+fVxuICAgKi9cbiAgZ2V0Q29udGVudCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RyLnNwbGl0KCcnKVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBpc0NvdW50YWJsZSAoKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtDb250ZW50U3RyaW5nfVxuICAgKi9cbiAgY29weSAoKSB7XG4gICAgcmV0dXJuIG5ldyBDb250ZW50U3RyaW5nKHRoaXMuc3RyKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRcbiAgICogQHJldHVybiB7Q29udGVudFN0cmluZ31cbiAgICovXG4gIHNwbGljZSAob2Zmc2V0KSB7XG4gICAgY29uc3QgcmlnaHQgPSBuZXcgQ29udGVudFN0cmluZyh0aGlzLnN0ci5zbGljZShvZmZzZXQpKTtcbiAgICB0aGlzLnN0ciA9IHRoaXMuc3RyLnNsaWNlKDAsIG9mZnNldCk7XG5cbiAgICAvLyBQcmV2ZW50IGVuY29kaW5nIGludmFsaWQgZG9jdW1lbnRzIGJlY2F1c2Ugb2Ygc3BsaXR0aW5nIG9mIHN1cnJvZ2F0ZSBwYWlyczogaHR0cHM6Ly9naXRodWIuY29tL3lqcy95anMvaXNzdWVzLzI0OFxuICAgIGNvbnN0IGZpcnN0Q2hhckNvZGUgPSB0aGlzLnN0ci5jaGFyQ29kZUF0KG9mZnNldCAtIDEpO1xuICAgIGlmIChmaXJzdENoYXJDb2RlID49IDB4RDgwMCAmJiBmaXJzdENoYXJDb2RlIDw9IDB4REJGRikge1xuICAgICAgLy8gTGFzdCBjaGFyYWN0ZXIgb2YgdGhlIGxlZnQgc3BsaXQgaXMgdGhlIHN0YXJ0IG9mIGEgc3Vycm9nYXRlIHV0ZjE2L3VjczIgcGFpci5cbiAgICAgIC8vIFdlIGRvbid0IHN1cHBvcnQgc3BsaXR0aW5nIG9mIHN1cnJvZ2F0ZSBwYWlycyBiZWNhdXNlIHRoaXMgbWF5IGxlYWQgdG8gaW52YWxpZCBkb2N1bWVudHMuXG4gICAgICAvLyBSZXBsYWNlIHRoZSBpbnZhbGlkIGNoYXJhY3RlciB3aXRoIGEgdW5pY29kZSByZXBsYWNlbWVudCBjaGFyYWN0ZXIgKO+/vSAvIFUrRkZGRClcbiAgICAgIHRoaXMuc3RyID0gdGhpcy5zdHIuc2xpY2UoMCwgb2Zmc2V0IC0gMSkgKyAn77+9JztcbiAgICAgIC8vIHJlcGxhY2UgcmlnaHQgYXMgd2VsbFxuICAgICAgcmlnaHQuc3RyID0gJ++/vScgKyByaWdodC5zdHIuc2xpY2UoMSk7XG4gICAgfVxuICAgIHJldHVybiByaWdodFxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q29udGVudFN0cmluZ30gcmlnaHRcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIG1lcmdlV2l0aCAocmlnaHQpIHtcbiAgICB0aGlzLnN0ciArPSByaWdodC5zdHI7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKiBAcGFyYW0ge0l0ZW19IGl0ZW1cbiAgICovXG4gIGludGVncmF0ZSAodHJhbnNhY3Rpb24sIGl0ZW0pIHt9XG4gIC8qKlxuICAgKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKi9cbiAgZGVsZXRlICh0cmFuc2FjdGlvbikge31cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3RydWN0U3RvcmV9IHN0b3JlXG4gICAqL1xuICBnYyAoc3RvcmUpIHt9XG4gIC8qKlxuICAgKiBAcGFyYW0ge1VwZGF0ZUVuY29kZXJWMSB8IFVwZGF0ZUVuY29kZXJWMn0gZW5jb2RlclxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0XG4gICAqL1xuICB3cml0ZSAoZW5jb2Rlciwgb2Zmc2V0KSB7XG4gICAgZW5jb2Rlci53cml0ZVN0cmluZyhvZmZzZXQgPT09IDAgPyB0aGlzLnN0ciA6IHRoaXMuc3RyLnNsaWNlKG9mZnNldCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIGdldFJlZiAoKSB7XG4gICAgcmV0dXJuIDRcbiAgfVxufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtIHtVcGRhdGVEZWNvZGVyVjEgfCBVcGRhdGVEZWNvZGVyVjJ9IGRlY29kZXJcbiAqIEByZXR1cm4ge0NvbnRlbnRTdHJpbmd9XG4gKi9cbmNvbnN0IHJlYWRDb250ZW50U3RyaW5nID0gZGVjb2RlciA9PiBuZXcgQ29udGVudFN0cmluZyhkZWNvZGVyLnJlYWRTdHJpbmcoKSk7XG5cbi8qKlxuICogQHR5cGUge0FycmF5PGZ1bmN0aW9uKFVwZGF0ZURlY29kZXJWMSB8IFVwZGF0ZURlY29kZXJWMik6QWJzdHJhY3RUeXBlPGFueT4+fVxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgdHlwZVJlZnMgPSBbXG4gIHJlYWRZQXJyYXksXG4gIHJlYWRZTWFwLFxuICByZWFkWVRleHQsXG4gIHJlYWRZWG1sRWxlbWVudCxcbiAgcmVhZFlYbWxGcmFnbWVudCxcbiAgcmVhZFlYbWxIb29rLFxuICByZWFkWVhtbFRleHRcbl07XG5cbmNvbnN0IFlBcnJheVJlZklEID0gMDtcbmNvbnN0IFlNYXBSZWZJRCA9IDE7XG5jb25zdCBZVGV4dFJlZklEID0gMjtcbmNvbnN0IFlYbWxFbGVtZW50UmVmSUQgPSAzO1xuY29uc3QgWVhtbEZyYWdtZW50UmVmSUQgPSA0O1xuY29uc3QgWVhtbEhvb2tSZWZJRCA9IDU7XG5jb25zdCBZWG1sVGV4dFJlZklEID0gNjtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBDb250ZW50VHlwZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0Fic3RyYWN0VHlwZTxhbnk+fSB0eXBlXG4gICAqL1xuICBjb25zdHJ1Y3RvciAodHlwZSkge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBYnN0cmFjdFR5cGU8YW55Pn1cbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIGdldExlbmd0aCAoKSB7XG4gICAgcmV0dXJuIDFcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtBcnJheTxhbnk+fVxuICAgKi9cbiAgZ2V0Q29udGVudCAoKSB7XG4gICAgcmV0dXJuIFt0aGlzLnR5cGVdXG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGlzQ291bnRhYmxlICgpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0NvbnRlbnRUeXBlfVxuICAgKi9cbiAgY29weSAoKSB7XG4gICAgcmV0dXJuIG5ldyBDb250ZW50VHlwZSh0aGlzLnR5cGUuX2NvcHkoKSlcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0XG4gICAqIEByZXR1cm4ge0NvbnRlbnRUeXBlfVxuICAgKi9cbiAgc3BsaWNlIChvZmZzZXQpIHtcbiAgICB0aHJvdyBlcnJvci5tZXRob2RVbmltcGxlbWVudGVkKClcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0NvbnRlbnRUeXBlfSByaWdodFxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgbWVyZ2VXaXRoIChyaWdodCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gICAqIEBwYXJhbSB7SXRlbX0gaXRlbVxuICAgKi9cbiAgaW50ZWdyYXRlICh0cmFuc2FjdGlvbiwgaXRlbSkge1xuICAgIHRoaXMudHlwZS5faW50ZWdyYXRlKHRyYW5zYWN0aW9uLmRvYywgaXRlbSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAgICovXG4gIGRlbGV0ZSAodHJhbnNhY3Rpb24pIHtcbiAgICBsZXQgaXRlbSA9IHRoaXMudHlwZS5fc3RhcnQ7XG4gICAgd2hpbGUgKGl0ZW0gIT09IG51bGwpIHtcbiAgICAgIGlmICghaXRlbS5kZWxldGVkKSB7XG4gICAgICAgIGl0ZW0uZGVsZXRlKHRyYW5zYWN0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCBiZSBnYydkIGxhdGVyIGFuZCB3ZSB3YW50IHRvIG1lcmdlIGl0IGlmIHBvc3NpYmxlXG4gICAgICAgIC8vIFdlIHRyeSB0byBtZXJnZSBhbGwgZGVsZXRlZCBpdGVtcyBhZnRlciBlYWNoIHRyYW5zYWN0aW9uLFxuICAgICAgICAvLyBidXQgd2UgaGF2ZSBubyBrbm93bGVkZ2UgYWJvdXQgdGhhdCB0aGlzIG5lZWRzIHRvIGJlIG1lcmdlZFxuICAgICAgICAvLyBzaW5jZSBpdCBpcyBub3QgaW4gdHJhbnNhY3Rpb24uZHMuIEhlbmNlIHdlIGFkZCBpdCB0byB0cmFuc2FjdGlvbi5fbWVyZ2VTdHJ1Y3RzXG4gICAgICAgIHRyYW5zYWN0aW9uLl9tZXJnZVN0cnVjdHMucHVzaChpdGVtKTtcbiAgICAgIH1cbiAgICAgIGl0ZW0gPSBpdGVtLnJpZ2h0O1xuICAgIH1cbiAgICB0aGlzLnR5cGUuX21hcC5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgaWYgKCFpdGVtLmRlbGV0ZWQpIHtcbiAgICAgICAgaXRlbS5kZWxldGUodHJhbnNhY3Rpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gc2FtZSBhcyBhYm92ZVxuICAgICAgICB0cmFuc2FjdGlvbi5fbWVyZ2VTdHJ1Y3RzLnB1c2goaXRlbSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdHJhbnNhY3Rpb24uY2hhbmdlZC5kZWxldGUodGhpcy50eXBlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N0cnVjdFN0b3JlfSBzdG9yZVxuICAgKi9cbiAgZ2MgKHN0b3JlKSB7XG4gICAgbGV0IGl0ZW0gPSB0aGlzLnR5cGUuX3N0YXJ0O1xuICAgIHdoaWxlIChpdGVtICE9PSBudWxsKSB7XG4gICAgICBpdGVtLmdjKHN0b3JlLCB0cnVlKTtcbiAgICAgIGl0ZW0gPSBpdGVtLnJpZ2h0O1xuICAgIH1cbiAgICB0aGlzLnR5cGUuX3N0YXJ0ID0gbnVsbDtcbiAgICB0aGlzLnR5cGUuX21hcC5mb3JFYWNoKC8qKiBAcGFyYW0ge0l0ZW0gfCBudWxsfSBpdGVtICovIChpdGVtKSA9PiB7XG4gICAgICB3aGlsZSAoaXRlbSAhPT0gbnVsbCkge1xuICAgICAgICBpdGVtLmdjKHN0b3JlLCB0cnVlKTtcbiAgICAgICAgaXRlbSA9IGl0ZW0ubGVmdDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnR5cGUuX21hcCA9IG5ldyBNYXAoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1VwZGF0ZUVuY29kZXJWMSB8IFVwZGF0ZUVuY29kZXJWMn0gZW5jb2RlclxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0XG4gICAqL1xuICB3cml0ZSAoZW5jb2Rlciwgb2Zmc2V0KSB7XG4gICAgdGhpcy50eXBlLl93cml0ZShlbmNvZGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqL1xuICBnZXRSZWYgKCkge1xuICAgIHJldHVybiA3XG4gIH1cbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSB7VXBkYXRlRGVjb2RlclYxIHwgVXBkYXRlRGVjb2RlclYyfSBkZWNvZGVyXG4gKiBAcmV0dXJuIHtDb250ZW50VHlwZX1cbiAqL1xuY29uc3QgcmVhZENvbnRlbnRUeXBlID0gZGVjb2RlciA9PiBuZXcgQ29udGVudFR5cGUodHlwZVJlZnNbZGVjb2Rlci5yZWFkVHlwZVJlZigpXShkZWNvZGVyKSk7XG5cbi8qKlxuICogQHRvZG8gVGhpcyBzaG91bGQgcmV0dXJuIHNldmVyYWwgaXRlbXNcbiAqXG4gKiBAcGFyYW0ge1N0cnVjdFN0b3JlfSBzdG9yZVxuICogQHBhcmFtIHtJRH0gaWRcbiAqIEByZXR1cm4ge3tpdGVtOkl0ZW0sIGRpZmY6bnVtYmVyfX1cbiAqL1xuY29uc3QgZm9sbG93UmVkb25lID0gKHN0b3JlLCBpZCkgPT4ge1xuICAvKipcbiAgICogQHR5cGUge0lEfG51bGx9XG4gICAqL1xuICBsZXQgbmV4dElEID0gaWQ7XG4gIGxldCBkaWZmID0gMDtcbiAgbGV0IGl0ZW07XG4gIGRvIHtcbiAgICBpZiAoZGlmZiA+IDApIHtcbiAgICAgIG5leHRJRCA9IGNyZWF0ZUlEKG5leHRJRC5jbGllbnQsIG5leHRJRC5jbG9jayArIGRpZmYpO1xuICAgIH1cbiAgICBpdGVtID0gZ2V0SXRlbShzdG9yZSwgbmV4dElEKTtcbiAgICBkaWZmID0gbmV4dElELmNsb2NrIC0gaXRlbS5pZC5jbG9jaztcbiAgICBuZXh0SUQgPSBpdGVtLnJlZG9uZTtcbiAgfSB3aGlsZSAobmV4dElEICE9PSBudWxsICYmIGl0ZW0gaW5zdGFuY2VvZiBJdGVtKVxuICByZXR1cm4ge1xuICAgIGl0ZW0sIGRpZmZcbiAgfVxufTtcblxuLyoqXG4gKiBNYWtlIHN1cmUgdGhhdCBuZWl0aGVyIGl0ZW0gbm9yIGFueSBvZiBpdHMgcGFyZW50cyBpcyBldmVyIGRlbGV0ZWQuXG4gKlxuICogVGhpcyBwcm9wZXJ0eSBkb2VzIG5vdCBwZXJzaXN0IHdoZW4gc3RvcmluZyBpdCBpbnRvIGEgZGF0YWJhc2Ugb3Igd2hlblxuICogc2VuZGluZyBpdCB0byBvdGhlciBwZWVyc1xuICpcbiAqIEBwYXJhbSB7SXRlbXxudWxsfSBpdGVtXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGtlZXBcbiAqL1xuY29uc3Qga2VlcEl0ZW0gPSAoaXRlbSwga2VlcCkgPT4ge1xuICB3aGlsZSAoaXRlbSAhPT0gbnVsbCAmJiBpdGVtLmtlZXAgIT09IGtlZXApIHtcbiAgICBpdGVtLmtlZXAgPSBrZWVwO1xuICAgIGl0ZW0gPSAvKiogQHR5cGUge0Fic3RyYWN0VHlwZTxhbnk+fSAqLyAoaXRlbS5wYXJlbnQpLl9pdGVtO1xuICB9XG59O1xuXG4vKipcbiAqIFNwbGl0IGxlZnRJdGVtIGludG8gdHdvIGl0ZW1zXG4gKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICogQHBhcmFtIHtJdGVtfSBsZWZ0SXRlbVxuICogQHBhcmFtIHtudW1iZXJ9IGRpZmZcbiAqIEByZXR1cm4ge0l0ZW19XG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCBzcGxpdEl0ZW0gPSAodHJhbnNhY3Rpb24sIGxlZnRJdGVtLCBkaWZmKSA9PiB7XG4gIC8vIGNyZWF0ZSByaWdodEl0ZW1cbiAgY29uc3QgeyBjbGllbnQsIGNsb2NrIH0gPSBsZWZ0SXRlbS5pZDtcbiAgY29uc3QgcmlnaHRJdGVtID0gbmV3IEl0ZW0oXG4gICAgY3JlYXRlSUQoY2xpZW50LCBjbG9jayArIGRpZmYpLFxuICAgIGxlZnRJdGVtLFxuICAgIGNyZWF0ZUlEKGNsaWVudCwgY2xvY2sgKyBkaWZmIC0gMSksXG4gICAgbGVmdEl0ZW0ucmlnaHQsXG4gICAgbGVmdEl0ZW0ucmlnaHRPcmlnaW4sXG4gICAgbGVmdEl0ZW0ucGFyZW50LFxuICAgIGxlZnRJdGVtLnBhcmVudFN1YixcbiAgICBsZWZ0SXRlbS5jb250ZW50LnNwbGljZShkaWZmKVxuICApO1xuICBpZiAobGVmdEl0ZW0uZGVsZXRlZCkge1xuICAgIHJpZ2h0SXRlbS5tYXJrRGVsZXRlZCgpO1xuICB9XG4gIGlmIChsZWZ0SXRlbS5rZWVwKSB7XG4gICAgcmlnaHRJdGVtLmtlZXAgPSB0cnVlO1xuICB9XG4gIGlmIChsZWZ0SXRlbS5yZWRvbmUgIT09IG51bGwpIHtcbiAgICByaWdodEl0ZW0ucmVkb25lID0gY3JlYXRlSUQobGVmdEl0ZW0ucmVkb25lLmNsaWVudCwgbGVmdEl0ZW0ucmVkb25lLmNsb2NrICsgZGlmZik7XG4gIH1cbiAgLy8gdXBkYXRlIGxlZnQgKGRvIG5vdCBzZXQgbGVmdEl0ZW0ucmlnaHRPcmlnaW4gYXMgaXQgd2lsbCBsZWFkIHRvIHByb2JsZW1zIHdoZW4gc3luY2luZylcbiAgbGVmdEl0ZW0ucmlnaHQgPSByaWdodEl0ZW07XG4gIC8vIHVwZGF0ZSByaWdodFxuICBpZiAocmlnaHRJdGVtLnJpZ2h0ICE9PSBudWxsKSB7XG4gICAgcmlnaHRJdGVtLnJpZ2h0LmxlZnQgPSByaWdodEl0ZW07XG4gIH1cbiAgLy8gcmlnaHQgaXMgbW9yZSBzcGVjaWZpYy5cbiAgdHJhbnNhY3Rpb24uX21lcmdlU3RydWN0cy5wdXNoKHJpZ2h0SXRlbSk7XG4gIC8vIHVwZGF0ZSBwYXJlbnQuX21hcFxuICBpZiAocmlnaHRJdGVtLnBhcmVudFN1YiAhPT0gbnVsbCAmJiByaWdodEl0ZW0ucmlnaHQgPT09IG51bGwpIHtcbiAgICAvKiogQHR5cGUge0Fic3RyYWN0VHlwZTxhbnk+fSAqLyAocmlnaHRJdGVtLnBhcmVudCkuX21hcC5zZXQocmlnaHRJdGVtLnBhcmVudFN1YiwgcmlnaHRJdGVtKTtcbiAgfVxuICBsZWZ0SXRlbS5sZW5ndGggPSBkaWZmO1xuICByZXR1cm4gcmlnaHRJdGVtXG59O1xuXG4vKipcbiAqIFJlZG9lcyB0aGUgZWZmZWN0IG9mIHRoaXMgb3BlcmF0aW9uLlxuICpcbiAqIEBwYXJhbSB7VHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uIFRoZSBZanMgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge0l0ZW19IGl0ZW1cbiAqIEBwYXJhbSB7U2V0PEl0ZW0+fSByZWRvaXRlbXNcbiAqIEBwYXJhbSB7RGVsZXRlU2V0fSBpdGVtc1RvRGVsZXRlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlnbm9yZVJlbW90ZU1hcENoYW5nZXNcbiAqXG4gKiBAcmV0dXJuIHtJdGVtfG51bGx9XG4gKlxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgcmVkb0l0ZW0gPSAodHJhbnNhY3Rpb24sIGl0ZW0sIHJlZG9pdGVtcywgaXRlbXNUb0RlbGV0ZSwgaWdub3JlUmVtb3RlTWFwQ2hhbmdlcykgPT4ge1xuICBjb25zdCBkb2MgPSB0cmFuc2FjdGlvbi5kb2M7XG4gIGNvbnN0IHN0b3JlID0gZG9jLnN0b3JlO1xuICBjb25zdCBvd25DbGllbnRJRCA9IGRvYy5jbGllbnRJRDtcbiAgY29uc3QgcmVkb25lID0gaXRlbS5yZWRvbmU7XG4gIGlmIChyZWRvbmUgIT09IG51bGwpIHtcbiAgICByZXR1cm4gZ2V0SXRlbUNsZWFuU3RhcnQodHJhbnNhY3Rpb24sIHJlZG9uZSlcbiAgfVxuICBsZXQgcGFyZW50SXRlbSA9IC8qKiBAdHlwZSB7QWJzdHJhY3RUeXBlPGFueT59ICovIChpdGVtLnBhcmVudCkuX2l0ZW07XG4gIC8qKlxuICAgKiBAdHlwZSB7SXRlbXxudWxsfVxuICAgKi9cbiAgbGV0IGxlZnQgPSBudWxsO1xuICAvKipcbiAgICogQHR5cGUge0l0ZW18bnVsbH1cbiAgICovXG4gIGxldCByaWdodDtcbiAgLy8gbWFrZSBzdXJlIHRoYXQgcGFyZW50IGlzIHJlZG9uZVxuICBpZiAocGFyZW50SXRlbSAhPT0gbnVsbCAmJiBwYXJlbnRJdGVtLmRlbGV0ZWQgPT09IHRydWUpIHtcbiAgICAvLyB0cnkgdG8gdW5kbyBwYXJlbnQgaWYgaXQgd2lsbCBiZSB1bmRvbmUgYW55d2F5XG4gICAgaWYgKHBhcmVudEl0ZW0ucmVkb25lID09PSBudWxsICYmICghcmVkb2l0ZW1zLmhhcyhwYXJlbnRJdGVtKSB8fCByZWRvSXRlbSh0cmFuc2FjdGlvbiwgcGFyZW50SXRlbSwgcmVkb2l0ZW1zLCBpdGVtc1RvRGVsZXRlLCBpZ25vcmVSZW1vdGVNYXBDaGFuZ2VzKSA9PT0gbnVsbCkpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICAgIHdoaWxlIChwYXJlbnRJdGVtLnJlZG9uZSAhPT0gbnVsbCkge1xuICAgICAgcGFyZW50SXRlbSA9IGdldEl0ZW1DbGVhblN0YXJ0KHRyYW5zYWN0aW9uLCBwYXJlbnRJdGVtLnJlZG9uZSk7XG4gICAgfVxuICB9XG4gIGNvbnN0IHBhcmVudFR5cGUgPSBwYXJlbnRJdGVtID09PSBudWxsID8gLyoqIEB0eXBlIHtBYnN0cmFjdFR5cGU8YW55Pn0gKi8gKGl0ZW0ucGFyZW50KSA6IC8qKiBAdHlwZSB7Q29udGVudFR5cGV9ICovIChwYXJlbnRJdGVtLmNvbnRlbnQpLnR5cGU7XG5cbiAgaWYgKGl0ZW0ucGFyZW50U3ViID09PSBudWxsKSB7XG4gICAgLy8gSXMgYW4gYXJyYXkgaXRlbS4gSW5zZXJ0IGF0IHRoZSBvbGQgcG9zaXRpb25cbiAgICBsZWZ0ID0gaXRlbS5sZWZ0O1xuICAgIHJpZ2h0ID0gaXRlbTtcbiAgICAvLyBmaW5kIG5leHQgY2xvbmVkX3JlZG8gaXRlbXNcbiAgICB3aGlsZSAobGVmdCAhPT0gbnVsbCkge1xuICAgICAgLyoqXG4gICAgICAgKiBAdHlwZSB7SXRlbXxudWxsfVxuICAgICAgICovXG4gICAgICBsZXQgbGVmdFRyYWNlID0gbGVmdDtcbiAgICAgIC8vIHRyYWNlIHJlZG9uZSB1bnRpbCBwYXJlbnQgbWF0Y2hlc1xuICAgICAgd2hpbGUgKGxlZnRUcmFjZSAhPT0gbnVsbCAmJiAvKiogQHR5cGUge0Fic3RyYWN0VHlwZTxhbnk+fSAqLyAobGVmdFRyYWNlLnBhcmVudCkuX2l0ZW0gIT09IHBhcmVudEl0ZW0pIHtcbiAgICAgICAgbGVmdFRyYWNlID0gbGVmdFRyYWNlLnJlZG9uZSA9PT0gbnVsbCA/IG51bGwgOiBnZXRJdGVtQ2xlYW5TdGFydCh0cmFuc2FjdGlvbiwgbGVmdFRyYWNlLnJlZG9uZSk7XG4gICAgICB9XG4gICAgICBpZiAobGVmdFRyYWNlICE9PSBudWxsICYmIC8qKiBAdHlwZSB7QWJzdHJhY3RUeXBlPGFueT59ICovIChsZWZ0VHJhY2UucGFyZW50KS5faXRlbSA9PT0gcGFyZW50SXRlbSkge1xuICAgICAgICBsZWZ0ID0gbGVmdFRyYWNlO1xuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgbGVmdCA9IGxlZnQubGVmdDtcbiAgICB9XG4gICAgd2hpbGUgKHJpZ2h0ICE9PSBudWxsKSB7XG4gICAgICAvKipcbiAgICAgICAqIEB0eXBlIHtJdGVtfG51bGx9XG4gICAgICAgKi9cbiAgICAgIGxldCByaWdodFRyYWNlID0gcmlnaHQ7XG4gICAgICAvLyB0cmFjZSByZWRvbmUgdW50aWwgcGFyZW50IG1hdGNoZXNcbiAgICAgIHdoaWxlIChyaWdodFRyYWNlICE9PSBudWxsICYmIC8qKiBAdHlwZSB7QWJzdHJhY3RUeXBlPGFueT59ICovIChyaWdodFRyYWNlLnBhcmVudCkuX2l0ZW0gIT09IHBhcmVudEl0ZW0pIHtcbiAgICAgICAgcmlnaHRUcmFjZSA9IHJpZ2h0VHJhY2UucmVkb25lID09PSBudWxsID8gbnVsbCA6IGdldEl0ZW1DbGVhblN0YXJ0KHRyYW5zYWN0aW9uLCByaWdodFRyYWNlLnJlZG9uZSk7XG4gICAgICB9XG4gICAgICBpZiAocmlnaHRUcmFjZSAhPT0gbnVsbCAmJiAvKiogQHR5cGUge0Fic3RyYWN0VHlwZTxhbnk+fSAqLyAocmlnaHRUcmFjZS5wYXJlbnQpLl9pdGVtID09PSBwYXJlbnRJdGVtKSB7XG4gICAgICAgIHJpZ2h0ID0gcmlnaHRUcmFjZTtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIHJpZ2h0ID0gcmlnaHQucmlnaHQ7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJpZ2h0ID0gbnVsbDtcbiAgICBpZiAoaXRlbS5yaWdodCAmJiAhaWdub3JlUmVtb3RlTWFwQ2hhbmdlcykge1xuICAgICAgbGVmdCA9IGl0ZW07XG4gICAgICAvLyBJdGVyYXRlIHJpZ2h0IHdoaWxlIHJpZ2h0IGlzIGluIGl0ZW1zVG9EZWxldGVcbiAgICAgIC8vIElmIGl0IGlzIGludGVuZGVkIHRvIGRlbGV0ZSByaWdodCB3aGlsZSBpdGVtIGlzIHJlZG9uZSwgd2UgY2FuIGV4cGVjdCB0aGF0IGl0ZW0gc2hvdWxkIHJlcGxhY2UgcmlnaHQuXG4gICAgICB3aGlsZSAobGVmdCAhPT0gbnVsbCAmJiBsZWZ0LnJpZ2h0ICE9PSBudWxsICYmIGlzRGVsZXRlZChpdGVtc1RvRGVsZXRlLCBsZWZ0LnJpZ2h0LmlkKSkge1xuICAgICAgICBsZWZ0ID0gbGVmdC5yaWdodDtcbiAgICAgIH1cbiAgICAgIC8vIGZvbGxvdyByZWRvbmVcbiAgICAgIC8vIHRyYWNlIHJlZG9uZSB1bnRpbCBwYXJlbnQgbWF0Y2hlc1xuICAgICAgd2hpbGUgKGxlZnQgIT09IG51bGwgJiYgbGVmdC5yZWRvbmUgIT09IG51bGwpIHtcbiAgICAgICAgbGVmdCA9IGdldEl0ZW1DbGVhblN0YXJ0KHRyYW5zYWN0aW9uLCBsZWZ0LnJlZG9uZSk7XG4gICAgICB9XG4gICAgICAvLyBjaGVjayB3ZXRoZXIgd2Ugd2VyZSBhbGxvd2VkIHRvIGZvbGxvdyByaWdodCAoaW5kaWNhdGluZyB0aGF0IG9yaWdpbmFsbHkgdGhpcyBvcCB3YXMgcmVwbGFjZWQgYnkgYW5vdGhlciBpdGVtKVxuICAgICAgaWYgKGxlZnQgPT09IG51bGwgfHwgLyoqIEB0eXBlIHtBYnN0cmFjdFR5cGU8YW55Pn0gKi8gKGxlZnQucGFyZW50KS5faXRlbSAhPT0gcGFyZW50SXRlbSkge1xuICAgICAgICAvLyBpbnZhbGlkIHBhcmVudDsgc2hvdWxkIG5ldmVyIGhhcHBlblxuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfVxuICAgICAgaWYgKGxlZnQgJiYgbGVmdC5yaWdodCAhPT0gbnVsbCkge1xuICAgICAgICAvLyBJdCBpcyBub3QgcG9zc2libGUgdG8gcmVkbyB0aGlzIGl0ZW0gYmVjYXVzZSBpdCBjb25mbGljdHMgd2l0aCBhXG4gICAgICAgIC8vIGNoYW5nZSBmcm9tIGFub3RoZXIgY2xpZW50XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxlZnQgPSBwYXJlbnRUeXBlLl9tYXAuZ2V0KGl0ZW0ucGFyZW50U3ViKSB8fCBudWxsO1xuICAgIH1cbiAgfVxuICBjb25zdCBuZXh0Q2xvY2sgPSBnZXRTdGF0ZShzdG9yZSwgb3duQ2xpZW50SUQpO1xuICBjb25zdCBuZXh0SWQgPSBjcmVhdGVJRChvd25DbGllbnRJRCwgbmV4dENsb2NrKTtcbiAgY29uc3QgcmVkb25lSXRlbSA9IG5ldyBJdGVtKFxuICAgIG5leHRJZCxcbiAgICBsZWZ0LCBsZWZ0ICYmIGxlZnQubGFzdElkLFxuICAgIHJpZ2h0LCByaWdodCAmJiByaWdodC5pZCxcbiAgICBwYXJlbnRUeXBlLFxuICAgIGl0ZW0ucGFyZW50U3ViLFxuICAgIGl0ZW0uY29udGVudC5jb3B5KClcbiAgKTtcbiAgaXRlbS5yZWRvbmUgPSBuZXh0SWQ7XG4gIGtlZXBJdGVtKHJlZG9uZUl0ZW0sIHRydWUpO1xuICByZWRvbmVJdGVtLmludGVncmF0ZSh0cmFuc2FjdGlvbiwgMCk7XG4gIHJldHVybiByZWRvbmVJdGVtXG59O1xuXG4vKipcbiAqIEFic3RyYWN0IGNsYXNzIHRoYXQgcmVwcmVzZW50cyBhbnkgY29udGVudC5cbiAqL1xuY2xhc3MgSXRlbSBleHRlbmRzIEFic3RyYWN0U3RydWN0IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7SUR9IGlkXG4gICAqIEBwYXJhbSB7SXRlbSB8IG51bGx9IGxlZnRcbiAgICogQHBhcmFtIHtJRCB8IG51bGx9IG9yaWdpblxuICAgKiBAcGFyYW0ge0l0ZW0gfCBudWxsfSByaWdodFxuICAgKiBAcGFyYW0ge0lEIHwgbnVsbH0gcmlnaHRPcmlnaW5cbiAgICogQHBhcmFtIHtBYnN0cmFjdFR5cGU8YW55PnxJRHxudWxsfSBwYXJlbnQgSXMgYSB0eXBlIGlmIGludGVncmF0ZWQsIGlzIG51bGwgaWYgaXQgaXMgcG9zc2libGUgdG8gY29weSBwYXJlbnQgZnJvbSBsZWZ0IG9yIHJpZ2h0LCBpcyBJRCBiZWZvcmUgaW50ZWdyYXRpb24gdG8gc2VhcmNoIGZvciBpdC5cbiAgICogQHBhcmFtIHtzdHJpbmcgfCBudWxsfSBwYXJlbnRTdWJcbiAgICogQHBhcmFtIHtBYnN0cmFjdENvbnRlbnR9IGNvbnRlbnRcbiAgICovXG4gIGNvbnN0cnVjdG9yIChpZCwgbGVmdCwgb3JpZ2luLCByaWdodCwgcmlnaHRPcmlnaW4sIHBhcmVudCwgcGFyZW50U3ViLCBjb250ZW50KSB7XG4gICAgc3VwZXIoaWQsIGNvbnRlbnQuZ2V0TGVuZ3RoKCkpO1xuICAgIC8qKlxuICAgICAqIFRoZSBpdGVtIHRoYXQgd2FzIG9yaWdpbmFsbHkgdG8gdGhlIGxlZnQgb2YgdGhpcyBpdGVtLlxuICAgICAqIEB0eXBlIHtJRCB8IG51bGx9XG4gICAgICovXG4gICAgdGhpcy5vcmlnaW4gPSBvcmlnaW47XG4gICAgLyoqXG4gICAgICogVGhlIGl0ZW0gdGhhdCBpcyBjdXJyZW50bHkgdG8gdGhlIGxlZnQgb2YgdGhpcyBpdGVtLlxuICAgICAqIEB0eXBlIHtJdGVtIHwgbnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgIC8qKlxuICAgICAqIFRoZSBpdGVtIHRoYXQgaXMgY3VycmVudGx5IHRvIHRoZSByaWdodCBvZiB0aGlzIGl0ZW0uXG4gICAgICogQHR5cGUge0l0ZW0gfCBudWxsfVxuICAgICAqL1xuICAgIHRoaXMucmlnaHQgPSByaWdodDtcbiAgICAvKipcbiAgICAgKiBUaGUgaXRlbSB0aGF0IHdhcyBvcmlnaW5hbGx5IHRvIHRoZSByaWdodCBvZiB0aGlzIGl0ZW0uXG4gICAgICogQHR5cGUge0lEIHwgbnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLnJpZ2h0T3JpZ2luID0gcmlnaHRPcmlnaW47XG4gICAgLyoqXG4gICAgICogQHR5cGUge0Fic3RyYWN0VHlwZTxhbnk+fElEfG51bGx9XG4gICAgICovXG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgLyoqXG4gICAgICogSWYgdGhlIHBhcmVudCByZWZlcnMgdG8gdGhpcyBpdGVtIHdpdGggc29tZSBraW5kIG9mIGtleSAoZS5nLiBZTWFwLCB0aGVcbiAgICAgKiBrZXkgaXMgc3BlY2lmaWVkIGhlcmUuIFRoZSBrZXkgaXMgdGhlbiB1c2VkIHRvIHJlZmVyIHRvIHRoZSBsaXN0IGluIHdoaWNoXG4gICAgICogdG8gaW5zZXJ0IHRoaXMgaXRlbS4gSWYgYHBhcmVudFN1YiA9IG51bGxgIHR5cGUuX3N0YXJ0IGlzIHRoZSBsaXN0IGluXG4gICAgICogd2hpY2ggdG8gaW5zZXJ0IHRvLiBPdGhlcndpc2UgaXQgaXMgYHBhcmVudC5fbWFwYC5cbiAgICAgKiBAdHlwZSB7U3RyaW5nIHwgbnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLnBhcmVudFN1YiA9IHBhcmVudFN1YjtcbiAgICAvKipcbiAgICAgKiBJZiB0aGlzIHR5cGUncyBlZmZlY3QgaXMgcmVkb25lIHRoaXMgdHlwZSByZWZlcnMgdG8gdGhlIHR5cGUgdGhhdCB1bmRpZFxuICAgICAqIHRoaXMgb3BlcmF0aW9uLlxuICAgICAqIEB0eXBlIHtJRCB8IG51bGx9XG4gICAgICovXG4gICAgdGhpcy5yZWRvbmUgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBYnN0cmFjdENvbnRlbnR9XG4gICAgICovXG4gICAgdGhpcy5jb250ZW50ID0gY29udGVudDtcbiAgICAvKipcbiAgICAgKiBiaXQxOiBrZWVwXG4gICAgICogYml0MjogY291bnRhYmxlXG4gICAgICogYml0MzogZGVsZXRlZFxuICAgICAqIGJpdDQ6IG1hcmsgLSBtYXJrIG5vZGUgYXMgZmFzdC1zZWFyY2gtbWFya2VyXG4gICAgICogQHR5cGUge251bWJlcn0gYnl0ZVxuICAgICAqL1xuICAgIHRoaXMuaW5mbyA9IHRoaXMuY29udGVudC5pc0NvdW50YWJsZSgpID8gYmluYXJ5LkJJVDIgOiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgdXNlZCB0byBtYXJrIHRoZSBpdGVtIGFzIGFuIGluZGV4ZWQgZmFzdC1zZWFyY2ggbWFya2VyXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgc2V0IG1hcmtlciAoaXNNYXJrZWQpIHtcbiAgICBpZiAoKCh0aGlzLmluZm8gJiBiaW5hcnkuQklUNCkgPiAwKSAhPT0gaXNNYXJrZWQpIHtcbiAgICAgIHRoaXMuaW5mbyBePSBiaW5hcnkuQklUNDtcbiAgICB9XG4gIH1cblxuICBnZXQgbWFya2VyICgpIHtcbiAgICByZXR1cm4gKHRoaXMuaW5mbyAmIGJpbmFyeS5CSVQ0KSA+IDBcbiAgfVxuXG4gIC8qKlxuICAgKiBJZiB0cnVlLCBkbyBub3QgZ2FyYmFnZSBjb2xsZWN0IHRoaXMgSXRlbS5cbiAgICovXG4gIGdldCBrZWVwICgpIHtcbiAgICByZXR1cm4gKHRoaXMuaW5mbyAmIGJpbmFyeS5CSVQxKSA+IDBcbiAgfVxuXG4gIHNldCBrZWVwIChkb0tlZXApIHtcbiAgICBpZiAodGhpcy5rZWVwICE9PSBkb0tlZXApIHtcbiAgICAgIHRoaXMuaW5mbyBePSBiaW5hcnkuQklUMTtcbiAgICB9XG4gIH1cblxuICBnZXQgY291bnRhYmxlICgpIHtcbiAgICByZXR1cm4gKHRoaXMuaW5mbyAmIGJpbmFyeS5CSVQyKSA+IDBcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoaXMgaXRlbSB3YXMgZGVsZXRlZCBvciBub3QuXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKi9cbiAgZ2V0IGRlbGV0ZWQgKCkge1xuICAgIHJldHVybiAodGhpcy5pbmZvICYgYmluYXJ5LkJJVDMpID4gMFxuICB9XG5cbiAgc2V0IGRlbGV0ZWQgKGRvRGVsZXRlKSB7XG4gICAgaWYgKHRoaXMuZGVsZXRlZCAhPT0gZG9EZWxldGUpIHtcbiAgICAgIHRoaXMuaW5mbyBePSBiaW5hcnkuQklUMztcbiAgICB9XG4gIH1cblxuICBtYXJrRGVsZXRlZCAoKSB7XG4gICAgdGhpcy5pbmZvIHw9IGJpbmFyeS5CSVQzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgY3JlYXRvciBjbGllbnRJRCBvZiB0aGUgbWlzc2luZyBvcCBvciBkZWZpbmUgbWlzc2luZyBpdGVtcyBhbmQgcmV0dXJuIG51bGwuXG4gICAqXG4gICAqIEBwYXJhbSB7VHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gICAqIEBwYXJhbSB7U3RydWN0U3RvcmV9IHN0b3JlXG4gICAqIEByZXR1cm4ge251bGwgfCBudW1iZXJ9XG4gICAqL1xuICBnZXRNaXNzaW5nICh0cmFuc2FjdGlvbiwgc3RvcmUpIHtcbiAgICBpZiAodGhpcy5vcmlnaW4gJiYgdGhpcy5vcmlnaW4uY2xpZW50ICE9PSB0aGlzLmlkLmNsaWVudCAmJiB0aGlzLm9yaWdpbi5jbG9jayA+PSBnZXRTdGF0ZShzdG9yZSwgdGhpcy5vcmlnaW4uY2xpZW50KSkge1xuICAgICAgcmV0dXJuIHRoaXMub3JpZ2luLmNsaWVudFxuICAgIH1cbiAgICBpZiAodGhpcy5yaWdodE9yaWdpbiAmJiB0aGlzLnJpZ2h0T3JpZ2luLmNsaWVudCAhPT0gdGhpcy5pZC5jbGllbnQgJiYgdGhpcy5yaWdodE9yaWdpbi5jbG9jayA+PSBnZXRTdGF0ZShzdG9yZSwgdGhpcy5yaWdodE9yaWdpbi5jbGllbnQpKSB7XG4gICAgICByZXR1cm4gdGhpcy5yaWdodE9yaWdpbi5jbGllbnRcbiAgICB9XG4gICAgaWYgKHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LmNvbnN0cnVjdG9yID09PSBJRCAmJiB0aGlzLmlkLmNsaWVudCAhPT0gdGhpcy5wYXJlbnQuY2xpZW50ICYmIHRoaXMucGFyZW50LmNsb2NrID49IGdldFN0YXRlKHN0b3JlLCB0aGlzLnBhcmVudC5jbGllbnQpKSB7XG4gICAgICByZXR1cm4gdGhpcy5wYXJlbnQuY2xpZW50XG4gICAgfVxuXG4gICAgLy8gV2UgaGF2ZSBhbGwgbWlzc2luZyBpZHMsIG5vdyBmaW5kIHRoZSBpdGVtc1xuXG4gICAgaWYgKHRoaXMub3JpZ2luKSB7XG4gICAgICB0aGlzLmxlZnQgPSBnZXRJdGVtQ2xlYW5FbmQodHJhbnNhY3Rpb24sIHN0b3JlLCB0aGlzLm9yaWdpbik7XG4gICAgICB0aGlzLm9yaWdpbiA9IHRoaXMubGVmdC5sYXN0SWQ7XG4gICAgfVxuICAgIGlmICh0aGlzLnJpZ2h0T3JpZ2luKSB7XG4gICAgICB0aGlzLnJpZ2h0ID0gZ2V0SXRlbUNsZWFuU3RhcnQodHJhbnNhY3Rpb24sIHRoaXMucmlnaHRPcmlnaW4pO1xuICAgICAgdGhpcy5yaWdodE9yaWdpbiA9IHRoaXMucmlnaHQuaWQ7XG4gICAgfVxuICAgIGlmICgodGhpcy5sZWZ0ICYmIHRoaXMubGVmdC5jb25zdHJ1Y3RvciA9PT0gR0MpIHx8ICh0aGlzLnJpZ2h0ICYmIHRoaXMucmlnaHQuY29uc3RydWN0b3IgPT09IEdDKSkge1xuICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIH1cbiAgICAvLyBvbmx5IHNldCBwYXJlbnQgaWYgdGhpcyBzaG91bGRuJ3QgYmUgZ2FyYmFnZSBjb2xsZWN0ZWRcbiAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICBpZiAodGhpcy5sZWZ0ICYmIHRoaXMubGVmdC5jb25zdHJ1Y3RvciA9PT0gSXRlbSkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMubGVmdC5wYXJlbnQ7XG4gICAgICAgIHRoaXMucGFyZW50U3ViID0gdGhpcy5sZWZ0LnBhcmVudFN1YjtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnJpZ2h0ICYmIHRoaXMucmlnaHQuY29uc3RydWN0b3IgPT09IEl0ZW0pIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLnJpZ2h0LnBhcmVudDtcbiAgICAgICAgdGhpcy5wYXJlbnRTdWIgPSB0aGlzLnJpZ2h0LnBhcmVudFN1YjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMucGFyZW50LmNvbnN0cnVjdG9yID09PSBJRCkge1xuICAgICAgY29uc3QgcGFyZW50SXRlbSA9IGdldEl0ZW0oc3RvcmUsIHRoaXMucGFyZW50KTtcbiAgICAgIGlmIChwYXJlbnRJdGVtLmNvbnN0cnVjdG9yID09PSBHQykge1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnBhcmVudCA9IC8qKiBAdHlwZSB7Q29udGVudFR5cGV9ICovIChwYXJlbnRJdGVtLmNvbnRlbnQpLnR5cGU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldFxuICAgKi9cbiAgaW50ZWdyYXRlICh0cmFuc2FjdGlvbiwgb2Zmc2V0KSB7XG4gICAgaWYgKG9mZnNldCA+IDApIHtcbiAgICAgIHRoaXMuaWQuY2xvY2sgKz0gb2Zmc2V0O1xuICAgICAgdGhpcy5sZWZ0ID0gZ2V0SXRlbUNsZWFuRW5kKHRyYW5zYWN0aW9uLCB0cmFuc2FjdGlvbi5kb2Muc3RvcmUsIGNyZWF0ZUlEKHRoaXMuaWQuY2xpZW50LCB0aGlzLmlkLmNsb2NrIC0gMSkpO1xuICAgICAgdGhpcy5vcmlnaW4gPSB0aGlzLmxlZnQubGFzdElkO1xuICAgICAgdGhpcy5jb250ZW50ID0gdGhpcy5jb250ZW50LnNwbGljZShvZmZzZXQpO1xuICAgICAgdGhpcy5sZW5ndGggLT0gb2Zmc2V0O1xuICAgIH1cblxuICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgaWYgKCghdGhpcy5sZWZ0ICYmICghdGhpcy5yaWdodCB8fCB0aGlzLnJpZ2h0LmxlZnQgIT09IG51bGwpKSB8fCAodGhpcy5sZWZ0ICYmIHRoaXMubGVmdC5yaWdodCAhPT0gdGhpcy5yaWdodCkpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtJdGVtfG51bGx9XG4gICAgICAgICAqL1xuICAgICAgICBsZXQgbGVmdCA9IHRoaXMubGVmdDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0l0ZW18bnVsbH1cbiAgICAgICAgICovXG4gICAgICAgIGxldCBvO1xuICAgICAgICAvLyBzZXQgbyB0byB0aGUgZmlyc3QgY29uZmxpY3RpbmcgaXRlbVxuICAgICAgICBpZiAobGVmdCAhPT0gbnVsbCkge1xuICAgICAgICAgIG8gPSBsZWZ0LnJpZ2h0O1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGFyZW50U3ViICE9PSBudWxsKSB7XG4gICAgICAgICAgbyA9IC8qKiBAdHlwZSB7QWJzdHJhY3RUeXBlPGFueT59ICovICh0aGlzLnBhcmVudCkuX21hcC5nZXQodGhpcy5wYXJlbnRTdWIpIHx8IG51bGw7XG4gICAgICAgICAgd2hpbGUgKG8gIT09IG51bGwgJiYgby5sZWZ0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBvID0gby5sZWZ0O1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvID0gLyoqIEB0eXBlIHtBYnN0cmFjdFR5cGU8YW55Pn0gKi8gKHRoaXMucGFyZW50KS5fc3RhcnQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogdXNlIHNvbWV0aGluZyBsaWtlIERlbGV0ZVNldCBoZXJlIChhIHRyZWUgaW1wbGVtZW50YXRpb24gd291bGQgYmUgYmVzdClcbiAgICAgICAgLy8gQHRvZG8gdXNlIGdsb2JhbCBzZXQgZGVmaW5pdGlvbnNcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtTZXQ8SXRlbT59XG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBjb25mbGljdGluZ0l0ZW1zID0gbmV3IFNldCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge1NldDxJdGVtPn1cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGl0ZW1zQmVmb3JlT3JpZ2luID0gbmV3IFNldCgpO1xuICAgICAgICAvLyBMZXQgYyBpbiBjb25mbGljdGluZ0l0ZW1zLCBiIGluIGl0ZW1zQmVmb3JlT3JpZ2luXG4gICAgICAgIC8vICoqKntvcmlnaW59YmJiYnt0aGlzfXtjLGJ9e2MsYn17b30qKipcbiAgICAgICAgLy8gTm90ZSB0aGF0IGNvbmZsaWN0aW5nSXRlbXMgaXMgYSBzdWJzZXQgb2YgaXRlbXNCZWZvcmVPcmlnaW5cbiAgICAgICAgd2hpbGUgKG8gIT09IG51bGwgJiYgbyAhPT0gdGhpcy5yaWdodCkge1xuICAgICAgICAgIGl0ZW1zQmVmb3JlT3JpZ2luLmFkZChvKTtcbiAgICAgICAgICBjb25mbGljdGluZ0l0ZW1zLmFkZChvKTtcbiAgICAgICAgICBpZiAoY29tcGFyZUlEcyh0aGlzLm9yaWdpbiwgby5vcmlnaW4pKSB7XG4gICAgICAgICAgICAvLyBjYXNlIDFcbiAgICAgICAgICAgIGlmIChvLmlkLmNsaWVudCA8IHRoaXMuaWQuY2xpZW50KSB7XG4gICAgICAgICAgICAgIGxlZnQgPSBvO1xuICAgICAgICAgICAgICBjb25mbGljdGluZ0l0ZW1zLmNsZWFyKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbXBhcmVJRHModGhpcy5yaWdodE9yaWdpbiwgby5yaWdodE9yaWdpbikpIHtcbiAgICAgICAgICAgICAgLy8gdGhpcyBhbmQgbyBhcmUgY29uZmxpY3RpbmcgYW5kIHBvaW50IHRvIHRoZSBzYW1lIGludGVncmF0aW9uIHBvaW50cy4gVGhlIGlkIGRlY2lkZXMgd2hpY2ggaXRlbSBjb21lcyBmaXJzdC5cbiAgICAgICAgICAgICAgLy8gU2luY2UgdGhpcyBpcyB0byB0aGUgbGVmdCBvZiBvLCB3ZSBjYW4gYnJlYWsgaGVyZVxuICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfSAvLyBlbHNlLCBvIG1pZ2h0IGJlIGludGVncmF0ZWQgYmVmb3JlIGFuIGl0ZW0gdGhhdCB0aGlzIGNvbmZsaWN0cyB3aXRoLiBJZiBzbywgd2Ugd2lsbCBmaW5kIGl0IGluIHRoZSBuZXh0IGl0ZXJhdGlvbnNcbiAgICAgICAgICB9IGVsc2UgaWYgKG8ub3JpZ2luICE9PSBudWxsICYmIGl0ZW1zQmVmb3JlT3JpZ2luLmhhcyhnZXRJdGVtKHRyYW5zYWN0aW9uLmRvYy5zdG9yZSwgby5vcmlnaW4pKSkgeyAvLyB1c2UgZ2V0SXRlbSBpbnN0ZWFkIG9mIGdldEl0ZW1DbGVhbkVuZCBiZWNhdXNlIHdlIGRvbid0IHdhbnQgLyBuZWVkIHRvIHNwbGl0IGl0ZW1zLlxuICAgICAgICAgICAgLy8gY2FzZSAyXG4gICAgICAgICAgICBpZiAoIWNvbmZsaWN0aW5nSXRlbXMuaGFzKGdldEl0ZW0odHJhbnNhY3Rpb24uZG9jLnN0b3JlLCBvLm9yaWdpbikpKSB7XG4gICAgICAgICAgICAgIGxlZnQgPSBvO1xuICAgICAgICAgICAgICBjb25mbGljdGluZ0l0ZW1zLmNsZWFyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICAgIG8gPSBvLnJpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGVmdCA9IGxlZnQ7XG4gICAgICB9XG4gICAgICAvLyByZWNvbm5lY3QgbGVmdC9yaWdodCArIHVwZGF0ZSBwYXJlbnQgbWFwL3N0YXJ0IGlmIG5lY2Vzc2FyeVxuICAgICAgaWYgKHRoaXMubGVmdCAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCByaWdodCA9IHRoaXMubGVmdC5yaWdodDtcbiAgICAgICAgdGhpcy5yaWdodCA9IHJpZ2h0O1xuICAgICAgICB0aGlzLmxlZnQucmlnaHQgPSB0aGlzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IHI7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudFN1YiAhPT0gbnVsbCkge1xuICAgICAgICAgIHIgPSAvKiogQHR5cGUge0Fic3RyYWN0VHlwZTxhbnk+fSAqLyAodGhpcy5wYXJlbnQpLl9tYXAuZ2V0KHRoaXMucGFyZW50U3ViKSB8fCBudWxsO1xuICAgICAgICAgIHdoaWxlIChyICE9PSBudWxsICYmIHIubGVmdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgciA9IHIubGVmdDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgciA9IC8qKiBAdHlwZSB7QWJzdHJhY3RUeXBlPGFueT59ICovICh0aGlzLnBhcmVudCkuX3N0YXJ0XG4gICAgICAgICAgOy8qKiBAdHlwZSB7QWJzdHJhY3RUeXBlPGFueT59ICovICh0aGlzLnBhcmVudCkuX3N0YXJ0ID0gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJpZ2h0ID0gcjtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnJpZ2h0ICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMucmlnaHQubGVmdCA9IHRoaXM7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMucGFyZW50U3ViICE9PSBudWxsKSB7XG4gICAgICAgIC8vIHNldCBhcyBjdXJyZW50IHBhcmVudCB2YWx1ZSBpZiByaWdodCA9PT0gbnVsbCBhbmQgdGhpcyBpcyBwYXJlbnRTdWJcbiAgICAgICAgLyoqIEB0eXBlIHtBYnN0cmFjdFR5cGU8YW55Pn0gKi8gKHRoaXMucGFyZW50KS5fbWFwLnNldCh0aGlzLnBhcmVudFN1YiwgdGhpcyk7XG4gICAgICAgIGlmICh0aGlzLmxlZnQgIT09IG51bGwpIHtcbiAgICAgICAgICAvLyB0aGlzIGlzIHRoZSBjdXJyZW50IGF0dHJpYnV0ZSB2YWx1ZSBvZiBwYXJlbnQuIGRlbGV0ZSByaWdodFxuICAgICAgICAgIHRoaXMubGVmdC5kZWxldGUodHJhbnNhY3Rpb24pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBhZGp1c3QgbGVuZ3RoIG9mIHBhcmVudFxuICAgICAgaWYgKHRoaXMucGFyZW50U3ViID09PSBudWxsICYmIHRoaXMuY291bnRhYmxlICYmICF0aGlzLmRlbGV0ZWQpIHtcbiAgICAgICAgLyoqIEB0eXBlIHtBYnN0cmFjdFR5cGU8YW55Pn0gKi8gKHRoaXMucGFyZW50KS5fbGVuZ3RoICs9IHRoaXMubGVuZ3RoO1xuICAgICAgfVxuICAgICAgYWRkU3RydWN0KHRyYW5zYWN0aW9uLmRvYy5zdG9yZSwgdGhpcyk7XG4gICAgICB0aGlzLmNvbnRlbnQuaW50ZWdyYXRlKHRyYW5zYWN0aW9uLCB0aGlzKTtcbiAgICAgIC8vIGFkZCBwYXJlbnQgdG8gdHJhbnNhY3Rpb24uY2hhbmdlZFxuICAgICAgYWRkQ2hhbmdlZFR5cGVUb1RyYW5zYWN0aW9uKHRyYW5zYWN0aW9uLCAvKiogQHR5cGUge0Fic3RyYWN0VHlwZTxhbnk+fSAqLyAodGhpcy5wYXJlbnQpLCB0aGlzLnBhcmVudFN1Yik7XG4gICAgICBpZiAoKC8qKiBAdHlwZSB7QWJzdHJhY3RUeXBlPGFueT59ICovICh0aGlzLnBhcmVudCkuX2l0ZW0gIT09IG51bGwgJiYgLyoqIEB0eXBlIHtBYnN0cmFjdFR5cGU8YW55Pn0gKi8gKHRoaXMucGFyZW50KS5faXRlbS5kZWxldGVkKSB8fCAodGhpcy5wYXJlbnRTdWIgIT09IG51bGwgJiYgdGhpcy5yaWdodCAhPT0gbnVsbCkpIHtcbiAgICAgICAgLy8gZGVsZXRlIGlmIHBhcmVudCBpcyBkZWxldGVkIG9yIGlmIHRoaXMgaXMgbm90IHRoZSBjdXJyZW50IGF0dHJpYnV0ZSB2YWx1ZSBvZiBwYXJlbnRcbiAgICAgICAgdGhpcy5kZWxldGUodHJhbnNhY3Rpb24pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBwYXJlbnQgaXMgbm90IGRlZmluZWQuIEludGVncmF0ZSBHQyBzdHJ1Y3QgaW5zdGVhZFxuICAgICAgbmV3IEdDKHRoaXMuaWQsIHRoaXMubGVuZ3RoKS5pbnRlZ3JhdGUodHJhbnNhY3Rpb24sIDApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBuZXh0IG5vbi1kZWxldGVkIGl0ZW1cbiAgICovXG4gIGdldCBuZXh0ICgpIHtcbiAgICBsZXQgbiA9IHRoaXMucmlnaHQ7XG4gICAgd2hpbGUgKG4gIT09IG51bGwgJiYgbi5kZWxldGVkKSB7XG4gICAgICBuID0gbi5yaWdodDtcbiAgICB9XG4gICAgcmV0dXJuIG5cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBwcmV2aW91cyBub24tZGVsZXRlZCBpdGVtXG4gICAqL1xuICBnZXQgcHJldiAoKSB7XG4gICAgbGV0IG4gPSB0aGlzLmxlZnQ7XG4gICAgd2hpbGUgKG4gIT09IG51bGwgJiYgbi5kZWxldGVkKSB7XG4gICAgICBuID0gbi5sZWZ0O1xuICAgIH1cbiAgICByZXR1cm4gblxuICB9XG5cbiAgLyoqXG4gICAqIENvbXB1dGVzIHRoZSBsYXN0IGNvbnRlbnQgYWRkcmVzcyBvZiB0aGlzIEl0ZW0uXG4gICAqL1xuICBnZXQgbGFzdElkICgpIHtcbiAgICAvLyBhbGxvY2F0aW5nIGlkcyBpcyBwcmV0dHkgY29zdGx5IGJlY2F1c2Ugb2YgdGhlIGFtb3VudCBvZiBpZHMgY3JlYXRlZCwgc28gd2UgdHJ5IHRvIHJldXNlIHdoZW5ldmVyIHBvc3NpYmxlXG4gICAgcmV0dXJuIHRoaXMubGVuZ3RoID09PSAxID8gdGhpcy5pZCA6IGNyZWF0ZUlEKHRoaXMuaWQuY2xpZW50LCB0aGlzLmlkLmNsb2NrICsgdGhpcy5sZW5ndGggLSAxKVxuICB9XG5cbiAgLyoqXG4gICAqIFRyeSB0byBtZXJnZSB0d28gaXRlbXNcbiAgICpcbiAgICogQHBhcmFtIHtJdGVtfSByaWdodFxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgbWVyZ2VXaXRoIChyaWdodCkge1xuICAgIGlmIChcbiAgICAgIHRoaXMuY29uc3RydWN0b3IgPT09IHJpZ2h0LmNvbnN0cnVjdG9yICYmXG4gICAgICBjb21wYXJlSURzKHJpZ2h0Lm9yaWdpbiwgdGhpcy5sYXN0SWQpICYmXG4gICAgICB0aGlzLnJpZ2h0ID09PSByaWdodCAmJlxuICAgICAgY29tcGFyZUlEcyh0aGlzLnJpZ2h0T3JpZ2luLCByaWdodC5yaWdodE9yaWdpbikgJiZcbiAgICAgIHRoaXMuaWQuY2xpZW50ID09PSByaWdodC5pZC5jbGllbnQgJiZcbiAgICAgIHRoaXMuaWQuY2xvY2sgKyB0aGlzLmxlbmd0aCA9PT0gcmlnaHQuaWQuY2xvY2sgJiZcbiAgICAgIHRoaXMuZGVsZXRlZCA9PT0gcmlnaHQuZGVsZXRlZCAmJlxuICAgICAgdGhpcy5yZWRvbmUgPT09IG51bGwgJiZcbiAgICAgIHJpZ2h0LnJlZG9uZSA9PT0gbnVsbCAmJlxuICAgICAgdGhpcy5jb250ZW50LmNvbnN0cnVjdG9yID09PSByaWdodC5jb250ZW50LmNvbnN0cnVjdG9yICYmXG4gICAgICB0aGlzLmNvbnRlbnQubWVyZ2VXaXRoKHJpZ2h0LmNvbnRlbnQpXG4gICAgKSB7XG4gICAgICBjb25zdCBzZWFyY2hNYXJrZXIgPSAvKiogQHR5cGUge0Fic3RyYWN0VHlwZTxhbnk+fSAqLyAodGhpcy5wYXJlbnQpLl9zZWFyY2hNYXJrZXI7XG4gICAgICBpZiAoc2VhcmNoTWFya2VyKSB7XG4gICAgICAgIHNlYXJjaE1hcmtlci5mb3JFYWNoKG1hcmtlciA9PiB7XG4gICAgICAgICAgaWYgKG1hcmtlci5wID09PSByaWdodCkge1xuICAgICAgICAgICAgLy8gcmlnaHQgaXMgZ29pbmcgdG8gYmUgXCJmb3Jnb3R0ZW5cIiBzbyB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgbWFya2VyXG4gICAgICAgICAgICBtYXJrZXIucCA9IHRoaXM7XG4gICAgICAgICAgICAvLyBhZGp1c3QgbWFya2VyIGluZGV4XG4gICAgICAgICAgICBpZiAoIXRoaXMuZGVsZXRlZCAmJiB0aGlzLmNvdW50YWJsZSkge1xuICAgICAgICAgICAgICBtYXJrZXIuaW5kZXggLT0gdGhpcy5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChyaWdodC5rZWVwKSB7XG4gICAgICAgIHRoaXMua2VlcCA9IHRydWU7XG4gICAgICB9XG4gICAgICB0aGlzLnJpZ2h0ID0gcmlnaHQucmlnaHQ7XG4gICAgICBpZiAodGhpcy5yaWdodCAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLnJpZ2h0LmxlZnQgPSB0aGlzO1xuICAgICAgfVxuICAgICAgdGhpcy5sZW5ndGggKz0gcmlnaHQubGVuZ3RoO1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvKipcbiAgICogTWFyayB0aGlzIEl0ZW0gYXMgZGVsZXRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAgICovXG4gIGRlbGV0ZSAodHJhbnNhY3Rpb24pIHtcbiAgICBpZiAoIXRoaXMuZGVsZXRlZCkge1xuICAgICAgY29uc3QgcGFyZW50ID0gLyoqIEB0eXBlIHtBYnN0cmFjdFR5cGU8YW55Pn0gKi8gKHRoaXMucGFyZW50KTtcbiAgICAgIC8vIGFkanVzdCB0aGUgbGVuZ3RoIG9mIHBhcmVudFxuICAgICAgaWYgKHRoaXMuY291bnRhYmxlICYmIHRoaXMucGFyZW50U3ViID09PSBudWxsKSB7XG4gICAgICAgIHBhcmVudC5fbGVuZ3RoIC09IHRoaXMubGVuZ3RoO1xuICAgICAgfVxuICAgICAgdGhpcy5tYXJrRGVsZXRlZCgpO1xuICAgICAgYWRkVG9EZWxldGVTZXQodHJhbnNhY3Rpb24uZGVsZXRlU2V0LCB0aGlzLmlkLmNsaWVudCwgdGhpcy5pZC5jbG9jaywgdGhpcy5sZW5ndGgpO1xuICAgICAgYWRkQ2hhbmdlZFR5cGVUb1RyYW5zYWN0aW9uKHRyYW5zYWN0aW9uLCBwYXJlbnQsIHRoaXMucGFyZW50U3ViKTtcbiAgICAgIHRoaXMuY29udGVudC5kZWxldGUodHJhbnNhY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N0cnVjdFN0b3JlfSBzdG9yZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHBhcmVudEdDZFxuICAgKi9cbiAgZ2MgKHN0b3JlLCBwYXJlbnRHQ2QpIHtcbiAgICBpZiAoIXRoaXMuZGVsZXRlZCkge1xuICAgICAgdGhyb3cgZXJyb3IudW5leHBlY3RlZENhc2UoKVxuICAgIH1cbiAgICB0aGlzLmNvbnRlbnQuZ2Moc3RvcmUpO1xuICAgIGlmIChwYXJlbnRHQ2QpIHtcbiAgICAgIHJlcGxhY2VTdHJ1Y3Qoc3RvcmUsIHRoaXMsIG5ldyBHQyh0aGlzLmlkLCB0aGlzLmxlbmd0aCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvbnRlbnQgPSBuZXcgQ29udGVudERlbGV0ZWQodGhpcy5sZW5ndGgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc2Zvcm0gdGhlIHByb3BlcnRpZXMgb2YgdGhpcyB0eXBlIHRvIGJpbmFyeSBhbmQgd3JpdGUgaXQgdG8gYW5cbiAgICogQmluYXJ5RW5jb2Rlci5cbiAgICpcbiAgICogVGhpcyBpcyBjYWxsZWQgd2hlbiB0aGlzIEl0ZW0gaXMgc2VudCB0byBhIHJlbW90ZSBwZWVyLlxuICAgKlxuICAgKiBAcGFyYW0ge1VwZGF0ZUVuY29kZXJWMSB8IFVwZGF0ZUVuY29kZXJWMn0gZW5jb2RlciBUaGUgZW5jb2RlciB0byB3cml0ZSBkYXRhIHRvLlxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0XG4gICAqL1xuICB3cml0ZSAoZW5jb2Rlciwgb2Zmc2V0KSB7XG4gICAgY29uc3Qgb3JpZ2luID0gb2Zmc2V0ID4gMCA/IGNyZWF0ZUlEKHRoaXMuaWQuY2xpZW50LCB0aGlzLmlkLmNsb2NrICsgb2Zmc2V0IC0gMSkgOiB0aGlzLm9yaWdpbjtcbiAgICBjb25zdCByaWdodE9yaWdpbiA9IHRoaXMucmlnaHRPcmlnaW47XG4gICAgY29uc3QgcGFyZW50U3ViID0gdGhpcy5wYXJlbnRTdWI7XG4gICAgY29uc3QgaW5mbyA9ICh0aGlzLmNvbnRlbnQuZ2V0UmVmKCkgJiBiaW5hcnkuQklUUzUpIHxcbiAgICAgIChvcmlnaW4gPT09IG51bGwgPyAwIDogYmluYXJ5LkJJVDgpIHwgLy8gb3JpZ2luIGlzIGRlZmluZWRcbiAgICAgIChyaWdodE9yaWdpbiA9PT0gbnVsbCA/IDAgOiBiaW5hcnkuQklUNykgfCAvLyByaWdodCBvcmlnaW4gaXMgZGVmaW5lZFxuICAgICAgKHBhcmVudFN1YiA9PT0gbnVsbCA/IDAgOiBiaW5hcnkuQklUNik7IC8vIHBhcmVudFN1YiBpcyBub24tbnVsbFxuICAgIGVuY29kZXIud3JpdGVJbmZvKGluZm8pO1xuICAgIGlmIChvcmlnaW4gIT09IG51bGwpIHtcbiAgICAgIGVuY29kZXIud3JpdGVMZWZ0SUQob3JpZ2luKTtcbiAgICB9XG4gICAgaWYgKHJpZ2h0T3JpZ2luICE9PSBudWxsKSB7XG4gICAgICBlbmNvZGVyLndyaXRlUmlnaHRJRChyaWdodE9yaWdpbik7XG4gICAgfVxuICAgIGlmIChvcmlnaW4gPT09IG51bGwgJiYgcmlnaHRPcmlnaW4gPT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHBhcmVudCA9IC8qKiBAdHlwZSB7QWJzdHJhY3RUeXBlPGFueT59ICovICh0aGlzLnBhcmVudCk7XG4gICAgICBpZiAocGFyZW50Ll9pdGVtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgcGFyZW50SXRlbSA9IHBhcmVudC5faXRlbTtcbiAgICAgICAgaWYgKHBhcmVudEl0ZW0gPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBwYXJlbnQgdHlwZSBvbiB5Ll9tYXBcbiAgICAgICAgICAvLyBmaW5kIHRoZSBjb3JyZWN0IGtleVxuICAgICAgICAgIGNvbnN0IHlrZXkgPSBmaW5kUm9vdFR5cGVLZXkocGFyZW50KTtcbiAgICAgICAgICBlbmNvZGVyLndyaXRlUGFyZW50SW5mbyh0cnVlKTsgLy8gd3JpdGUgcGFyZW50WUtleVxuICAgICAgICAgIGVuY29kZXIud3JpdGVTdHJpbmcoeWtleSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW5jb2Rlci53cml0ZVBhcmVudEluZm8oZmFsc2UpOyAvLyB3cml0ZSBwYXJlbnQgaWRcbiAgICAgICAgICBlbmNvZGVyLndyaXRlTGVmdElEKHBhcmVudEl0ZW0uaWQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHBhcmVudC5jb25zdHJ1Y3RvciA9PT0gU3RyaW5nKSB7IC8vIHRoaXMgZWRnZSBjYXNlIHdhcyBhZGRlZCBieSBkaWZmZXJlbnRpYWwgdXBkYXRlc1xuICAgICAgICBlbmNvZGVyLndyaXRlUGFyZW50SW5mbyh0cnVlKTsgLy8gd3JpdGUgcGFyZW50WUtleVxuICAgICAgICBlbmNvZGVyLndyaXRlU3RyaW5nKHBhcmVudCk7XG4gICAgICB9IGVsc2UgaWYgKHBhcmVudC5jb25zdHJ1Y3RvciA9PT0gSUQpIHtcbiAgICAgICAgZW5jb2Rlci53cml0ZVBhcmVudEluZm8oZmFsc2UpOyAvLyB3cml0ZSBwYXJlbnQgaWRcbiAgICAgICAgZW5jb2Rlci53cml0ZUxlZnRJRChwYXJlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXJyb3IudW5leHBlY3RlZENhc2UoKTtcbiAgICAgIH1cbiAgICAgIGlmIChwYXJlbnRTdWIgIT09IG51bGwpIHtcbiAgICAgICAgZW5jb2Rlci53cml0ZVN0cmluZyhwYXJlbnRTdWIpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmNvbnRlbnQud3JpdGUoZW5jb2Rlciwgb2Zmc2V0KTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7VXBkYXRlRGVjb2RlclYxIHwgVXBkYXRlRGVjb2RlclYyfSBkZWNvZGVyXG4gKiBAcGFyYW0ge251bWJlcn0gaW5mb1xuICovXG5jb25zdCByZWFkSXRlbUNvbnRlbnQgPSAoZGVjb2RlciwgaW5mbykgPT4gY29udGVudFJlZnNbaW5mbyAmIGJpbmFyeS5CSVRTNV0oZGVjb2Rlcik7XG5cbi8qKlxuICogQSBsb29rdXAgbWFwIGZvciByZWFkaW5nIEl0ZW0gY29udGVudC5cbiAqXG4gKiBAdHlwZSB7QXJyYXk8ZnVuY3Rpb24oVXBkYXRlRGVjb2RlclYxIHwgVXBkYXRlRGVjb2RlclYyKTpBYnN0cmFjdENvbnRlbnQ+fVxuICovXG5jb25zdCBjb250ZW50UmVmcyA9IFtcbiAgKCkgPT4geyBlcnJvci51bmV4cGVjdGVkQ2FzZSgpOyB9LCAvLyBHQyBpcyBub3QgSXRlbUNvbnRlbnRcbiAgcmVhZENvbnRlbnREZWxldGVkLCAvLyAxXG4gIHJlYWRDb250ZW50SlNPTiwgLy8gMlxuICByZWFkQ29udGVudEJpbmFyeSwgLy8gM1xuICByZWFkQ29udGVudFN0cmluZywgLy8gNFxuICByZWFkQ29udGVudEVtYmVkLCAvLyA1XG4gIHJlYWRDb250ZW50Rm9ybWF0LCAvLyA2XG4gIHJlYWRDb250ZW50VHlwZSwgLy8gN1xuICByZWFkQ29udGVudEFueSwgLy8gOFxuICByZWFkQ29udGVudERvYywgLy8gOVxuICAoKSA9PiB7IGVycm9yLnVuZXhwZWN0ZWRDYXNlKCk7IH0gLy8gMTAgLSBTa2lwIGlzIG5vdCBJdGVtQ29udGVudFxuXTtcblxuY29uc3Qgc3RydWN0U2tpcFJlZk51bWJlciA9IDEwO1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIFNraXAgZXh0ZW5kcyBBYnN0cmFjdFN0cnVjdCB7XG4gIGdldCBkZWxldGVkICgpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgZGVsZXRlICgpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U2tpcH0gcmlnaHRcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIG1lcmdlV2l0aCAocmlnaHQpIHtcbiAgICBpZiAodGhpcy5jb25zdHJ1Y3RvciAhPT0gcmlnaHQuY29uc3RydWN0b3IpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICB0aGlzLmxlbmd0aCArPSByaWdodC5sZW5ndGg7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0XG4gICAqL1xuICBpbnRlZ3JhdGUgKHRyYW5zYWN0aW9uLCBvZmZzZXQpIHtcbiAgICAvLyBza2lwIHN0cnVjdHMgY2Fubm90IGJlIGludGVncmF0ZWRcbiAgICBlcnJvci51bmV4cGVjdGVkQ2FzZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VXBkYXRlRW5jb2RlclYxIHwgVXBkYXRlRW5jb2RlclYyfSBlbmNvZGVyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRcbiAgICovXG4gIHdyaXRlIChlbmNvZGVyLCBvZmZzZXQpIHtcbiAgICBlbmNvZGVyLndyaXRlSW5mbyhzdHJ1Y3RTa2lwUmVmTnVtYmVyKTtcbiAgICAvLyB3cml0ZSBhcyBWYXJVaW50IGJlY2F1c2UgU2tpcHMgY2FuJ3QgbWFrZSB1c2Ugb2YgcHJlZGljdGFibGUgbGVuZ3RoLWVuY29kaW5nXG4gICAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KGVuY29kZXIucmVzdEVuY29kZXIsIHRoaXMubGVuZ3RoIC0gb2Zmc2V0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKiBAcGFyYW0ge1N0cnVjdFN0b3JlfSBzdG9yZVxuICAgKiBAcmV0dXJuIHtudWxsIHwgbnVtYmVyfVxuICAgKi9cbiAgZ2V0TWlzc2luZyAodHJhbnNhY3Rpb24sIHN0b3JlKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG4vKiogZXNsaW50LWVudiBicm93c2VyICovXG5cbmNvbnN0IGdsbyA9IC8qKiBAdHlwZSB7YW55fSAqLyAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcbiAgPyB3aW5kb3dcbiAgLy8gQHRzLWlnbm9yZVxuICA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDoge30pO1xuXG5jb25zdCBpbXBvcnRJZGVudGlmaWVyID0gJ19fICRZSlMkIF9fJztcblxuaWYgKGdsb1tpbXBvcnRJZGVudGlmaWVyXSA9PT0gdHJ1ZSkge1xuICAvKipcbiAgICogRGVhciByZWFkZXIgb2YgdGhpcyBtZXNzYWdlLiBQbGVhc2UgdGFrZSB0aGlzIHNlcmlvdXNseS5cbiAgICpcbiAgICogSWYgeW91IHNlZSB0aGlzIG1lc3NhZ2UsIG1ha2Ugc3VyZSB0aGF0IHlvdSBvbmx5IGltcG9ydCBvbmUgdmVyc2lvbiBvZiBZanMuIEluIG1hbnkgY2FzZXMsXG4gICAqIHlvdXIgcGFja2FnZSBtYW5hZ2VyIGluc3RhbGxzIHR3byB2ZXJzaW9ucyBvZiBZanMgdGhhdCBhcmUgdXNlZCBieSBkaWZmZXJlbnQgcGFja2FnZXMgd2l0aGluIHlvdXIgcHJvamVjdC5cbiAgICogQW5vdGhlciByZWFzb24gZm9yIHRoaXMgbWVzc2FnZSBpcyB0aGF0IHNvbWUgcGFydHMgb2YgeW91ciBwcm9qZWN0IHVzZSB0aGUgY29tbW9uanMgdmVyc2lvbiBvZiBZanNcbiAgICogYW5kIG90aGVycyB1c2UgdGhlIEVjbWFTY3JpcHQgdmVyc2lvbiBvZiBZanMuXG4gICAqXG4gICAqIFRoaXMgb2Z0ZW4gbGVhZHMgdG8gaXNzdWVzIHRoYXQgYXJlIGhhcmQgdG8gZGVidWcuIFdlIG9mdGVuIG5lZWQgdG8gcGVyZm9ybSBjb25zdHJ1Y3RvciBjaGVja3MsXG4gICAqIGUuZy4gYHN0cnVjdCBpbnN0YW5jZW9mIEdDYC4gSWYgeW91IGltcG9ydGVkIGRpZmZlcmVudCB2ZXJzaW9ucyBvZiBZanMsIGl0IGlzIGltcG9zc2libGUgZm9yIHVzIHRvXG4gICAqIGRvIHRoZSBjb25zdHJ1Y3RvciBjaGVja3MgYW55bW9yZSAtIHdoaWNoIG1pZ2h0IGJyZWFrIHRoZSBDUkRUIGFsZ29yaXRobS5cbiAgICovXG4gIGNvbnNvbGUuZXJyb3IoJ1lqcyB3YXMgYWxyZWFkeSBpbXBvcnRlZC4gVGhpcyBicmVha3MgY29uc3RydWN0b3IgY2hlY2tzIGFuZCB3aWxsIGxlYWQgdG8gaXNzc3VlcyEnKTtcbn1cbmdsb1tpbXBvcnRJZGVudGlmaWVyXSA9IHRydWU7XG5cbmV4cG9ydCB7IEFic29sdXRlUG9zaXRpb24sIEFic3RyYWN0Q29ubmVjdG9yLCBBYnN0cmFjdFN0cnVjdCwgQWJzdHJhY3RUeXBlLCBZQXJyYXkgYXMgQXJyYXksIENvbnRlbnRBbnksIENvbnRlbnRCaW5hcnksIENvbnRlbnREZWxldGVkLCBDb250ZW50RW1iZWQsIENvbnRlbnRGb3JtYXQsIENvbnRlbnRKU09OLCBDb250ZW50U3RyaW5nLCBDb250ZW50VHlwZSwgRG9jLCBHQywgSUQsIEl0ZW0sIFlNYXAgYXMgTWFwLCBQZXJtYW5lbnRVc2VyRGF0YSwgUmVsYXRpdmVQb3NpdGlvbiwgU25hcHNob3QsIFlUZXh0IGFzIFRleHQsIFRyYW5zYWN0aW9uLCBVbmRvTWFuYWdlciwgVXBkYXRlRW5jb2RlclYxLCBZWG1sRWxlbWVudCBhcyBYbWxFbGVtZW50LCBZWG1sRnJhZ21lbnQgYXMgWG1sRnJhZ21lbnQsIFlYbWxIb29rIGFzIFhtbEhvb2ssIFlYbWxUZXh0IGFzIFhtbFRleHQsIFlBcnJheUV2ZW50LCBZRXZlbnQsIFlNYXBFdmVudCwgWVRleHRFdmVudCwgWVhtbEV2ZW50LCBhcHBseVVwZGF0ZSwgYXBwbHlVcGRhdGVWMiwgY2xlYW51cFlUZXh0Rm9ybWF0dGluZywgY29tcGFyZUlEcywgY29tcGFyZVJlbGF0aXZlUG9zaXRpb25zLCBjb252ZXJ0VXBkYXRlRm9ybWF0VjFUb1YyLCBjb252ZXJ0VXBkYXRlRm9ybWF0VjJUb1YxLCBjcmVhdGVBYnNvbHV0ZVBvc2l0aW9uRnJvbVJlbGF0aXZlUG9zaXRpb24sIGNyZWF0ZURlbGV0ZVNldCwgY3JlYXRlRGVsZXRlU2V0RnJvbVN0cnVjdFN0b3JlLCBjcmVhdGVEb2NGcm9tU25hcHNob3QsIGNyZWF0ZUlELCBjcmVhdGVSZWxhdGl2ZVBvc2l0aW9uRnJvbUpTT04sIGNyZWF0ZVJlbGF0aXZlUG9zaXRpb25Gcm9tVHlwZUluZGV4LCBjcmVhdGVTbmFwc2hvdCwgZGVjb2RlUmVsYXRpdmVQb3NpdGlvbiwgZGVjb2RlU25hcHNob3QsIGRlY29kZVNuYXBzaG90VjIsIGRlY29kZVN0YXRlVmVjdG9yLCBkZWNvZGVVcGRhdGUsIGRlY29kZVVwZGF0ZVYyLCBkaWZmVXBkYXRlLCBkaWZmVXBkYXRlVjIsIGVtcHR5U25hcHNob3QsIGVuY29kZVJlbGF0aXZlUG9zaXRpb24sIGVuY29kZVNuYXBzaG90LCBlbmNvZGVTbmFwc2hvdFYyLCBlbmNvZGVTdGF0ZUFzVXBkYXRlLCBlbmNvZGVTdGF0ZUFzVXBkYXRlVjIsIGVuY29kZVN0YXRlVmVjdG9yLCBlbmNvZGVTdGF0ZVZlY3RvckZyb21VcGRhdGUsIGVuY29kZVN0YXRlVmVjdG9yRnJvbVVwZGF0ZVYyLCBlcXVhbFNuYXBzaG90cywgZmluZEluZGV4U1MsIGZpbmRSb290VHlwZUtleSwgZ2V0SXRlbSwgZ2V0U3RhdGUsIGdldFR5cGVDaGlsZHJlbiwgaXNEZWxldGVkLCBpc1BhcmVudE9mLCBpdGVyYXRlRGVsZXRlZFN0cnVjdHMsIGxvZ1R5cGUsIGxvZ1VwZGF0ZSwgbG9nVXBkYXRlVjIsIG1lcmdlVXBkYXRlcywgbWVyZ2VVcGRhdGVzVjIsIHBhcnNlVXBkYXRlTWV0YSwgcGFyc2VVcGRhdGVNZXRhVjIsIHJlYWRVcGRhdGUsIHJlYWRVcGRhdGVWMiwgcmVsYXRpdmVQb3NpdGlvblRvSlNPTiwgc25hcHNob3QsIHRyYW5zYWN0LCB0cnlHYywgdHlwZUxpc3RUb0FycmF5U25hcHNob3QsIHR5cGVNYXBHZXRTbmFwc2hvdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9eWpzLm1qcy5tYXBcbiIsIi8qKlxuICogVXRpbGl0eSBoZWxwZXJzIHRvIHdvcmsgd2l0aCBwcm9taXNlcy5cbiAqXG4gKiBAbW9kdWxlIHByb21pc2VcbiAqL1xuXG5pbXBvcnQgKiBhcyB0aW1lIGZyb20gJy4vdGltZS5qcydcblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQGNhbGxiYWNrIFByb21pc2VSZXNvbHZlXG4gKiBAcGFyYW0ge1R8UHJvbWlzZUxpa2U8VD59IFtyZXN1bHRdXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtmdW5jdGlvbihQcm9taXNlUmVzb2x2ZTxUPixmdW5jdGlvbihFcnJvcik6dm9pZCk6YW55fSBmXG4gKiBAcmV0dXJuIHtQcm9taXNlPFQ+fVxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlID0gZiA9PiAvKiogQHR5cGUge1Byb21pc2U8VD59ICovIChuZXcgUHJvbWlzZShmKSlcblxuLyoqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGZ1bmN0aW9uKCk6dm9pZCxmdW5jdGlvbihFcnJvcik6dm9pZCk6dm9pZH0gZlxuICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn1cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUVtcHR5ID0gZiA9PiBuZXcgUHJvbWlzZShmKVxuXG4vKipcbiAqIGBQcm9taXNlLmFsbGAgd2FpdCBmb3IgYWxsIHByb21pc2VzIGluIHRoZSBhcnJheSB0byByZXNvbHZlIGFuZCByZXR1cm4gdGhlIHJlc3VsdFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7QXJyYXk8UHJvbWlzZTxUPj59IGFycnBcbiAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXk8VD4+fVxuICovXG5leHBvcnQgY29uc3QgYWxsID0gYXJycCA9PiBQcm9taXNlLmFsbChhcnJwKVxuXG4vKipcbiAqIEBwYXJhbSB7RXJyb3J9IFtyZWFzb25dXG4gKiBAcmV0dXJuIHtQcm9taXNlPG5ldmVyPn1cbiAqL1xuZXhwb3J0IGNvbnN0IHJlamVjdCA9IHJlYXNvbiA9PiBQcm9taXNlLnJlamVjdChyZWFzb24pXG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7VHx2b2lkfSByZXNcbiAqIEByZXR1cm4ge1Byb21pc2U8VHx2b2lkPn1cbiAqL1xuZXhwb3J0IGNvbnN0IHJlc29sdmUgPSByZXMgPT4gUHJvbWlzZS5yZXNvbHZlKHJlcylcblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtUfSByZXNcbiAqIEByZXR1cm4ge1Byb21pc2U8VD59XG4gKi9cbmV4cG9ydCBjb25zdCByZXNvbHZlV2l0aCA9IHJlcyA9PiBQcm9taXNlLnJlc29sdmUocmVzKVxuXG4vKipcbiAqIEB0b2RvIE5leHQgdmVyc2lvbiwgcmVvcmRlciBwYXJhbWV0ZXJzOiBjaGVjaywgW3RpbWVvdXQsIFtpbnRlcnZhbFJlc29sdXRpb25dXVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lb3V0XG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCk6Ym9vbGVhbn0gY2hlY2tcbiAqIEBwYXJhbSB7bnVtYmVyfSBbaW50ZXJ2YWxSZXNvbHV0aW9uXVxuICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn1cbiAqL1xuZXhwb3J0IGNvbnN0IHVudGlsID0gKHRpbWVvdXQsIGNoZWNrLCBpbnRlcnZhbFJlc29sdXRpb24gPSAxMCkgPT4gY3JlYXRlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgY29uc3Qgc3RhcnRUaW1lID0gdGltZS5nZXRVbml4VGltZSgpXG4gIGNvbnN0IGhhc1RpbWVvdXQgPSB0aW1lb3V0ID4gMFxuICBjb25zdCB1bnRpbEludGVydmFsID0gKCkgPT4ge1xuICAgIGlmIChjaGVjaygpKSB7XG4gICAgICBjbGVhckludGVydmFsKGludGVydmFsSGFuZGxlKVxuICAgICAgcmVzb2x2ZSgpXG4gICAgfSBlbHNlIGlmIChoYXNUaW1lb3V0KSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgaWYgKHRpbWUuZ2V0VW5peFRpbWUoKSAtIHN0YXJ0VGltZSA+IHRpbWVvdXQpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbEhhbmRsZSlcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignVGltZW91dCcpKVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25zdCBpbnRlcnZhbEhhbmRsZSA9IHNldEludGVydmFsKHVudGlsSW50ZXJ2YWwsIGludGVydmFsUmVzb2x1dGlvbilcbn0pXG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHRpbWVvdXRcbiAqIEByZXR1cm4ge1Byb21pc2U8dW5kZWZpbmVkPn1cbiAqL1xuZXhwb3J0IGNvbnN0IHdhaXQgPSB0aW1lb3V0ID0+IGNyZWF0ZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIHRpbWVvdXQpKVxuXG4vKipcbiAqIENoZWNrcyBpZiBhbiBvYmplY3QgaXMgYSBwcm9taXNlIHVzaW5nIGR1Y2t0eXBpbmcuXG4gKlxuICogUHJvbWlzZXMgYXJlIG9mdGVuIHBvbHlmaWxsZWQsIHNvIGl0IG1ha2VzIHNlbnNlIHRvIGFkZCBzb21lIGFkZGl0aW9uYWwgZ3VhcmFudGVlcyBpZiB0aGUgdXNlciBvZiB0aGlzXG4gKiBsaWJyYXJ5IGhhcyBzb21lIGluc2FuZSBlbnZpcm9ubWVudCB3aGVyZSBnbG9iYWwgUHJvbWlzZSBvYmplY3RzIGFyZSBvdmVyd3JpdHRlbi5cbiAqXG4gKiBAcGFyYW0ge2FueX0gcFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGNvbnN0IGlzUHJvbWlzZSA9IHAgPT4gcCBpbnN0YW5jZW9mIFByb21pc2UgfHwgKHAgJiYgcC50aGVuICYmIHAuY2F0Y2ggJiYgcC5maW5hbGx5KVxuIixudWxsLG51bGwsbnVsbCwiaW1wb3J0e25vdGhpbmcgYXMgdH1mcm9tXCIuLi9saXQtaHRtbC5qc1wiO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovY29uc3QgbD1sPT5udWxsIT1sP2w6dDtleHBvcnR7bCBhcyBpZkRlZmluZWR9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWYtZGVmaW5lZC5qcy5tYXBcbiIsIi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuXG4vKipcbiAqIFRpbnkgd2Vic29ja2V0IGNvbm5lY3Rpb24gaGFuZGxlci5cbiAqXG4gKiBJbXBsZW1lbnRzIGV4cG9uZW50aWFsIGJhY2tvZmYgcmVjb25uZWN0cywgcGluZy9wb25nLCBhbmQgYSBuaWNlIGV2ZW50IHN5c3RlbSB1c2luZyBbbGliMC9vYnNlcnZhYmxlXS5cbiAqXG4gKiBAbW9kdWxlIHdlYnNvY2tldFxuICovXG5cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuL29ic2VydmFibGUuanMnXG5pbXBvcnQgKiBhcyB0aW1lIGZyb20gJy4vdGltZS5qcydcbmltcG9ydCAqIGFzIG1hdGggZnJvbSAnLi9tYXRoLmpzJ1xuXG5jb25zdCByZWNvbm5lY3RUaW1lb3V0QmFzZSA9IDEyMDBcbmNvbnN0IG1heFJlY29ubmVjdFRpbWVvdXQgPSAyNTAwXG4vLyBAdG9kbyAtIHRoaXMgc2hvdWxkIGRlcGVuZCBvbiBhd2FyZW5lc3Mub3V0ZGF0ZWRUaW1lXG5jb25zdCBtZXNzYWdlUmVjb25uZWN0VGltZW91dCA9IDMwMDAwXG5cbi8qKlxuICogQHBhcmFtIHtXZWJzb2NrZXRDbGllbnR9IHdzY2xpZW50XG4gKi9cbmNvbnN0IHNldHVwV1MgPSAod3NjbGllbnQpID0+IHtcbiAgaWYgKHdzY2xpZW50LnNob3VsZENvbm5lY3QgJiYgd3NjbGllbnQud3MgPT09IG51bGwpIHtcbiAgICBjb25zdCB3ZWJzb2NrZXQgPSBuZXcgV2ViU29ja2V0KHdzY2xpZW50LnVybClcbiAgICBjb25zdCBiaW5hcnlUeXBlID0gd3NjbGllbnQuYmluYXJ5VHlwZVxuICAgIC8qKlxuICAgICAqIEB0eXBlIHthbnl9XG4gICAgICovXG4gICAgbGV0IHBpbmdUaW1lb3V0ID0gbnVsbFxuICAgIGlmIChiaW5hcnlUeXBlKSB7XG4gICAgICB3ZWJzb2NrZXQuYmluYXJ5VHlwZSA9IGJpbmFyeVR5cGVcbiAgICB9XG4gICAgd3NjbGllbnQud3MgPSB3ZWJzb2NrZXRcbiAgICB3c2NsaWVudC5jb25uZWN0aW5nID0gdHJ1ZVxuICAgIHdzY2xpZW50LmNvbm5lY3RlZCA9IGZhbHNlXG4gICAgd2Vic29ja2V0Lm9ubWVzc2FnZSA9IGV2ZW50ID0+IHtcbiAgICAgIHdzY2xpZW50Lmxhc3RNZXNzYWdlUmVjZWl2ZWQgPSB0aW1lLmdldFVuaXhUaW1lKClcbiAgICAgIGNvbnN0IGRhdGEgPSBldmVudC5kYXRhXG4gICAgICBjb25zdCBtZXNzYWdlID0gdHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShkYXRhKSA6IGRhdGFcbiAgICAgIGlmIChtZXNzYWdlICYmIG1lc3NhZ2UudHlwZSA9PT0gJ3BvbmcnKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChwaW5nVGltZW91dClcbiAgICAgICAgcGluZ1RpbWVvdXQgPSBzZXRUaW1lb3V0KHNlbmRQaW5nLCBtZXNzYWdlUmVjb25uZWN0VGltZW91dCAvIDIpXG4gICAgICB9XG4gICAgICB3c2NsaWVudC5lbWl0KCdtZXNzYWdlJywgW21lc3NhZ2UsIHdzY2xpZW50XSlcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHthbnl9IGVycm9yXG4gICAgICovXG4gICAgY29uc3Qgb25jbG9zZSA9IGVycm9yID0+IHtcbiAgICAgIGlmICh3c2NsaWVudC53cyAhPT0gbnVsbCkge1xuICAgICAgICB3c2NsaWVudC53cyA9IG51bGxcbiAgICAgICAgd3NjbGllbnQuY29ubmVjdGluZyA9IGZhbHNlXG4gICAgICAgIGlmICh3c2NsaWVudC5jb25uZWN0ZWQpIHtcbiAgICAgICAgICB3c2NsaWVudC5jb25uZWN0ZWQgPSBmYWxzZVxuICAgICAgICAgIHdzY2xpZW50LmVtaXQoJ2Rpc2Nvbm5lY3QnLCBbeyB0eXBlOiAnZGlzY29ubmVjdCcsIGVycm9yIH0sIHdzY2xpZW50XSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3c2NsaWVudC51bnN1Y2Nlc3NmdWxSZWNvbm5lY3RzKytcbiAgICAgICAgfVxuICAgICAgICAvLyBTdGFydCB3aXRoIG5vIHJlY29ubmVjdCB0aW1lb3V0IGFuZCBpbmNyZWFzZSB0aW1lb3V0IGJ5XG4gICAgICAgIC8vIGxvZzEwKHdzVW5zdWNjZXNzZnVsUmVjb25uZWN0cykuXG4gICAgICAgIC8vIFRoZSBpZGVhIGlzIHRvIGluY3JlYXNlIHJlY29ubmVjdCB0aW1lb3V0IHNsb3dseSBhbmQgaGF2ZSBubyByZWNvbm5lY3RcbiAgICAgICAgLy8gdGltZW91dCBhdCB0aGUgYmVnaW5uaW5nIChsb2coMSkgPSAwKVxuICAgICAgICBzZXRUaW1lb3V0KHNldHVwV1MsIG1hdGgubWluKG1hdGgubG9nMTAod3NjbGllbnQudW5zdWNjZXNzZnVsUmVjb25uZWN0cyArIDEpICogcmVjb25uZWN0VGltZW91dEJhc2UsIG1heFJlY29ubmVjdFRpbWVvdXQpLCB3c2NsaWVudClcbiAgICAgIH1cbiAgICAgIGNsZWFyVGltZW91dChwaW5nVGltZW91dClcbiAgICB9XG4gICAgY29uc3Qgc2VuZFBpbmcgPSAoKSA9PiB7XG4gICAgICBpZiAod3NjbGllbnQud3MgPT09IHdlYnNvY2tldCkge1xuICAgICAgICB3c2NsaWVudC5zZW5kKHtcbiAgICAgICAgICB0eXBlOiAncGluZydcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gICAgd2Vic29ja2V0Lm9uY2xvc2UgPSAoKSA9PiBvbmNsb3NlKG51bGwpXG4gICAgd2Vic29ja2V0Lm9uZXJyb3IgPSBlcnJvciA9PiBvbmNsb3NlKGVycm9yKVxuICAgIHdlYnNvY2tldC5vbm9wZW4gPSAoKSA9PiB7XG4gICAgICB3c2NsaWVudC5sYXN0TWVzc2FnZVJlY2VpdmVkID0gdGltZS5nZXRVbml4VGltZSgpXG4gICAgICB3c2NsaWVudC5jb25uZWN0aW5nID0gZmFsc2VcbiAgICAgIHdzY2xpZW50LmNvbm5lY3RlZCA9IHRydWVcbiAgICAgIHdzY2xpZW50LnVuc3VjY2Vzc2Z1bFJlY29ubmVjdHMgPSAwXG4gICAgICB3c2NsaWVudC5lbWl0KCdjb25uZWN0JywgW3sgdHlwZTogJ2Nvbm5lY3QnIH0sIHdzY2xpZW50XSlcbiAgICAgIC8vIHNldCBwaW5nXG4gICAgICBwaW5nVGltZW91dCA9IHNldFRpbWVvdXQoc2VuZFBpbmcsIG1lc3NhZ2VSZWNvbm5lY3RUaW1lb3V0IC8gMilcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAZXh0ZW5kcyBPYnNlcnZhYmxlPHN0cmluZz5cbiAqL1xuZXhwb3J0IGNsYXNzIFdlYnNvY2tldENsaWVudCBleHRlbmRzIE9ic2VydmFibGUge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICAgKiBAcGFyYW0ge29iamVjdH0gW29wdHNdXG4gICAqIEBwYXJhbSB7J2FycmF5YnVmZmVyJyB8ICdibG9iJyB8IG51bGx9IFtvcHRzLmJpbmFyeVR5cGVdIFNldCBgd3MuYmluYXJ5VHlwZWBcbiAgICovXG4gIGNvbnN0cnVjdG9yICh1cmwsIHsgYmluYXJ5VHlwZSB9ID0ge30pIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy51cmwgPSB1cmxcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7V2ViU29ja2V0P31cbiAgICAgKi9cbiAgICB0aGlzLndzID0gbnVsbFxuICAgIHRoaXMuYmluYXJ5VHlwZSA9IGJpbmFyeVR5cGUgfHwgbnVsbFxuICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2VcbiAgICB0aGlzLmNvbm5lY3RpbmcgPSBmYWxzZVxuICAgIHRoaXMudW5zdWNjZXNzZnVsUmVjb25uZWN0cyA9IDBcbiAgICB0aGlzLmxhc3RNZXNzYWdlUmVjZWl2ZWQgPSAwXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0byBjb25uZWN0IHRvIG90aGVyIHBlZXJzIG9yIG5vdFxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuc2hvdWxkQ29ubmVjdCA9IHRydWVcbiAgICB0aGlzLl9jaGVja0ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuY29ubmVjdGVkICYmIG1lc3NhZ2VSZWNvbm5lY3RUaW1lb3V0IDwgdGltZS5nZXRVbml4VGltZSgpIC0gdGhpcy5sYXN0TWVzc2FnZVJlY2VpdmVkKSB7XG4gICAgICAgIC8vIG5vIG1lc3NhZ2UgcmVjZWl2ZWQgaW4gYSBsb25nIHRpbWUgLSBub3QgZXZlbiB5b3VyIG93biBhd2FyZW5lc3NcbiAgICAgICAgLy8gdXBkYXRlcyAod2hpY2ggYXJlIHVwZGF0ZWQgZXZlcnkgMTUgc2Vjb25kcylcbiAgICAgICAgLyoqIEB0eXBlIHtXZWJTb2NrZXR9ICovICh0aGlzLndzKS5jbG9zZSgpXG4gICAgICB9XG4gICAgfSwgbWVzc2FnZVJlY29ubmVjdFRpbWVvdXQgLyAyKVxuICAgIHNldHVwV1ModGhpcylcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2FueX0gbWVzc2FnZVxuICAgKi9cbiAgc2VuZCAobWVzc2FnZSkge1xuICAgIGlmICh0aGlzLndzKSB7XG4gICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpXG4gICAgfVxuICB9XG5cbiAgZGVzdHJveSAoKSB7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9jaGVja0ludGVydmFsKVxuICAgIHRoaXMuZGlzY29ubmVjdCgpXG4gICAgc3VwZXIuZGVzdHJveSgpXG4gIH1cblxuICBkaXNjb25uZWN0ICgpIHtcbiAgICB0aGlzLnNob3VsZENvbm5lY3QgPSBmYWxzZVxuICAgIGlmICh0aGlzLndzICE9PSBudWxsKSB7XG4gICAgICB0aGlzLndzLmNsb3NlKClcbiAgICB9XG4gIH1cblxuICBjb25uZWN0ICgpIHtcbiAgICB0aGlzLnNob3VsZENvbm5lY3QgPSB0cnVlXG4gICAgaWYgKCF0aGlzLmNvbm5lY3RlZCAmJiB0aGlzLndzID09PSBudWxsKSB7XG4gICAgICBzZXR1cFdTKHRoaXMpXG4gICAgfVxuICB9XG59XG4iLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbF0sIm5hbWVzIjpbImFwcEhlaWdodCIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50Iiwic3R5bGUiLCJzZXRQcm9wZXJ0eSIsIndpbmRvdyIsImlubmVySGVpZ2h0IiwiX19kZWNvcmF0ZSIsImRlY29yYXRvcnMiLCJ0YXJnZXQiLCJrZXkiLCJkZXNjIiwiZCIsImMiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJyIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiUmVmbGVjdCIsImRlY29yYXRlIiwiaSIsImRlZmluZVByb3BlcnR5IiwiX19jbGFzc1ByaXZhdGVGaWVsZEdldCIsInJlY2VpdmVyIiwic3RhdGUiLCJraW5kIiwiZiIsIlR5cGVFcnJvciIsImhhcyIsImNhbGwiLCJ2YWx1ZSIsImdldCIsIl9fY2xhc3NQcml2YXRlRmllbGRTZXQiLCJzZXQiLCJhZGRFdmVudExpc3RlbmVyIiwidCIsIlNoYWRvd1Jvb3QiLCJTaGFkeUNTUyIsIm5hdGl2ZVNoYWRvdyIsIkRvY3VtZW50IiwicHJvdG90eXBlIiwiQ1NTU3R5bGVTaGVldCIsImUiLCJTeW1ib2wiLCJuIiwiV2Vha01hcCIsInMiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJfJGNzc1Jlc3VsdCQiLCJFcnJvciIsImNzc1RleHQiLCJzdHlsZVNoZWV0IiwibyIsInJlcGxhY2VTeW5jIiwidG9TdHJpbmciLCJyZWR1Y2UiLCJTIiwiY3NzUnVsZXMiLCJ0cnVzdGVkVHlwZXMiLCJlbXB0eVNjcmlwdCIsImgiLCJyZWFjdGl2ZUVsZW1lbnRQb2x5ZmlsbFN1cHBvcnQiLCJ0b0F0dHJpYnV0ZSIsIkJvb2xlYW4iLCJBcnJheSIsIkpTT04iLCJzdHJpbmdpZnkiLCJmcm9tQXR0cmlidXRlIiwiTnVtYmVyIiwicGFyc2UiLCJsIiwiYXR0cmlidXRlIiwidHlwZSIsIlN0cmluZyIsImNvbnZlcnRlciIsInJlZmxlY3QiLCJoYXNDaGFuZ2VkIiwiYSIsIkhUTUxFbGVtZW50Iiwic3VwZXIiLCJfJEVpIiwiTWFwIiwiaXNVcGRhdGVQZW5kaW5nIiwiaGFzVXBkYXRlZCIsIl8kRWwiLCJ1Iiwic3RhdGljIiwicHVzaCIsIm9ic2VydmVkQXR0cmlidXRlcyIsImZpbmFsaXplIiwiZWxlbWVudFByb3BlcnRpZXMiLCJmb3JFYWNoIiwiXyRFcCIsIl8kRXYiLCJub0FjY2Vzc29yIiwiaGFzT3duUHJvcGVydHkiLCJnZXRQcm9wZXJ0eURlc2NyaXB0b3IiLCJyZXF1ZXN0VXBkYXRlIiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImZpbmFsaXplZCIsImdldFByb3RvdHlwZU9mIiwicHJvcGVydGllcyIsImdldE93blByb3BlcnR5TmFtZXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJjcmVhdGVQcm9wZXJ0eSIsImVsZW1lbnRTdHlsZXMiLCJmaW5hbGl6ZVN0eWxlcyIsInN0eWxlcyIsImlzQXJyYXkiLCJTZXQiLCJmbGF0IiwicmV2ZXJzZSIsInVuc2hpZnQiLCJ0b0xvd2VyQ2FzZSIsIl8kRV8iLCJQcm9taXNlIiwiZW5hYmxlVXBkYXRpbmciLCJfJEFMIiwiXyRFZyIsImFkZENvbnRyb2xsZXIiLCJfJEVTIiwicmVuZGVyUm9vdCIsImlzQ29ubmVjdGVkIiwiaG9zdENvbm5lY3RlZCIsInJlbW92ZUNvbnRyb2xsZXIiLCJzcGxpY2UiLCJpbmRleE9mIiwiY3JlYXRlUmVuZGVyUm9vdCIsInNoYWRvd1Jvb3QiLCJhdHRhY2hTaGFkb3ciLCJzaGFkb3dSb290T3B0aW9ucyIsImFkb3B0ZWRTdHlsZVNoZWV0cyIsIm1hcCIsImNyZWF0ZUVsZW1lbnQiLCJsaXROb25jZSIsInNldEF0dHJpYnV0ZSIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJjb25uZWN0ZWRDYWxsYmFjayIsImRpc2Nvbm5lY3RlZENhbGxiYWNrIiwiaG9zdERpc2Nvbm5lY3RlZCIsImF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayIsIl8kQUsiLCJfJEVPIiwicmVtb3ZlQXR0cmlidXRlIiwiZ2V0UHJvcGVydHlPcHRpb25zIiwiXyRFQyIsIl8kRWoiLCJhc3luYyIsInJlamVjdCIsInNjaGVkdWxlVXBkYXRlIiwicGVyZm9ybVVwZGF0ZSIsInNob3VsZFVwZGF0ZSIsIndpbGxVcGRhdGUiLCJob3N0VXBkYXRlIiwidXBkYXRlIiwiXyRFayIsIl8kQUUiLCJob3N0VXBkYXRlZCIsImZpcnN0VXBkYXRlZCIsInVwZGF0ZWQiLCJ1cGRhdGVDb21wbGV0ZSIsImdldFVwZGF0ZUNvbXBsZXRlIiwibW9kZSIsIlJlYWN0aXZlRWxlbWVudCIsImdsb2JhbFRoaXMiLCJyZWFjdGl2ZUVsZW1lbnRWZXJzaW9ucyIsImNyZWF0ZVBvbGljeSIsImNyZWF0ZUhUTUwiLCJNYXRoIiwicmFuZG9tIiwic2xpY2UiLCJjcmVhdGVDb21tZW50IiwiaXRlcmF0b3IiLCJ2IiwiXyIsIm0iLCJnIiwicCIsIl8kbGl0VHlwZSQiLCJzdHJpbmdzIiwidmFsdWVzIiwiJCIsInkiLCJiIiwiZm9yIiwidyIsIlQiLCJBIiwiY3JlYXRlVHJlZVdhbGtlciIsIkMiLCJsYXN0SW5kZXgiLCJleGVjIiwidGVzdCIsIlJlZ0V4cCIsInN0YXJ0c1dpdGgiLCJFIiwicGFydHMiLCJlbCIsImN1cnJlbnROb2RlIiwiY29udGVudCIsImZpcnN0Q2hpbGQiLCJyZW1vdmUiLCJhcHBlbmQiLCJjaGlsZE5vZGVzIiwibmV4dE5vZGUiLCJub2RlVHlwZSIsImhhc0F0dHJpYnV0ZXMiLCJnZXRBdHRyaWJ1dGVOYW1lcyIsImVuZHNXaXRoIiwiZ2V0QXR0cmlidXRlIiwic3BsaXQiLCJpbmRleCIsIm5hbWUiLCJjdG9yIiwiTSIsIkgiLCJJIiwidGFnTmFtZSIsImRhdGEiLCJpbm5lckhUTUwiLCJQIiwiXyRDbCIsIl8kQ3UiLCJfJGxpdERpcmVjdGl2ZSQiLCJfJEFPIiwiXyRBVCIsIl8kQVMiLCJWIiwiXyRBTiIsIl8kQUQiLCJfJEFNIiwicGFyZW50Tm9kZSIsIl8kQVUiLCJjcmVhdGlvblNjb3BlIiwiaW1wb3J0Tm9kZSIsIk4iLCJuZXh0U2libGluZyIsIkwiLCJfJEFJIiwiXyRBSCIsIl8kQUEiLCJfJEFCIiwib3B0aW9ucyIsIl8kQ2ciLCJzdGFydE5vZGUiLCJlbmROb2RlIiwiXyRBUiIsImsiLCJpbnNlcnRCZWZvcmUiLCJjcmVhdGVUZXh0Tm9kZSIsIl8kQUMiLCJfJEFQIiwic2V0Q29ubmVjdGVkIiwiZWxlbWVudCIsImZpbGwiLCJjYXB0dXJlIiwib25jZSIsInBhc3NpdmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlRXZlbnQiLCJob3N0IiwiUiIsImoiLCJEIiwiRiIsIk8iLCJXIiwiQiIsIloiLCJ6IiwibGl0SHRtbFBvbHlmaWxsU3VwcG9ydCIsImxpdEh0bWxWZXJzaW9ucyIsInJlbmRlck9wdGlvbnMiLCJfJERvIiwicmVuZGVyQmVmb3JlIiwicmVuZGVyIiwiXyRsaXRQYXJ0JCIsIl8kbGl0RWxlbWVudCQiLCJsaXRFbGVtZW50SHlkcmF0ZVN1cHBvcnQiLCJMaXRFbGVtZW50IiwibGl0RWxlbWVudFBvbHlmaWxsU3VwcG9ydCIsImxpdEVsZW1lbnRWZXJzaW9ucyIsImN1c3RvbUVsZW1lbnRzIiwiZGVmaW5lIiwiZWxlbWVudHMiLCJmaW5pc2hlciIsImRlc2NyaXB0b3IiLCJwbGFjZW1lbnQiLCJvcmlnaW5hbEtleSIsImluaXRpYWxpemVyIiwiYXNzaWduIiwicXVlcnlTZWxlY3RvciIsIkhUTUxTbG90RWxlbWVudCIsImFzc2lnbmVkRWxlbWVudHMiLCJfJEN0IiwiXyRDaSIsIl8kQVEiLCJkdCIsImtleXMiLCJ1dCIsIngiLCJhZGRfcCIsImFkZF9jIiwic3ViX3AiLCJtdWxfYyIsImRpdl9jIiwibWF4X3AiLCJtYXgiLCJtaW5fcCIsIm1pbiIsImNsYW1wX3AiLCJlcV9wIiwiaXNfcHJpbWFyeV9kb3duIiwiZXYiLCJpc1ByaW1hcnkiLCJwb2ludGVyVHlwZSIsInByZXNzdXJlIiwiaXNfbW91c2VfZG93biIsImJ1dHRvbnMiLCJzdG9wX2V2IiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJ3aW5kb3dfZXYiLCJkZXRhaWwiLCJDdXN0b21FdmVudCIsImNhbmNlbGFibGUiLCJidWJibGVzIiwiY29tcG9zZWQiLCJnZXRJbWFnZSIsImRhdGFUcmFuc2ZlciIsImRhdGFJdGVtcyIsIml0ZW1zIiwicmVzb2x2ZSIsImNvbnNvbGUiLCJsb2ciLCJnZXRBc0ZpbGUiLCJnZXRBc1N0cmluZyIsImV4dHJhY3RVUkxGcm9tSFRNTCIsImh0bWwiLCJ1cmwiLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJzcmMiLCJnYW1lX2V2ZW50IiwiZmlyc3QiLCJpdGVyIiwibmV4dCIsIml0ZW0iLCJyZXBsYWNlIiwiY3QiLCJhZGQiLCJkZWxldGUiLCJpbmNsdWRlcyIsInJlbW92ZVByb3BlcnR5IiwiQ2FudmFzIiwid2lkdGgiLCJoZWlnaHQiLCJzZWxlY3Rpb24iLCJjYWxsb3V0cyIsIl9DYW52YXNfc2JveCIsIl9DYW52YXNfbW91c2VfbG9jIiwiX0NhbnZhc19kcmFnX2RlcHRoIiwiX0NhbnZhc19kcmFnX2VudGVyIiwiX2EiLCJfQ2FudmFzX2RyYWdfb3ZlciIsImNlbGwiLCJfQ2FudmFzX3NjcmVlbl90b19zdmciLCJvY2N1cGllZF9jZWxsIiwiX2Ryb3BfaGludCIsImhvdmVyaW5nIiwiX0NhbnZhc19kcmFnX2xlYXZlIiwidW5kZWZpbmVkIiwiX0NhbnZhc19iZ19kcmFnX292ZXIiLCJfQ2FudmFzX2JnX2Ryb3AiLCJpbWciLCJkaXNwYXRjaEV2ZW50IiwiX0NhbnZhc19kcm9wIiwibG9jIiwiZGltIiwiX0NhbnZhc19tb3VzZV9mb2N1cyIsIl9DYW52YXNfZm9jdXMiLCJfQ2FudmFzX3RvdWNoX2ZvY3VzIiwiaXNfcHJpbWFyeV90b3VjaCIsImlkIiwic2hpZnRLZXkiLCJjdHJsS2V5IiwiZmlsdGVyIiwiX0NhbnZhc19kcmFnX29mZnNldCIsIl9DYW52YXNfc2VsZWN0aW9uX3RyYW5zZm9ybSIsIm1vdmUiLCJyZXNpemUiLCJ2aWV3cG9ydCIsImNvb3JkVG9Mb2NhbCIsImNsaWVudFgiLCJjbGllbnRZIiwiX0NhbnZhc19rZXlkb3duIiwia2V5Q29kZSIsImlkcyIsImZyb20iLCJib2FyZCIsIkFycm93VXAiLCJBcnJvd0Rvd24iLCJBcnJvd0xlZnQiLCJBcnJvd1JpZ2h0IiwidG9rZW5zIiwiX0NhbnZhc19pbnN0YW5jZXMiLCJfQ2FudmFzX2RpbV9nZXQiLCJzYmJveCIsInNlbGVjdGVkIiwic2l6ZSIsIl9DYW52YXNfc2JveF9zdGFydCIsIl9DYW52YXNfc2JveF9tb3ZlIiwiX0NhbnZhc19zYm94X3N0b3AiLCJQQURESU5HIiwic3R5bGVNYXAiLCJiZyIsInN2ZyIsInJlcGVhdCIsInRpZCIsIkxJTkVfV0lEVEgiLCJtYXJrX2xvYWRlZCIsImJib3giLCJzdGFydCIsImVuZCIsInByZXZlbnRfc2FmYXJpX3Njcm9sbCIsInNlbGVjdGlvbl9kcmFnX3N0YXJ0Iiwic2VsZWN0aW9uX2RyYWciLCJzZWxlY3Rpb25fZHJhZ19lbmQiLCJwaW4iLCJtb3VzZSIsImFicyIsInBvaW50IiwiQ0FMTE9VVF9ESU0iLCJzaWduIiwiUk9UQVRFX1NJWkUiLCJzdmdfY29vcmQiLCJzZXRQb2ludGVyQ2FwdHVyZSIsInBvaW50ZXJJZCIsImdyaWRfbG9jIiwiY2xhc3NlcyIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwibmVhcmVzdF9jb3JuZXIiLCJjZW50ZXIiLCJyZWwiLCJkZWciLCJhdGFuMiIsIlBJIiwicm91bmQiLCJsb2NhbCIsImFic19wIiwiYm94Iiwic2VsIiwiaW50ZXJzZWN0IiwiX0NhbnZhc19zZWxlY3Rpb25fYmJveCIsInRvSlNPTiIsImNzcyIsInByb3BlcnR5IiwicXVlcnkiLCJldmVudE9wdGlvbnMiLCJjdXN0b21FbGVtZW50IiwiQnV5TWVBQ29mZmVlIiwiX3N0YXRlIiwiX2xvYWRlZCIsIl9idXkiLCJfQnV5TWVBQ29mZmVlX2Nsb3NlIiwiX0J1eU1lQUNvZmZlZV9pZnJhbWVfbG9hZCIsImNyZWF0ZSIsImNvcHkiLCJzZXRJZlVuZGVmaW5lZCIsImNyZWF0ZVQiLCJsYXN0IiwiYXJyIiwiYXBwZW5kVG8iLCJkZXN0IiwiT2JzZXJ2YWJsZSIsIl9vYnNlcnZlcnMiLCJtYXAuY3JlYXRlIiwib24iLCJtYXAuc2V0SWZVbmRlZmluZWQiLCJzZXQuY3JlYXRlIiwiX2YiLCJhcmdzIiwib2ZmIiwib2JzZXJ2ZXJzIiwiZW1pdCIsImFycmF5LmZyb20iLCJkZXN0cm95IiwiZmxvb3IiLCJsb2cxMCIsImlzTmVnYXRpdmVaZXJvIiwidHJpbUxlZnRSZWdleCIsImZyb21DYW1lbENhc2VSZWdleCIsImZyb21DYW1lbENhc2UiLCJzZXBhcmF0b3IiLCJ0cmltTGVmdCIsIm1hdGNoIiwiVGV4dEVuY29kZXIiLCJ1dGY4VGV4dERlY29kZXIiLCJUZXh0RGVjb2RlciIsImZhdGFsIiwiaWdub3JlQk9NIiwiZGVjb2RlIiwiVWludDhBcnJheSIsInVuZGVmaW5lZFRvTnVsbCIsIl9sb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwibmV3VmFsdWUiLCJnZXRJdGVtIiwidXNlUG9seWZpbGwiLCJsb2NhbFN0b3JhZ2UiLCJ2YXJTdG9yYWdlIiwiaXNOb2RlIiwicHJvY2VzcyIsInJlbGVhc2UiLCJwYXJhbXMiLCJuYXZpZ2F0b3IiLCJwbGF0Zm9ybSIsImhhc1BhcmFtIiwicGFyZ3MiLCJhcmd2IiwiY3VyclBhcmFtTmFtZSIsInBhcmciLCJsb2NhdGlvbiIsInNlYXJjaCIsImt2Iiwic3RyaW5nLmZyb21DYW1lbENhc2UiLCJjb21wdXRlUGFyYW1zIiwiY29uZGl0aW9ucy51bmRlZmluZWRUb051bGwiLCJlbnYiLCJ0b1VwcGVyQ2FzZSIsInN0b3JhZ2UudmFyU3RvcmFnZSIsImdldFZhcmlhYmxlIiwiRGVjb2RlciIsInVpbnQ4QXJyYXkiLCJwb3MiLCJjcmVhdGVEZWNvZGVyIiwicmVhZFZhclVpbnQ4QXJyYXkiLCJkZWNvZGVyIiwibGVuIiwidmlldyIsImJ1ZmZlci5jcmVhdGVVaW50OEFycmF5Vmlld0Zyb21BcnJheUJ1ZmZlciIsImJ1ZmZlciIsImJ5dGVPZmZzZXQiLCJyZWFkVWludDhBcnJheSIsInJlYWRWYXJVaW50IiwicmVhZFVpbnQ4IiwibnVtIiwicmVhZFZhckludCIsInJlYWRWYXJTdHJpbmciLCJyZW1haW5pbmdMZW4iLCJlbmNvZGVkU3RyaW5nIiwiZnJvbUNvZGVQb2ludCIsIm5leHRMZW4iLCJieXRlcyIsInN1YmFycmF5IiwiYXBwbHkiLCJkZWNvZGVVUklDb21wb25lbnQiLCJlc2NhcGUiLCJyZWFkRnJvbURhdGFWaWV3IiwiZHYiLCJEYXRhVmlldyIsInJlYWRBbnlMb29rdXBUYWJsZSIsImdldEZsb2F0MzIiLCJnZXRGbG9hdDY0IiwiZ2V0QmlnSW50NjQiLCJvYmoiLCJyZWFkQW55IiwiUmxlRGVjb2RlciIsInJlYWRlciIsImNvdW50IiwicmVhZCIsIlVpbnRPcHRSbGVEZWNvZGVyIiwiaXNOZWdhdGl2ZSIsIm1hdGguaXNOZWdhdGl2ZVplcm8iLCJJbnREaWZmT3B0UmxlRGVjb2RlciIsImRpZmYiLCJoYXNDb3VudCIsIlN0cmluZ0RlY29kZXIiLCJzdHIiLCJzcG9zIiwicmVzIiwiY3JlYXRlVWludDhBcnJheVZpZXdGcm9tQXJyYXlCdWZmZXIiLCJjb3B5VWludDhBcnJheSIsIm5ld0J1ZiIsImJ5dGVMZW5ndGgiLCJpc0ludGVnZXIiLCJpc0Zpbml0ZSIsIm1hdGguZmxvb3IiLCJFbmNvZGVyIiwiY3BvcyIsImNidWYiLCJidWZzIiwiY3JlYXRlRW5jb2RlciIsInRvVWludDhBcnJheSIsImVuY29kZXIiLCJ1aW50OGFyciIsImN1clBvcyIsIndyaXRlIiwiYnVmZmVyTGVuIiwid3JpdGVVaW50OCIsIndyaXRlVmFyVWludCIsIndyaXRlVmFySW50Iiwid3JpdGVWYXJTdHJpbmciLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImNvZGVQb2ludEF0Iiwid3JpdGVVaW50OEFycmF5IiwibGVmdENvcHlMZW4iLCJtYXRoLm1pbiIsInJpZ2h0Q29weUxlbiIsIm1hdGgubWF4Iiwid3JpdGVWYXJVaW50OEFycmF5Iiwid3JpdGVPbkRhdGFWaWV3IiwidmVyaWZ5TGVuIiwiZHZpZXciLCJmbG9hdFRlc3RCZWQiLCJBcnJheUJ1ZmZlciIsIndyaXRlQW55IiwibnVtYmVyLmlzSW50ZWdlciIsIm1hdGguYWJzIiwic2V0RmxvYXQzMiIsIndyaXRlRmxvYXQzMiIsInNldEZsb2F0NjQiLCJ3cml0ZUZsb2F0NjQiLCJzZXRCaWdJbnQ2NCIsIndyaXRlQmlnSW50NjQiLCJSbGVFbmNvZGVyIiwid3JpdGVyIiwiZmx1c2hVaW50T3B0UmxlRW5jb2RlciIsIlVpbnRPcHRSbGVFbmNvZGVyIiwiZmx1c2hJbnREaWZmT3B0UmxlRW5jb2RlciIsImVuY29kZWREaWZmIiwiSW50RGlmZk9wdFJsZUVuY29kZXIiLCJTdHJpbmdFbmNvZGVyIiwic2FyciIsImxlbnNFIiwic3RyaW5nIiwiam9pbiIsImlzb0NyeXB0byIsImNyeXB0byIsImNyeXB0b1JhbmRvbUJ1ZmZlciIsImJ1ZiIsImdldFJhbmRvbVZhbHVlcyIsImNlaWwiLCJ1aW50MzIiLCJVaW50MzJBcnJheSIsInV1aWR2NFRlbXBsYXRlIiwidXVpZHY0IiwiZ2V0VW5peFRpbWUiLCJEYXRlIiwibm93IiwibWV0aG9kVW5pbXBsZW1lbnRlZCIsInVuZXhwZWN0ZWRDYXNlIiwiZXF1YWxGbGF0IiwiZXZlcnkiLCJ2YWwiLCJoYXNQcm9wZXJ0eSIsImNhbGxBbGwiLCJmcyIsIlBhaXIiLCJsZWZ0IiwicmlnaHQiLCJkb2MiLCJtYXBUb1N0eWxlU3RyaW5nIiwibWFwLm1hcCIsIkVMRU1FTlRfTk9ERSIsIlRFWFRfTk9ERSIsIkNEQVRBX1NFQ1RJT05fTk9ERSIsIkNPTU1FTlRfTk9ERSIsIkRPQ1VNRU5UX05PREUiLCJET0NVTUVOVF9UWVBFX05PREUiLCJET0NVTUVOVF9GUkFHTUVOVF9OT0RFIiwiQk9MRCIsInN5bWJvbC5jcmVhdGUiLCJVTkJPTEQiLCJCTFVFIiwiR1JFWSIsIkdSRUVOIiwiUkVEIiwiUFVSUExFIiwiT1JBTkdFIiwiVU5DT0xPUiIsIl9icm93c2VyU3R5bGVNYXAiLCJwYWlyLmNyZWF0ZSIsIl9ub2RlU3R5bGVNYXAiLCJjb21wdXRlTG9nZ2luZ0FyZ3MiLCJlbnYuaXNOb2RlIiwic3RyQnVpbGRlciIsImxvZ0FyZ3MiLCJhcmciLCJjdXJyZW50U3R5bGUiLCJkb20ubWFwVG9TdHlsZVN0cmluZyIsInZjb25zb2xlcyIsImNyZWF0ZUl0ZXJhdG9yIiwiaXRlcmF0b3JNYXAiLCJmbWFwIiwiZG9uZSIsIkRlbGV0ZUl0ZW0iLCJjbG9jayIsIkRlbGV0ZVNldCIsImNsaWVudHMiLCJpdGVyYXRlRGVsZXRlZFN0cnVjdHMiLCJ0cmFuc2FjdGlvbiIsImRzIiwiZGVsZXRlcyIsImNsaWVudGlkIiwic3RydWN0cyIsInN0b3JlIiwiZGVsIiwiaXRlcmF0ZVN0cnVjdHMiLCJpc0RlbGV0ZWQiLCJkaXMiLCJjbGllbnQiLCJtaWRpbmRleCIsIm1pZCIsIm1pZGNsb2NrIiwiZmluZEluZGV4RFMiLCJzb3J0QW5kTWVyZ2VEZWxldGVTZXQiLCJkZWxzIiwic29ydCIsImFkZFRvRGVsZXRlU2V0IiwiY3JlYXRlRGVsZXRlU2V0Iiwid3JpdGVEZWxldGVTZXQiLCJlbmNvZGluZy53cml0ZVZhclVpbnQiLCJyZXN0RW5jb2RlciIsImRzaXRlbXMiLCJyZXNldERzQ3VyVmFsIiwid3JpdGVEc0Nsb2NrIiwid3JpdGVEc0xlbiIsInJlYWREZWxldGVTZXQiLCJudW1DbGllbnRzIiwiZGVjb2RpbmcucmVhZFZhclVpbnQiLCJyZXN0RGVjb2RlciIsIm51bWJlck9mRGVsZXRlcyIsImRzRmllbGQiLCJyZWFkRHNDbG9jayIsInJlYWREc0xlbiIsInJlYWRBbmRBcHBseURlbGV0ZVNldCIsInVuYXBwbGllZERTIiwiZ2V0U3RhdGUiLCJjbG9ja0VuZCIsImZpbmRJbmRleFNTIiwic3RydWN0IiwiZGVsZXRlZCIsInNwbGl0SXRlbSIsIlVwZGF0ZUVuY29kZXJWMiIsImdlbmVyYXRlTmV3Q2xpZW50SWQiLCJyYW5kb20udWludDMyIiwiRG9jIiwiZ3VpZCIsInJhbmRvbS51dWlkdjQiLCJjb2xsZWN0aW9uaWQiLCJnYyIsImdjRmlsdGVyIiwibWV0YSIsImF1dG9Mb2FkIiwic2hvdWxkTG9hZCIsImNsaWVudElEIiwic2hhcmUiLCJTdHJ1Y3RTdG9yZSIsIl90cmFuc2FjdGlvbiIsIl90cmFuc2FjdGlvbkNsZWFudXBzIiwic3ViZG9jcyIsIl9pdGVtIiwiaXNMb2FkZWQiLCJ3aGVuTG9hZGVkIiwicHJvbWlzZS5jcmVhdGUiLCJsb2FkIiwidHJhbnNhY3QiLCJzdWJkb2NzTG9hZGVkIiwiZ2V0U3ViZG9jcyIsImdldFN1YmRvY0d1aWRzIiwib3JpZ2luIiwiVHlwZUNvbnN0cnVjdG9yIiwiQWJzdHJhY3RUeXBlIiwiX2ludGVncmF0ZSIsIkNvbnN0ciIsIl9tYXAiLCJwYXJlbnQiLCJfc3RhcnQiLCJfbGVuZ3RoIiwiZ2V0QXJyYXkiLCJZQXJyYXkiLCJnZXRUZXh0IiwiWVRleHQiLCJnZXRNYXAiLCJZTWFwIiwiZ2V0WG1sRnJhZ21lbnQiLCJZWG1sRnJhZ21lbnQiLCJzdWJkb2MiLCJvcHRzIiwic3ViZG9jc0FkZGVkIiwic3ViZG9jc1JlbW92ZWQiLCJldmVudE5hbWUiLCJEU0RlY29kZXJWMSIsIlVwZGF0ZURlY29kZXJWMSIsInJlYWRMZWZ0SUQiLCJjcmVhdGVJRCIsInJlYWRSaWdodElEIiwicmVhZENsaWVudCIsInJlYWRJbmZvIiwiZGVjb2RpbmcucmVhZFVpbnQ4IiwicmVhZFN0cmluZyIsImRlY29kaW5nLnJlYWRWYXJTdHJpbmciLCJyZWFkUGFyZW50SW5mbyIsInJlYWRUeXBlUmVmIiwicmVhZExlbiIsImRlY29kaW5nLnJlYWRBbnkiLCJyZWFkQnVmIiwiYnVmZmVyLmNvcHlVaW50OEFycmF5IiwiZGVjb2RpbmcucmVhZFZhclVpbnQ4QXJyYXkiLCJyZWFkSlNPTiIsInJlYWRLZXkiLCJVcGRhdGVEZWNvZGVyVjIiLCJkc0N1cnJWYWwiLCJrZXlDbG9ja0RlY29kZXIiLCJkZWNvZGluZy5JbnREaWZmT3B0UmxlRGVjb2RlciIsImNsaWVudERlY29kZXIiLCJkZWNvZGluZy5VaW50T3B0UmxlRGVjb2RlciIsImxlZnRDbG9ja0RlY29kZXIiLCJyaWdodENsb2NrRGVjb2RlciIsImluZm9EZWNvZGVyIiwiZGVjb2RpbmcuUmxlRGVjb2RlciIsInN0cmluZ0RlY29kZXIiLCJkZWNvZGluZy5TdHJpbmdEZWNvZGVyIiwicGFyZW50SW5mb0RlY29kZXIiLCJ0eXBlUmVmRGVjb2RlciIsImxlbkRlY29kZXIiLCJJRCIsImtleUNsb2NrIiwiVXBkYXRlRW5jb2RlclYxIiwiZW5jb2RpbmcuY3JlYXRlRW5jb2RlciIsImVuY29kaW5nLnRvVWludDhBcnJheSIsIndyaXRlTGVmdElEIiwid3JpdGVSaWdodElEIiwid3JpdGVDbGllbnQiLCJ3cml0ZUluZm8iLCJpbmZvIiwiZW5jb2Rpbmcud3JpdGVVaW50OCIsIndyaXRlU3RyaW5nIiwiZW5jb2Rpbmcud3JpdGVWYXJTdHJpbmciLCJ3cml0ZVBhcmVudEluZm8iLCJpc1lLZXkiLCJ3cml0ZVR5cGVSZWYiLCJ3cml0ZUxlbiIsImFueSIsImVuY29kaW5nLndyaXRlQW55Iiwid3JpdGVCdWYiLCJlbmNvZGluZy53cml0ZVZhclVpbnQ4QXJyYXkiLCJ3cml0ZUpTT04iLCJlbWJlZCIsIndyaXRlS2V5IiwiZXJyb3IudW5leHBlY3RlZENhc2UiLCJrZXlNYXAiLCJrZXlDbG9ja0VuY29kZXIiLCJlbmNvZGluZy5JbnREaWZmT3B0UmxlRW5jb2RlciIsImNsaWVudEVuY29kZXIiLCJlbmNvZGluZy5VaW50T3B0UmxlRW5jb2RlciIsImxlZnRDbG9ja0VuY29kZXIiLCJyaWdodENsb2NrRW5jb2RlciIsImluZm9FbmNvZGVyIiwiZW5jb2RpbmcuUmxlRW5jb2RlciIsInN0cmluZ0VuY29kZXIiLCJlbmNvZGluZy5TdHJpbmdFbmNvZGVyIiwicGFyZW50SW5mb0VuY29kZXIiLCJ0eXBlUmVmRW5jb2RlciIsImxlbkVuY29kZXIiLCJlbmNvZGluZy53cml0ZVVpbnQ4QXJyYXkiLCJ3cml0ZUNsaWVudHNTdHJ1Y3RzIiwiX3NtIiwic20iLCJnZXRTdGF0ZVZlY3RvciIsImVudHJpZXMiLCJzdGFydE5ld1N0cnVjdHMiLCJmaXJzdFN0cnVjdCIsIndyaXRlU3RydWN0cyIsInJlYWRVcGRhdGVWMiIsInlkb2MiLCJ0cmFuc2FjdGlvbk9yaWdpbiIsInN0cnVjdERlY29kZXIiLCJyZXRyeSIsInNzIiwiY2xpZW50UmVmcyIsIm51bU9mU3RhdGVVcGRhdGVzIiwibnVtYmVyT2ZTdHJ1Y3RzIiwicmVmcyIsIkdDIiwiU2tpcCIsImNhbnRDb3B5UGFyZW50SW5mbyIsIkl0ZW0iLCJyZWFkSXRlbUNvbnRlbnQiLCJyZWFkQ2xpZW50c1N0cnVjdFJlZnMiLCJyZXN0U3RydWN0cyIsImNsaWVudHNTdHJ1Y3RSZWZzIiwic3RhY2siLCJjbGllbnRzU3RydWN0UmVmc0lkcyIsImdldE5leHRTdHJ1Y3RUYXJnZXQiLCJuZXh0U3RydWN0c1RhcmdldCIsInBvcCIsImN1clN0cnVjdHNUYXJnZXQiLCJtaXNzaW5nU1YiLCJ1cGRhdGVNaXNzaW5nU3YiLCJtY2xvY2siLCJzdGFja0hlYWQiLCJhZGRTdGFja1RvUmVzdFNTIiwidW5hcHBsaWNhYmxlSXRlbXMiLCJvZmZzZXQiLCJtaXNzaW5nIiwiZ2V0TWlzc2luZyIsInN0cnVjdFJlZnMiLCJpbnRlZ3JhdGUiLCJpbnRlZ3JhdGVTdHJ1Y3RzIiwicGVuZGluZyIsInBlbmRpbmdTdHJ1Y3RzIiwibWVyZ2VVcGRhdGVzVjIiLCJkc1Jlc3QiLCJwZW5kaW5nRHMiLCJwZW5kaW5nRFNVcGRhdGUiLCJkZWNvZGluZy5jcmVhdGVEZWNvZGVyIiwiZHNSZXN0MiIsImFwcGx5VXBkYXRlVjIiLCJZRGVjb2RlciIsImFwcGx5VXBkYXRlIiwid3JpdGVTdGF0ZUFzVXBkYXRlIiwidGFyZ2V0U3RhdGVWZWN0b3IiLCJjcmVhdGVEZWxldGVTZXRGcm9tU3RydWN0U3RvcmUiLCJlbmNvZGVTdGF0ZUFzVXBkYXRlIiwiZW5jb2RlZFRhcmdldFN0YXRlVmVjdG9yIiwiZGVjb2RlU3RhdGVWZWN0b3IiLCJ1cGRhdGVzIiwiZGlmZlVwZGF0ZVYyIiwibWVyZ2VVcGRhdGVzIiwiY29udmVydFVwZGF0ZUZvcm1hdFYyVG9WMSIsImVuY29kZVN0YXRlQXNVcGRhdGVWMiIsImRlY29kZWRTdGF0ZSIsInNzTGVuZ3RoIiwicmVhZFN0YXRlVmVjdG9yIiwiRXZlbnRIYW5kbGVyIiwiY3JlYXRlRXZlbnRIYW5kbGVyIiwiYWRkRXZlbnRIYW5kbGVyTGlzdGVuZXIiLCJldmVudEhhbmRsZXIiLCJyZW1vdmVFdmVudEhhbmRsZXJMaXN0ZW5lciIsImVycm9yIiwiY2FsbEV2ZW50SGFuZGxlckxpc3RlbmVycyIsImFyZzAiLCJhcmcxIiwiZi5jYWxsQWxsIiwiY29tcGFyZUlEcyIsIlNuYXBzaG90Iiwic3YiLCJpc1Zpc2libGUiLCJzbmFwc2hvdCIsInNwbGl0U25hcHNob3RBZmZlY3RlZFN0cnVjdHMiLCJnZXRJdGVtQ2xlYW5TdGFydCIsImxhc3RTdHJ1Y3QiLCJhZGRTdHJ1Y3QiLCJmaW5kSW5kZXhDbGVhblN0YXJ0IiwiZ2V0SXRlbUNsZWFuRW5kIiwiY2xvY2tTdGFydCIsIlRyYW5zYWN0aW9uIiwiZGVsZXRlU2V0IiwiYmVmb3JlU3RhdGUiLCJhZnRlclN0YXRlIiwiY2hhbmdlZCIsImNoYW5nZWRQYXJlbnRUeXBlcyIsIl9tZXJnZVN0cnVjdHMiLCJ3cml0ZVVwZGF0ZU1lc3NhZ2VGcm9tVHJhbnNhY3Rpb24iLCJtYXAuYW55Iiwid3JpdGVTdHJ1Y3RzRnJvbVRyYW5zYWN0aW9uIiwiYWRkQ2hhbmdlZFR5cGVUb1RyYW5zYWN0aW9uIiwicGFyZW50U3ViIiwidHJ5VG9NZXJnZVdpdGhMZWZ0IiwibWVyZ2VXaXRoIiwiY2xlYW51cFRyYW5zYWN0aW9ucyIsInRyYW5zYWN0aW9uQ2xlYW51cHMiLCJtZXJnZVN0cnVjdHMiLCJzdWJzIiwiaXRlbXR5cGUiLCJfY2FsbE9ic2VydmVyIiwiZXZlbnRzIiwiZXZlbnQiLCJjdXJyZW50VGFyZ2V0IiwiZXZlbnQxIiwiZXZlbnQyIiwicGF0aCIsIl9kRUgiLCJkZWxldGVJdGVtcyIsImRpIiwiZGVsZXRlSXRlbSIsImVuZERlbGV0ZUl0ZW1DbG9jayIsInNpIiwia2VlcCIsInRyeUdjRGVsZXRlU2V0IiwidHJ5TWVyZ2VEZWxldGVTZXQiLCJiZWZvcmVDbG9jayIsImZpcnN0Q2hhbmdlUG9zIiwicmVwbGFjZWRTdHJ1Y3RQb3MiLCJ2YyIsInByaW50IiwibG9nZ2luZy5wcmludCIsImxvZ2dpbmcuT1JBTkdFIiwibG9nZ2luZy5CT0xEIiwibG9nZ2luZy5VTkJPTEQiLCJsb2dnaW5nLlJFRCIsImxvYWRlZCIsImFkZGVkIiwicmVtb3ZlZCIsImluaXRpYWxDYWxsIiwiTGF6eVN0cnVjdFJlYWRlciIsImZpbHRlclNraXBzIiwiZ2VuIiwibGF6eVN0cnVjdFJlYWRlckdlbmVyYXRvciIsImN1cnIiLCJMYXp5U3RydWN0V3JpdGVyIiwiY3VyckNsaWVudCIsInN0YXJ0Q2xvY2siLCJ3cml0dGVuIiwiY2xpZW50U3RydWN0cyIsInNsaWNlU3RydWN0IiwibGVmdEl0ZW0iLCJyaWdodE9yaWdpbiIsIllFbmNvZGVyIiwidXBkYXRlRGVjb2RlcnMiLCJsYXp5U3RydWN0RGVjb2RlcnMiLCJjdXJyV3JpdGUiLCJ1cGRhdGVFbmNvZGVyIiwibGF6eVN0cnVjdEVuY29kZXIiLCJkZWMiLCJkZWMxIiwiZGVjMiIsImNsb2NrRGlmZiIsImN1cnJEZWNvZGVyIiwiZmlyc3RDbGllbnQiLCJpdGVyYXRlZCIsIndyaXRlU3RydWN0VG9MYXp5U3RydWN0V3JpdGVyIiwiZmluaXNoTGF6eVN0cnVjdFdyaXRpbmciLCJkc3MiLCJtZXJnZWQiLCJkc3NJIiwiZGVsc0xlZnQiLCJhcnJheS5hcHBlbmRUbyIsIm1lcmdlRGVsZXRlU2V0cyIsImxhenlTdHJ1Y3RXcml0ZXIiLCJzdkNsb2NrIiwiZmx1c2hMYXp5U3RydWN0V3JpdGVyIiwibGF6eVdyaXRlciIsInBhcnRTdHJ1Y3RzIiwidXBkYXRlRGVjb2RlciIsImxhenlEZWNvZGVyIiwiY29udmVydFVwZGF0ZUZvcm1hdCIsIllFdmVudCIsIl9jaGFuZ2VzIiwiX2tleXMiLCJfZGVsdGEiLCJnZXRQYXRoVG8iLCJhY3Rpb24iLCJvbGRWYWx1ZSIsImFkZHMiLCJwcmV2IiwiYXJyYXkubGFzdCIsImdldENvbnRlbnQiLCJkZWx0YSIsImNoYW5nZXMiLCJsYXN0T3AiLCJwYWNrT3AiLCJpbnNlcnQiLCJjb25jYXQiLCJyZXRhaW4iLCJjaGlsZCIsImdsb2JhbFNlYXJjaE1hcmtlclRpbWVzdGFtcCIsIkFycmF5U2VhcmNoTWFya2VyIiwibWFya2VyIiwidGltZXN0YW1wIiwib3ZlcndyaXRlTWFya2VyIiwiZmluZE1hcmtlciIsInlhcnJheSIsIl9zZWFyY2hNYXJrZXIiLCJwaW5kZXgiLCJyZWZyZXNoTWFya2VyVGltZXN0YW1wIiwiY291bnRhYmxlIiwic2VhcmNoTWFya2VyIiwicG0iLCJtYXJrUG9zaXRpb24iLCJ1cGRhdGVNYXJrZXJDaGFuZ2VzIiwiY2FsbFR5cGVPYnNlcnZlcnMiLCJjaGFuZ2VkVHlwZSIsIl9lSCIsIl9jb3B5IiwiZXJyb3IubWV0aG9kVW5pbXBsZW1lbnRlZCIsImNsb25lIiwiX3dyaXRlIiwiX2ZpcnN0IiwicGFyZW50U3VicyIsIm9ic2VydmUiLCJvYnNlcnZlRGVlcCIsInVub2JzZXJ2ZSIsInVub2JzZXJ2ZURlZXAiLCJ0eXBlTGlzdFNsaWNlIiwiY3MiLCJ0eXBlTGlzdFRvQXJyYXkiLCJ0eXBlTGlzdEZvckVhY2giLCJ0eXBlTGlzdE1hcCIsInJlc3VsdCIsInR5cGVMaXN0Q3JlYXRlSXRlcmF0b3IiLCJjdXJyZW50Q29udGVudCIsImN1cnJlbnRDb250ZW50SW5kZXgiLCJ0eXBlTGlzdEdldCIsInR5cGVMaXN0SW5zZXJ0R2VuZXJpY3NBZnRlciIsInJlZmVyZW5jZUl0ZW0iLCJvd25DbGllbnRJZCIsImpzb25Db250ZW50IiwicGFja0pzb25Db250ZW50IiwibGFzdElkIiwiQ29udGVudEFueSIsIkNvbnRlbnRCaW5hcnkiLCJDb250ZW50RG9jIiwiQ29udGVudFR5cGUiLCJsZW5ndGhFeGNlZWRlZCIsImVycm9yLmNyZWF0ZSIsInR5cGVMaXN0SW5zZXJ0R2VuZXJpY3MiLCJzdGFydEluZGV4IiwidHlwZUxpc3REZWxldGUiLCJzdGFydExlbmd0aCIsInR5cGVNYXBEZWxldGUiLCJ0eXBlTWFwU2V0IiwidHlwZU1hcEdldCIsInR5cGVNYXBHZXRBbGwiLCJ0eXBlTWFwSGFzIiwiY3JlYXRlTWFwSXRlcmF0b3IiLCJpdGVyYXRvci5pdGVyYXRvckZpbHRlciIsImVudHJ5IiwiWUFycmF5RXZlbnQiLCJfcHJlbGltQ29udGVudCIsInRvQXJyYXkiLCJtYXhNYXJrZXIiLCJjdXJyTWFya2VyIiwidHlwZUxpc3RQdXNoR2VuZXJpY3MiLCJZQXJyYXlSZWZJRCIsIllNYXBFdmVudCIsInltYXAiLCJrZXlzQ2hhbmdlZCIsIml0ZXJhdG9yLml0ZXJhdG9yTWFwIiwiY2xlYXIiLCJZTWFwUmVmSUQiLCJlcXVhbEF0dHJzIiwib2JqZWN0LmVxdWFsRmxhdCIsIkl0ZW1UZXh0TGlzdFBvc2l0aW9uIiwiY3VycmVudEF0dHJpYnV0ZXMiLCJmb3J3YXJkIiwiQ29udGVudEZvcm1hdCIsInVwZGF0ZUN1cnJlbnRBdHRyaWJ1dGVzIiwiZmluZE5leHRQb3NpdGlvbiIsImZpbmRQb3NpdGlvbiIsImluc2VydE5lZ2F0ZWRBdHRyaWJ1dGVzIiwiY3VyclBvcyIsIm5lZ2F0ZWRBdHRyaWJ1dGVzIiwibmV4dEZvcm1hdCIsImZvcm1hdCIsIm1pbmltaXplQXR0cmlidXRlQ2hhbmdlcyIsImF0dHJpYnV0ZXMiLCJpbnNlcnRBdHRyaWJ1dGVzIiwiY3VycmVudFZhbCIsImluc2VydFRleHQiLCJ0ZXh0IiwiQ29udGVudFN0cmluZyIsIkNvbnRlbnRFbWJlZCIsImdldExlbmd0aCIsImZvcm1hdFRleHQiLCJpdGVyYXRpb25Mb29wIiwiYXR0ciIsIm5ld2xpbmVzIiwiY2xlYW51cEZvcm1hdHRpbmdHYXAiLCJzdGFydEF0dHJpYnV0ZXMiLCJjdXJyQXR0cmlidXRlcyIsImVuZEF0dHJpYnV0ZXMiLCJtYXAuY29weSIsImNsZWFudXBzIiwicmVhY2hlZEVuZE9mQ3VyciIsImRlbGV0ZVRleHQiLCJzdGFydEF0dHJzIiwiWVRleHRFdmVudCIsInl0ZXh0IiwiY2hpbGRMaXN0Q2hhbmdlZCIsInN1YiIsIm9sZEF0dHJpYnV0ZXMiLCJkZWxldGVMZW4iLCJhZGRPcCIsIm9wIiwiY3VyVmFsIiwiX3BlbmRpbmciLCJhcHBseURlbHRhIiwidG9EZWx0YSIsImZvdW5kRm9ybWF0dGluZ0l0ZW0iLCJhZnRlckNsb2NrIiwiY2xlYW51cFlUZXh0Rm9ybWF0dGluZyIsImF0dHJzIiwiY2xlYW51cENvbnRleHRsZXNzRm9ybWF0dGluZ0dhcCIsInNhbml0aXplIiwiaW5zIiwicHJldlNuYXBzaG90IiwiY29tcHV0ZVlDaGFuZ2UiLCJvcHMiLCJwYWNrU3RyIiwiYWRkQXR0cmlidXRlcyIsImN1ciIsInVzZXIiLCJpbnNlcnRFbWJlZCIsImF0dHJpYnV0ZU5hbWUiLCJhdHRyaWJ1dGVWYWx1ZSIsImdldEF0dHJpYnV0ZXMiLCJZVGV4dFJlZklEIiwiWVhtbFRyZWVXYWxrZXIiLCJyb290IiwiX2ZpbHRlciIsIl9yb290IiwiX2N1cnJlbnROb2RlIiwiX2ZpcnN0Q2FsbCIsIllYbWxFbGVtZW50Iiwibm9kZU5hbWUiLCJxdWVyeVNlbGVjdG9yQWxsIiwiWVhtbEV2ZW50IiwieG1sIiwidG9ET00iLCJfZG9jdW1lbnQiLCJob29rcyIsImJpbmRpbmciLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJfY3JlYXRlQXNzb2NpYXRpb24iLCJ4bWxUeXBlIiwiaW5zZXJ0QWZ0ZXIiLCJyZWYiLCJyZWZJdGVtIiwicGMiLCJmaW5kSW5kZXgiLCJZWG1sRnJhZ21lbnRSZWZJRCIsIl9wcmVsaW1BdHRycyIsInByZXZTaWJsaW5nIiwic3RyaW5nQnVpbGRlciIsImtleXNMZW4iLCJ0b0xvY2FsZUxvd2VyQ2FzZSIsImhhc0F0dHJpYnV0ZSIsImRvbSIsInl4bWwiLCJZWG1sRWxlbWVudFJlZklEIiwiYXR0cmlidXRlc0NoYW5nZWQiLCJZWG1sSG9vayIsImhvb2tOYW1lIiwiaG9vayIsImNyZWF0ZURvbSIsIllYbWxIb29rUmVmSUQiLCJZWG1sVGV4dCIsIm5lc3RlZE5vZGVzIiwibm9kZSIsIllYbWxUZXh0UmVmSUQiLCJBYnN0cmFjdFN0cnVjdCIsImVuY29kaW5nUmVmIiwiaXNDb3VudGFibGUiLCJnZXRSZWYiLCJDb250ZW50RGVsZXRlZCIsIm1hcmtEZWxldGVkIiwiY3JlYXRlRG9jRnJvbU9wdHMiLCJDb250ZW50SlNPTiIsImZpcnN0Q2hhckNvZGUiLCJjaGFyQ29kZUF0IiwidHlwZVJlZnMiLCJyaWdodEl0ZW0iLCJyZWRvbmUiLCJpc01hcmtlZCIsImRvS2VlcCIsImRvRGVsZXRlIiwicGFyZW50SXRlbSIsImNvbmZsaWN0aW5nSXRlbXMiLCJpdGVtc0JlZm9yZU9yaWdpbiIsInBhcmVudEdDZCIsIm5ld1N0cnVjdCIsInJlcGxhY2VTdHJ1Y3QiLCJ5a2V5IiwiZmluZFJvb3RUeXBlS2V5IiwiY29udGVudFJlZnMiLCJnbG8iLCJnbG9iYWwiLCJjb25zdW1lIiwic2lnbmFsIiwicGlwZVRvIiwiV3JpdGFibGVTdHJlYW0iLCJHYW1lIiwiRXZlbnRUYXJnZXQiLCJfR2FtZV9ldmVudF93cml0ZXIiLCJUcmFuc2Zvcm1TdHJlYW0iLCJ3cml0YWJsZSIsImdldFdyaXRlciIsInJlYWRhYmxlIiwiaW5pdGlhbGl6ZV9ib2FyZCIsInRva2VuIiwicmFuZG9tVVVJRCIsIl9HYW1lX2luc3RhbmNlcyIsIl9HYW1lX3JlZ2lzdGVyX3Jlc291cmNlIiwic2V0X2RpbSIsInR5cGVkX21hcCIsImluZGljZXMiLCJpZHgiLCJzZXRUaW1lb3V0IiwiVVJMIiwiaGFzaCIsInN1YnRsZSIsImRpZ2VzdCIsImFycmF5QnVmZmVyIiwiYnRvYSIsImZyb21DaGFyQ29kZSIsInBhdGhuYW1lIiwiY2FjaGUiLCJjYWNoZXMiLCJvcGVuIiwicHV0IiwiUmVzcG9uc2UiLCJzZXR1cFdTIiwid3NjbGllbnQiLCJzaG91bGRDb25uZWN0Iiwid3MiLCJ3ZWJzb2NrZXQiLCJXZWJTb2NrZXQiLCJiaW5hcnlUeXBlIiwicGluZ1RpbWVvdXQiLCJjb25uZWN0aW5nIiwiY29ubmVjdGVkIiwib25tZXNzYWdlIiwibGFzdE1lc3NhZ2VSZWNlaXZlZCIsInRpbWUuZ2V0VW5peFRpbWUiLCJtZXNzYWdlIiwiY2xlYXJUaW1lb3V0Iiwic2VuZFBpbmciLCJtZXNzYWdlUmVjb25uZWN0VGltZW91dCIsIm9uY2xvc2UiLCJ1bnN1Y2Nlc3NmdWxSZWNvbm5lY3RzIiwibWF0aC5sb2cxMCIsInNlbmQiLCJvbmVycm9yIiwib25vcGVuIiwiV2Vic29ja2V0Q2xpZW50IiwiX2NoZWNrSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsb3NlIiwiY2xlYXJJbnRlcnZhbCIsImRpc2Nvbm5lY3QiLCJjb25uZWN0IiwiU3RhdHVzRW1pdHRlciIsIl9TdGF0dXNFbWl0dGVyX3ZhbHVlIiwiY3VycmVudCIsInNob3VsZF9lbWl0IiwiY29tcGxldGUiLCJQRUVSX0NPTkZJRyIsImljZVNlcnZlcnMiLCJ1cmxzIiwiU2lnbmFsZXIiLCJwZWVyX2lkIiwiYWxsb3dfY29ubmVjdGlvbnMiLCJzaWduYWxfdXJsIiwicGVlcnMiLCJzdGF0dXMiLCJfU2lnbmFsZXJfb25tZXNzYWdlIiwic2lnIiwiZGVzdGluYXRpb24iLCJwZWVyIiwiZGVzY3JpcHRpb24iLCJfU2lnbmFsZXJfaW5zdGFuY2VzIiwiX1NpZ25hbGVyX2luaXRfY29ubmVjdGlvbiIsInJlYWR5Rm9yT2ZmZXIiLCJtYWtpbmdfb2ZmZXIiLCJzaWduYWxpbmdTdGF0ZSIsImlzU2V0dGluZ1JlbW90ZUFuc3dlclBlbmRpbmciLCJvZmZlckNvbGxpc2lvbiIsImlnbm9yZV9vZmZlciIsInBvbGl0ZSIsInNldFJlbW90ZURlc2NyaXB0aW9uIiwic2V0TG9jYWxEZXNjcmlwdGlvbiIsIl9TaWduYWxlcl9zZW5kIiwidG8iLCJsb2NhbERlc2NyaXB0aW9uIiwiY2FuZGlkYXRlIiwiYWRkSWNlQ2FuZGlkYXRlIiwiZXJyIiwic29ja2V0IiwiaW5pdGlhdGUiLCJyZW1vdGVfaWQiLCJzaHV0ZG93biIsIldlYWtTZXQiLCJvdXRnb2luZyIsIlJUQ1BlZXJDb25uZWN0aW9uIiwib25pY2VjYW5kaWRhdGUiLCJvbm5lZ290aWF0aW9ubmVlZGVkIiwiaWNlQ29ubmVjdGlvblN0YXRlIiwibXNnIiwic3RyZWFtcyIsImRjIiwicmVhZF9zdHJlYW0iLCJ3cml0ZV9zdHJlYW0iLCJSZWFkYWJsZVN0cmVhbSIsImNvbnRyb2xsZXIiLCJlbnF1ZXVlIiwiYnVmZmVyZWRBbW91bnQiLCJjYW5jZWwiLCJyZXN1bWUiLCJsYWJlbCIsIm9uYnVmZmVyZWRhbW91bnRsb3ciLCJjaHVuayIsInJlYWR5U3RhdGUiLCJidWZmZXJlZEFtb3VudExvd1RocmVzaG9sZCIsImFib3J0IiwiQ291bnRRdWV1aW5nU3RyYXRlZ3kiLCJoaWdoV2F0ZXJNYXJrIiwicmVxdWVzdCIsImNoYW5uZWwiLCJnZXRSZWFkZXIiLCJoZWFkZXIiLCJyZWxlYXNlTG9jayIsImJsb2IiLCJCbG9iIiwiY29sbGVjdF9ibG9iIiwicmVzcG9uc2UiLCJyZXNvdXJjZSIsIm1zZ19zaXplIiwiYnVmZmVyX2NodW5rcyIsInByZXZlbnRDbG9zZSIsIkdhbWVQZWVyIiwiX0dhbWVQZWVyX2V2ZW50X3dyaXRlciIsIm9uZGF0YWNoYW5uZWwiLCJjcmVhdGVEYXRhQ2hhbm5lbCIsIm5lZ290aWF0ZWQiLCJwaXBlVGhyb3VnaCIsInRyYW5zZm9ybSIsIm9sZF9jbG9zZSIsImJpbmQiLCJ3cml0ZV9ldmVudCIsImRhdGFjaGFubmVsIiwicHJvdG9jb2wiLCJ0aGVuIiwiaW5pdCIsIkNsaWVudCIsImdhbWVfaWQiLCJnYW1lIiwiX0NsaWVudF9nYW1lIiwiX0NsaWVudF9wZWVyIiwiX0NsaWVudF9nYW1lX2lkIiwiX0NsaWVudF9zaWduYWxlciIsImZvcndhcmRfdXBkYXRlcyIsInNlcnZpY2VXb3JrZXIiLCJwb3N0TWVzc2FnZSIsIlNlcnZlciIsIl9TZXJ2ZXJfZ2FtZSIsIl9TZXJ2ZXJfYWJvcnQiLCJfU2VydmVyX2FkZF9jbGllbnQiLCJncCIsIl9TZXJ2ZXJfaW5zdGFuY2VzIiwiX1NlcnZlcl9nZXRfcmVzb3VyY2UiLCJzY3RwIiwibWF4TWVzc2FnZVNpemUiLCJ0cnlfY2xvc2UiLCJzaWduYWxlciIsIkFib3J0Q29udHJvbGxlciIsInJlc3AiLCJXaXRoVG9vbHRpcCIsIm1vdXNleCIsIm1vdXNleSIsIl9XaXRoVG9vbHRpcF9tb3VzZW1vdmUiLCJwYWdlWCIsInBhZ2VZIiwidG9wIiwiSG9zdFRvZ2dsZSIsInRvZ2dsZSIsImNoZWNrZWQiLCJodW1hbiIsIkNsaWVudFN0YXR1cyIsIkRyYWdBbmREcm9wTWl4aW4iLCJzdXBlckNsYXNzIiwiRHJhZ0FuZERyb3BwZXIiLCJfRHJhZ0FuZERyb3BwZXJfZHJhZ292ZXIiLCJkcmFnX2xvY2F0aW9uIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJfRHJhZ0FuZERyb3BwZXJfZHJvcCIsIkRyb3BMYXllciIsIl9Ecm9wTGF5ZXJfbmV3X3Rva2VuX2Ryb3AiLCJncmlkIiwic25hcCIsInZpc2liaWxpdHkiLCJfQ2FudmFzX2dyaWQiLCJzY3JlZW5fZGltIiwiZ3JpZF9kaW0iLCJweF93aWR0aCIsInB4X2hlaWdodCIsInBhZGRpbmciLCJmb250U2l6ZSIsImJhY2tncm91bmRJbWFnZSIsInVuc2FmZUNTUyIsIkdSSURfU0laRSIsInRpbWVvdXQiLCJwcm9tIiwidGltZSIsInJhY2UiLCJfciIsInJlaiIsIkFwcCIsImhvc3RfcGVuZGluZyIsImNsaWVudF9wZW5kaW5nIiwiX0FwcF91cGRhdGVEaW0iLCJwYXJzZUludCIsIl9BcHBfbmV3X2xvY2FsIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsImhyZWYiLCJfQXBwX3VwZGF0ZSIsIl9BcHBfaG9zdCIsInNlcnZlciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsIl9BcHBfdW5ob3N0IiwicmVwbGFjZVN0YXRlIiwiZGlzY29ubmVjdGVkIiwib3ZlcmxheSIsImlmRGVmaW5lZCIsImFkZF90b2tlbiIsInNldF9iZyIsImNoYW5nZWRQcm9wZXJ0aWVzIiwidGl0bGUiLCJjYW52YXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJQUFoiLCJzY3JvbGxfcG9zIiwiZGVzaXJlZF9zdGF0ZSIsInZsb2MiLCJ2ZGltIiwiY2RpbSIsInNtb290aCIsIl9QUFpfcmVzaXplX29ic2VydmVyIiwiUmVzaXplT2JzZXJ2ZXIiLCJjb250ZW50UmVjdCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJfUFBaX2luc3RhbmNlcyIsIl9QUFpfem9vbV90b19maXQiLCJsb29wIiwicHJ2IiwidHMiLCJuZXh0X2ZyYW1lIiwiZWxhcHNlZCIsImRlbHRhX3NjYWxlIiwic2Nyb2xsVG8iLCJ6b29tIiwiaW5jIiwic2Nyb2xsTGVmdCIsInNjcm9sbFRvcCIsIndoZWVsIiwibXVsdGlwbGllciIsImRlbHRhTW9kZSIsIldoZWVsRXZlbnQiLCJET01fREVMVEFfTElORSIsImRlbHRhWSIsIl9QUFpfa2V5Ym9hcmRfem9vbSIsIl9QUFpfZ2VzdHVyZSIsInByZXZfc2NhbGUiLCJjaGFuZ2UiLCJzY2FsZSIsInRlbXBsYXRlIiwiY2xvbmVOb2RlIiwiY29udGFpbmVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJvbnNsb3RjaGFuZ2UiLCJjbGllbnRfY29vcmQiLCJkaXZfcCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInJlZ2lzdGVyIiwiYm9keSJdLCJtYXBwaW5ncyI6IkFBQ0EsTUFBTUEsRUFBWSxLQUNKQyxTQUFTQyxnQkFDakJDLE1BQU1DLFlBQVksZUFBZ0IsR0FBR0MsT0FBT0Msa0JDbUQzQyxTQUFTQyxFQUFXQyxFQUFZQyxFQUFRQyxFQUFLQyxHQUNoRCxJQUEySEMsRUFBdkhDLEVBQUlDLFVBQVVDLE9BQVFDLEVBQUlILEVBQUksRUFBSUosRUFBa0IsT0FBVEUsRUFBZ0JBLEVBQU9NLE9BQU9DLHlCQUF5QlQsRUFBUUMsR0FBT0MsRUFDckgsR0FBdUIsaUJBQVpRLFNBQW9ELG1CQUFyQkEsUUFBUUMsU0FBeUJKLEVBQUlHLFFBQVFDLFNBQVNaLEVBQVlDLEVBQVFDLEVBQUtDLFFBQ3BILElBQUssSUFBSVUsRUFBSWIsRUFBV08sT0FBUyxFQUFHTSxHQUFLLEVBQUdBLEtBQVNULEVBQUlKLEVBQVdhLE1BQUlMLEdBQUtILEVBQUksRUFBSUQsRUFBRUksR0FBS0gsRUFBSSxFQUFJRCxFQUFFSCxFQUFRQyxFQUFLTSxHQUFLSixFQUFFSCxFQUFRQyxLQUFTTSxHQUNoSixPQUFPSCxFQUFJLEdBQUtHLEdBQUtDLE9BQU9LLGVBQWViLEVBQVFDLEVBQUtNLEdBQUlBLEVBNkt6RCxTQUFTTyxFQUF1QkMsRUFBVUMsRUFBT0MsRUFBTUMsR0FDMUQsR0FBYSxNQUFURCxJQUFpQkMsRUFBRyxNQUFNLElBQUlDLFVBQVUsaURBQzVDLEdBQXFC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
